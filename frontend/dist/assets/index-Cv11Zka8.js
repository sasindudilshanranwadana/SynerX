var lk=Object.defineProperty;var ck=(t,e,n)=>e in t?lk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ie=(t,e,n)=>ck(t,typeof e!="symbol"?e+"":e,n);function uk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ib(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Bb={exports:{}},Sp={},zb={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),hk=Symbol.for("react.portal"),dk=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),pk=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),yk=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),xk=Symbol.for("react.memo"),bk=Symbol.for("react.lazy"),iv=Symbol.iterator;function wk(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ub=Object.assign,Wb={};function fc(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||$b}fc.prototype.isReactComponent={};fc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hb(){}Hb.prototype=fc.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||$b}var ty=ey.prototype=new Hb;ty.constructor=ey;Ub(ty,fc.prototype);ty.isPureReactComponent=!0;var sv=Array.isArray,qb=Object.prototype.hasOwnProperty,ny={current:null},Vb={key:!0,ref:!0,__self:!0,__source:!0};function Yb(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)qb.call(e,r)&&!Vb.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ah,type:t,key:s,ref:a,props:i,_owner:ny.current}}function _k(t,e){return{$$typeof:Ah,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah}function Sk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var av=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sk(""+t.key):e.toString(36)}function mf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ah:case hk:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+sm(a,0):r,sv(i)?(n="",t!=null&&(n=t.replace(av,"$&/")+"/"),mf(i,e,n,"",function(c){return c})):i!=null&&(ry(i)&&(i=_k(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(av,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",sv(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+sm(s,o);a+=mf(s,e,n,l,i)}else if(l=wk(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+sm(s,o++),a+=mf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return mf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},yf={transition:null},Nk={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:yf,ReactCurrentOwner:ny};function Gb(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=fc;bt.Fragment=dk;bt.Profiler=pk;bt.PureComponent=ey;bt.StrictMode=fk;bt.Suspense=vk;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;bt.act=Gb;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ub({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qb.call(e,l)&&!Vb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ah,type:t.type,key:i,ref:s,props:r,_owner:a}};bt.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gk,_context:t},t.Consumer=t};bt.createElement=Yb;bt.createFactory=function(t){var e=Yb.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:yk,render:t}};bt.isValidElement=ry;bt.lazy=function(t){return{$$typeof:bk,_payload:{_status:-1,_result:t},_init:kk}};bt.memo=function(t,e){return{$$typeof:xk,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=yf.transition;yf.transition={};try{t()}finally{yf.transition=e}};bt.unstable_act=Gb;bt.useCallback=function(t,e){return yr.current.useCallback(t,e)};bt.useContext=function(t){return yr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return yr.current.useEffect(t,e)};bt.useId=function(){return yr.current.useId()};bt.useImperativeHandle=function(t,e,n){return yr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return yr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return yr.current.useReducer(t,e,n)};bt.useRef=function(t){return yr.current.useRef(t)};bt.useState=function(t){return yr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return yr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return yr.current.useTransition()};bt.version="18.3.1";zb.exports=bt;var Be=zb.exports;const _e=Z1(Be),Pk=uk({__proto__:null,default:_e},[Be]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=Be,Ck=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Ek=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tk={key:!0,ref:!0,__self:!0,__source:!0};function Jb(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Lk.call(e,r)&&!Tk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ck,type:t,key:s,ref:a,props:i,_owner:Ek.current}}Sp.Fragment=jk;Sp.jsx=Jb;Sp.jsxs=Jb;Bb.exports=Sp;var m=Bb.exports,Kb={exports:{}},Kr={},Xb={exports:{}},Qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,V){var re=H.length;H.push(V);e:for(;0<re;){var Z=re-1>>>1,C=H[Z];if(0<i(C,V))H[Z]=V,H[re]=C,re=Z;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var V=H[0],re=H.pop();if(re!==V){H[0]=re;e:for(var Z=0,C=H.length,D=C>>>1;Z<D;){var K=2*(Z+1)-1,B=H[K],U=K+1,ie=H[U];if(0>i(B,re))U<C&&0>i(ie,B)?(H[Z]=ie,H[U]=re,Z=U):(H[Z]=B,H[K]=re,Z=K);else if(U<C&&0>i(ie,re))H[Z]=ie,H[U]=re,Z=U;else break e}}return V}function i(H,V){var re=H.sortIndex-V.sortIndex;return re!==0?re:H.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,p=3,f=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=H)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function P(H){if(w=!1,S(H),!v)if(n(l)!==null)v=!0,G(O);else{var V=n(c);V!==null&&W(P,V.startTime-H)}}function O(H,V){v=!1,w&&(w=!1,y(N),N=-1),f=!0;var re=p;try{for(S(V),h=n(l);h!==null&&(!(h.expirationTime>V)||H&&!j());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var C=Z(h.expirationTime<=V);V=t.unstable_now(),typeof C=="function"?h.callback=C:h===n(l)&&r(l),S(V)}else r(l);h=n(l)}if(h!==null)var D=!0;else{var K=n(c);K!==null&&W(P,K.startTime-V),D=!1}return D}finally{h=null,p=re,f=!1}}var I=!1,T=null,N=-1,E=5,M=-1;function j(){return!(t.unstable_now()-M<E)}function A(){if(T!==null){var H=t.unstable_now();M=H;var V=!0;try{V=T(!0,H)}finally{V?Y():(I=!1,T=null)}}else I=!1}var Y;if(typeof b=="function")Y=function(){b(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=A,Y=function(){ne.postMessage(null)}}else Y=function(){k(A,0)};function G(H){T=H,I||(I=!0,Y())}function W(H,V){N=k(function(){H(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,G(O))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var re=p;p=V;try{return H()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=p;p=H;try{return V()}finally{p=re}},t.unstable_scheduleCallback=function(H,V,re){var Z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=re+C,H={id:u++,callback:V,priorityLevel:H,startTime:re,expirationTime:C,sortIndex:-1},re>Z?(H.sortIndex=re,e(c,H),n(l)===null&&H===n(c)&&(w?(y(N),N=-1):w=!0,W(P,re-Z))):(H.sortIndex=C,e(l,H),v||f||(v=!0,G(O))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var V=p;return function(){var re=p;p=V;try{return H.apply(this,arguments)}finally{p=re}}}})(Qb);Xb.exports=Qb;var Ok=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=Be,Jr=Ok;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zb=new Set,Ju={};function Uo(t,e){nc(t,e),nc(t+"Capture",e)}function nc(t,e){for(Ju[t]=e,t=0;t<e.length;t++)Zb.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=Object.prototype.hasOwnProperty,Rk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},lv={};function Dk(t){return d0.call(lv,t)?!0:d0.call(ov,t)?!1:Rk.test(t)?lv[t]=!0:(ov[t]=!0,!1)}function Fk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ik(t,e,n,r){if(e===null||typeof e>"u"||Fk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,sy);Gn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,sy);Gn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,sy);Gn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ay(t,e,n,r){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ik(e,n,i,r)&&(n=null),r||i===null?Dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),nw=Symbol.for("react.offscreen"),cv=Symbol.iterator;function Xc(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,am;function mu(t){if(am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);am=e&&e[1]||""}return`
`+am+t}var om=!1;function lm(t,e){if(!t||om)return"";om=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{om=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mu(t):""}function Bk(t){switch(t.tag){case 5:return mu(t.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function m0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rl:return"Fragment";case Ml:return"Portal";case f0:return"Profiler";case oy:return"StrictMode";case p0:return"Suspense";case g0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tw:return(t.displayName||"Context")+".Consumer";case ew:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cy:return e=t.displayName||null,e!==null?e:m0(t.type)||"Memo";case la:e=t._payload,t=t._init;try{return m0(t(e))}catch{}}return null}function zk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m0(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ma(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $k(t){var e=rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ld(t){t._valueTracker||(t._valueTracker=$k(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function y0(t,e){var n=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ma(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sw(t,e){e=e.checked,e!=null&&ay(t,"checked",e,!1)}function v0(t,e){sw(t,e);var n=Ma(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x0(t,e.type,n):e.hasOwnProperty("defaultValue")&&x0(t,e.type,Ma(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x0(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yu=Array.isArray;function Vl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ma(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(yu(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ma(n)}}function aw(t,e){var n=Ma(e.value),r=Ma(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ow(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ow(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uk=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(t){Uk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Au[e]=Au[t]})});function cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Au.hasOwnProperty(t)&&Au[t]?(""+e).trim():e+"px"}function uw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Wk=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(t,e){if(e){if(Wk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function S0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var N0=null,Yl=null,Gl=null;function pv(t){if(t=Lh(t)){if(typeof N0!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=Cp(e),N0(t.stateNode,t.type,e))}}function hw(t){Yl?Gl?Gl.push(t):Gl=[t]:Yl=t}function dw(){if(Yl){var t=Yl,e=Gl;if(Gl=Yl=null,pv(t),e)for(t=0;t<e.length;t++)pv(e[t])}}function fw(t,e){return t(e)}function pw(){}var cm=!1;function gw(t,e,n){if(cm)return t(e,n);cm=!0;try{return fw(t,e,n)}finally{cm=!1,(Yl!==null||Gl!==null)&&(pw(),dw())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Cp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var P0=!1;if(Fs)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){P0=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{P0=!1}function Hk(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cu=!1,$f=null,Uf=!1,A0=null,qk={onError:function(t){Cu=!0,$f=t}};function Vk(t,e,n,r,i,s,a,o,l){Cu=!1,$f=null,Hk.apply(qk,arguments)}function Yk(t,e,n,r,i,s,a,o,l){if(Vk.apply(this,arguments),Cu){if(Cu){var c=$f;Cu=!1,$f=null}else throw Error(Te(198));Uf||(Uf=!0,A0=c)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gv(t){if(Wo(t)!==t)throw Error(Te(188))}function Gk(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gv(i),t;if(s===r)return gv(i),e;s=s.sibling}throw Error(Te(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function yw(t){return t=Gk(t),t!==null?vw(t):null}function vw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vw(t);if(e!==null)return e;t=t.sibling}return null}var xw=Jr.unstable_scheduleCallback,mv=Jr.unstable_cancelCallback,Jk=Jr.unstable_shouldYield,Kk=Jr.unstable_requestPaint,gn=Jr.unstable_now,Xk=Jr.unstable_getCurrentPriorityLevel,hy=Jr.unstable_ImmediatePriority,bw=Jr.unstable_UserBlockingPriority,Wf=Jr.unstable_NormalPriority,Qk=Jr.unstable_LowPriority,ww=Jr.unstable_IdlePriority,kp=null,as=null;function Zk(t){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var Oi=Math.clz32?Math.clz32:n6,e6=Math.log,t6=Math.LN2;function n6(t){return t>>>=0,t===0?32:31-(e6(t)/t6|0)|0}var Td=64,Od=4194304;function vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=vu(o):(s&=a,s!==0&&(r=vu(s)))}else a=n&~i,a!==0?r=vu(a):s!==0&&(r=vu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Oi(e),i=1<<n,r|=t[n],e&=~i;return r}function r6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Oi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=r6(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function C0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _w(){var t=Td;return Td<<=1,!(Td&4194240)&&(Td=64),t}function um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ch(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oi(e),t[e]=n}function s6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Oi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Rt=0;function Sw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kw,fy,Nw,Pw,Aw,j0=!1,Md=[],Sa=null,ka=null,Na=null,Qu=new Map,Zu=new Map,ha=[],a6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(t,e){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function Zc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lh(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o6(t,e,n,r,i){switch(e){case"focusin":return Sa=Zc(Sa,t,e,n,r,i),!0;case"dragenter":return ka=Zc(ka,t,e,n,r,i),!0;case"mouseover":return Na=Zc(Na,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qu.set(s,Zc(Qu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zu.set(s,Zc(Zu.get(s)||null,t,e,n,r,i)),!0}return!1}function Cw(t){var e=bo(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=mw(n),e!==null){t.blockedOn=e,Aw(t.priority,function(){Nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);k0=r,n.target.dispatchEvent(r),k0=null}else return e=Lh(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function vv(t,e,n){vf(t)&&n.delete(e)}function l6(){j0=!1,Sa!==null&&vf(Sa)&&(Sa=null),ka!==null&&vf(ka)&&(ka=null),Na!==null&&vf(Na)&&(Na=null),Qu.forEach(vv),Zu.forEach(vv)}function eu(t,e){t.blockedOn===e&&(t.blockedOn=null,j0||(j0=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,l6)))}function eh(t){function e(i){return eu(i,t)}if(0<Md.length){eu(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sa!==null&&eu(Sa,t),ka!==null&&eu(ka,t),Na!==null&&eu(Na,t),Qu.forEach(e),Zu.forEach(e),n=0;n<ha.length;n++)r=ha[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)Cw(n),n.blockedOn===null&&ha.shift()}var Jl=$s.ReactCurrentBatchConfig,qf=!0;function c6(t,e,n,r){var i=Rt,s=Jl.transition;Jl.transition=null;try{Rt=1,py(t,e,n,r)}finally{Rt=i,Jl.transition=s}}function u6(t,e,n,r){var i=Rt,s=Jl.transition;Jl.transition=null;try{Rt=4,py(t,e,n,r)}finally{Rt=i,Jl.transition=s}}function py(t,e,n,r){if(qf){var i=L0(t,e,n,r);if(i===null)bm(t,e,r,Vf,n),yv(t,r);else if(o6(i,t,e,n,r))r.stopPropagation();else if(yv(t,r),e&4&&-1<a6.indexOf(t)){for(;i!==null;){var s=Lh(i);if(s!==null&&kw(s),s=L0(t,e,n,r),s===null&&bm(t,e,r,Vf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bm(t,e,r,null,n)}}var Vf=null;function L0(t,e,n,r){if(Vf=null,t=uy(r),t=bo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vf=t,null}function jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xk()){case hy:return 1;case bw:return 4;case Wf:case Qk:return 16;case ww:return 536870912;default:return 16}default:return 16}}var ga=null,gy=null,xf=null;function Lw(){if(xf)return xf;var t,e=gy,n=e.length,r,i="value"in ga?ga.value:ga.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return xf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rd(){return!0}function xv(){return!1}function Xr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rd:xv,this.isPropagationStopped=xv,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Xr(pc),jh=sn({},pc,{view:0,detail:0}),h6=Xr(jh),hm,dm,tu,Np=sn({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tu&&(tu&&t.type==="mousemove"?(hm=t.screenX-tu.screenX,dm=t.screenY-tu.screenY):dm=hm=0,tu=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:dm}}),bv=Xr(Np),d6=sn({},Np,{dataTransfer:0}),f6=Xr(d6),p6=sn({},jh,{relatedTarget:0}),fm=Xr(p6),g6=sn({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),m6=Xr(g6),y6=sn({},pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v6=Xr(y6),x6=sn({},pc,{data:0}),wv=Xr(x6),b6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_6[t])?!!e[t]:!1}function yy(){return S6}var k6=sn({},jh,{key:function(t){if(t.key){var e=b6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N6=Xr(k6),P6=sn({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=Xr(P6),A6=sn({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),C6=Xr(A6),j6=sn({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),L6=Xr(j6),E6=sn({},Np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T6=Xr(E6),O6=[9,13,27,32],vy=Fs&&"CompositionEvent"in window,ju=null;Fs&&"documentMode"in document&&(ju=document.documentMode);var M6=Fs&&"TextEvent"in window&&!ju,Ew=Fs&&(!vy||ju&&8<ju&&11>=ju),Sv=" ",kv=!1;function Tw(t,e){switch(t){case"keyup":return O6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dl=!1;function R6(t,e){switch(t){case"compositionend":return Ow(e);case"keypress":return e.which!==32?null:(kv=!0,Sv);case"textInput":return t=e.data,t===Sv&&kv?null:t;default:return null}}function D6(t,e){if(Dl)return t==="compositionend"||!vy&&Tw(t,e)?(t=Lw(),xf=gy=ga=null,Dl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var F6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F6[t.type]:e==="textarea"}function Mw(t,e,n,r){hw(r),e=Yf(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lu=null,th=null;function I6(t){qw(t,0)}function Pp(t){var e=Bl(t);if(iw(e))return t}function B6(t,e){if(t==="change")return e}var Rw=!1;if(Fs){var pm;if(Fs){var gm="oninput"in document;if(!gm){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),gm=typeof Pv.oninput=="function"}pm=gm}else pm=!1;Rw=pm&&(!document.documentMode||9<document.documentMode)}function Av(){Lu&&(Lu.detachEvent("onpropertychange",Dw),th=Lu=null)}function Dw(t){if(t.propertyName==="value"&&Pp(th)){var e=[];Mw(e,th,t,uy(t)),gw(I6,e)}}function z6(t,e,n){t==="focusin"?(Av(),Lu=e,th=n,Lu.attachEvent("onpropertychange",Dw)):t==="focusout"&&Av()}function $6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pp(th)}function U6(t,e){if(t==="click")return Pp(e)}function W6(t,e){if(t==="input"||t==="change")return Pp(e)}function H6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:H6;function nh(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d0.call(e,i)||!Di(t[i],e[i]))return!1}return!0}function Cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jv(t,e){var n=Cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cv(n)}}function Fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Iw(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q6(t){var e=Iw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&xy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jv(n,s);var a=jv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V6=Fs&&"documentMode"in document&&11>=document.documentMode,Fl=null,E0=null,Eu=null,T0=!1;function Lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||Fl==null||Fl!==zf(r)||(r=Fl,"selectionStart"in r&&xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&nh(Eu,r)||(Eu=r,r=Yf(E0,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fl)))}function Dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Il={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},mm={},Bw={};Fs&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Ap(t){if(mm[t])return mm[t];if(!Il[t])return t;var e=Il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bw)return mm[t]=e[n];return t}var zw=Ap("animationend"),$w=Ap("animationiteration"),Uw=Ap("animationstart"),Ww=Ap("transitionend"),Hw=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(t,e){Hw.set(t,e),Uo(e,[t])}for(var ym=0;ym<Ev.length;ym++){var vm=Ev[ym],Y6=vm.toLowerCase(),G6=vm[0].toUpperCase()+vm.slice(1);za(Y6,"on"+G6)}za(zw,"onAnimationEnd");za($w,"onAnimationIteration");za(Uw,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(Ww,"onTransitionEnd");nc("onMouseEnter",["mouseout","mouseover"]);nc("onMouseLeave",["mouseout","mouseover"]);nc("onPointerEnter",["pointerout","pointerover"]);nc("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J6=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function Tv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yk(r,e,void 0,t),t.currentTarget=null}function qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Tv(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Tv(i,o,c),s=l}}}if(Uf)throw t=A0,Uf=!1,A0=null,t}function Vt(t,e){var n=e[F0];n===void 0&&(n=e[F0]=new Set);var r=t+"__bubble";n.has(r)||(Vw(e,t,2,!1),n.add(r))}function xm(t,e,n){var r=0;e&&(r|=4),Vw(n,t,r,e)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function rh(t){if(!t[Fd]){t[Fd]=!0,Zb.forEach(function(n){n!=="selectionchange"&&(J6.has(n)||xm(n,!1,t),xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fd]||(e[Fd]=!0,xm("selectionchange",!1,e))}}function Vw(t,e,n,r){switch(jw(e)){case 1:var i=c6;break;case 4:i=u6;break;default:i=py}n=i.bind(null,e,n,t),i=void 0,!P0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=bo(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}gw(function(){var c=s,u=uy(n),h=[];e:{var p=Hw.get(t);if(p!==void 0){var f=my,v=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":f=N6;break;case"focusin":v="focus",f=fm;break;case"focusout":v="blur",f=fm;break;case"beforeblur":case"afterblur":f=fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=f6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=C6;break;case zw:case $w:case Uw:f=m6;break;case Ww:f=L6;break;case"scroll":f=h6;break;case"wheel":f=T6;break;case"copy":case"cut":case"paste":f=v6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_v}var w=(e&4)!==0,k=!w&&t==="scroll",y=w?p!==null?p+"Capture":null:p;w=[];for(var b=c,S;b!==null;){S=b;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,y!==null&&(P=Xu(b,y),P!=null&&w.push(ih(b,P,S)))),k)break;b=b.return}0<w.length&&(p=new f(p,v,null,n,u),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==k0&&(v=n.relatedTarget||n.fromElement)&&(bo(v)||v[Is]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=c,v=v?bo(v):null,v!==null&&(k=Wo(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(w=bv,P="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=_v,P="onPointerLeave",y="onPointerEnter",b="pointer"),k=f==null?p:Bl(f),S=v==null?p:Bl(v),p=new w(P,b+"leave",f,n,u),p.target=k,p.relatedTarget=S,P=null,bo(u)===c&&(w=new w(y,b+"enter",v,n,u),w.target=S,w.relatedTarget=k,P=w),k=P,f&&v)t:{for(w=f,y=v,b=0,S=w;S;S=_l(S))b++;for(S=0,P=y;P;P=_l(P))S++;for(;0<b-S;)w=_l(w),b--;for(;0<S-b;)y=_l(y),S--;for(;b--;){if(w===y||y!==null&&w===y.alternate)break t;w=_l(w),y=_l(y)}w=null}else w=null;f!==null&&Ov(h,p,f,w,!1),v!==null&&k!==null&&Ov(h,k,v,w,!0)}}e:{if(p=c?Bl(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var O=B6;else if(Nv(p))if(Rw)O=W6;else{O=$6;var I=z6}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=U6);if(O&&(O=O(t,c))){Mw(h,O,n,u);break e}I&&I(t,p,c),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&x0(p,"number",p.value)}switch(I=c?Bl(c):window,t){case"focusin":(Nv(I)||I.contentEditable==="true")&&(Fl=I,E0=c,Eu=null);break;case"focusout":Eu=E0=Fl=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,Lv(h,n,u);break;case"selectionchange":if(V6)break;case"keydown":case"keyup":Lv(h,n,u)}var T;if(vy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Dl?Tw(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Ew&&n.locale!=="ko"&&(Dl||N!=="onCompositionStart"?N==="onCompositionEnd"&&Dl&&(T=Lw()):(ga=u,gy="value"in ga?ga.value:ga.textContent,Dl=!0)),I=Yf(c,N),0<I.length&&(N=new wv(N,t,null,n,u),h.push({event:N,listeners:I}),T?N.data=T:(T=Ow(n),T!==null&&(N.data=T)))),(T=M6?R6(t,n):D6(t,n))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(u=new wv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}qw(h,e)})}function ih(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xu(t,n),s!=null&&r.unshift(ih(t,s,i)),s=Xu(t,e),s!=null&&r.push(ih(t,s,i))),t=t.return}return r}function _l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ov(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Xu(n,s),l!=null&&a.unshift(ih(n,l,o))):i||(l=Xu(n,s),l!=null&&a.push(ih(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var K6=/\r\n?/g,X6=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace(K6,`
`).replace(X6,"")}function Id(t,e,n){if(e=Mv(e),Mv(t)!==e&&n)throw Error(Te(425))}function Gf(){}var O0=null,M0=null;function R0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D0=typeof setTimeout=="function"?setTimeout:void 0,Q6=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,Z6=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(eN)}:D0;function eN(t){setTimeout(function(){throw t})}function wm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eh(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gc=Math.random().toString(36).slice(2),rs="__reactFiber$"+gc,sh="__reactProps$"+gc,Is="__reactContainer$"+gc,F0="__reactEvents$"+gc,tN="__reactListeners$"+gc,nN="__reactHandles$"+gc;function bo(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Is]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dv(t);t!==null;){if(n=t[rs])return n;t=Dv(t)}return e}t=n,n=t.parentNode}return null}function Lh(t){return t=t[rs]||t[Is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function Cp(t){return t[sh]||null}var I0=[],zl=-1;function $a(t){return{current:t}}function Gt(t){0>zl||(t.current=I0[zl],I0[zl]=null,zl--)}function qt(t,e){zl++,I0[zl]=t.current,t.current=e}var Ra={},cr=$a(Ra),Tr=$a(!1),Mo=Ra;function rc(t,e){var n=t.type.contextTypes;if(!n)return Ra;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function Jf(){Gt(Tr),Gt(cr)}function Fv(t,e,n){if(cr.current!==Ra)throw Error(Te(168));qt(cr,e),qt(Tr,n)}function Yw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Te(108,zk(t)||"Unknown",i));return sn({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ra,Mo=cr.current,qt(cr,t),qt(Tr,Tr.current),!0}function Iv(t,e,n){var r=t.stateNode;if(!r)throw Error(Te(169));n?(t=Yw(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,Gt(Tr),Gt(cr),qt(cr,t)):Gt(Tr),qt(Tr,n)}var Cs=null,jp=!1,_m=!1;function Gw(t){Cs===null?Cs=[t]:Cs.push(t)}function rN(t){jp=!0,Gw(t)}function Ua(){if(!_m&&Cs!==null){_m=!0;var t=0,e=Rt;try{var n=Cs;for(Rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cs=null,jp=!1}catch(i){throw Cs!==null&&(Cs=Cs.slice(t+1)),xw(hy,Ua),i}finally{Rt=e,_m=!1}}return null}var $l=[],Ul=0,Xf=null,Qf=0,li=[],ci=0,Ro=null,Es=1,Ts="";function ho(t,e){$l[Ul++]=Qf,$l[Ul++]=Xf,Xf=t,Qf=e}function Jw(t,e,n){li[ci++]=Es,li[ci++]=Ts,li[ci++]=Ro,Ro=t;var r=Es;t=Ts;var i=32-Oi(r)-1;r&=~(1<<i),n+=1;var s=32-Oi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Es=1<<32-Oi(e)+i|n<<i|r,Ts=s+t}else Es=1<<s|n<<i|r,Ts=t}function by(t){t.return!==null&&(ho(t,1),Jw(t,1,0))}function wy(t){for(;t===Xf;)Xf=$l[--Ul],$l[Ul]=null,Qf=$l[--Ul],$l[Ul]=null;for(;t===Ro;)Ro=li[--ci],li[ci]=null,Ts=li[--ci],li[ci]=null,Es=li[--ci],li[ci]=null}var Gr=null,Vr=null,Qt=!1,Ei=null;function Kw(t,e){var n=ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,Vr=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:Es,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gr=t,Vr=null,!0):!1;default:return!1}}function B0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function z0(t){if(Qt){var e=Vr;if(e){var n=e;if(!Bv(t,e)){if(B0(t))throw Error(Te(418));e=Pa(n.nextSibling);var r=Gr;e&&Bv(t,e)?Kw(r,n):(t.flags=t.flags&-4097|2,Qt=!1,Gr=t)}}else{if(B0(t))throw Error(Te(418));t.flags=t.flags&-4097|2,Qt=!1,Gr=t}}}function zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function Bd(t){if(t!==Gr)return!1;if(!Qt)return zv(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R0(t.type,t.memoizedProps)),e&&(e=Vr)){if(B0(t))throw Xw(),Error(Te(418));for(;e;)Kw(t,e),e=Pa(e.nextSibling)}if(zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vr=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Gr?Pa(t.stateNode.nextSibling):null;return!0}function Xw(){for(var t=Vr;t;)t=Pa(t.nextSibling)}function ic(){Vr=Gr=null,Qt=!1}function _y(t){Ei===null?Ei=[t]:Ei.push(t)}var iN=$s.ReactCurrentBatchConfig;function nu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $v(t){var e=t._init;return e(t._payload)}function Qw(t){function e(y,b){if(t){var S=y.deletions;S===null?(y.deletions=[b],y.flags|=16):S.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=La(y,b),y.index=0,y.sibling=null,y}function s(y,b,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<b?(y.flags|=2,b):S):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,S,P){return b===null||b.tag!==6?(b=jm(S,y.mode,P),b.return=y,b):(b=i(b,S),b.return=y,b)}function l(y,b,S,P){var O=S.type;return O===Rl?u(y,b,S.props.children,P,S.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===la&&$v(O)===b.type)?(P=i(b,S.props),P.ref=nu(y,b,S),P.return=y,P):(P=Af(S.type,S.key,S.props,null,y.mode,P),P.ref=nu(y,b,S),P.return=y,P)}function c(y,b,S,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Lm(S,y.mode,P),b.return=y,b):(b=i(b,S.children||[]),b.return=y,b)}function u(y,b,S,P,O){return b===null||b.tag!==7?(b=Ao(S,y.mode,P,O),b.return=y,b):(b=i(b,S),b.return=y,b)}function h(y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jm(""+b,y.mode,S),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:return S=Af(b.type,b.key,b.props,null,y.mode,S),S.ref=nu(y,null,b),S.return=y,S;case Ml:return b=Lm(b,y.mode,S),b.return=y,b;case la:var P=b._init;return h(y,P(b._payload),S)}if(yu(b)||Xc(b))return b=Ao(b,y.mode,S,null),b.return=y,b;zd(y,b)}return null}function p(y,b,S,P){var O=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:o(y,b,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jd:return S.key===O?l(y,b,S,P):null;case Ml:return S.key===O?c(y,b,S,P):null;case la:return O=S._init,p(y,b,O(S._payload),P)}if(yu(S)||Xc(S))return O!==null?null:u(y,b,S,P,null);zd(y,S)}return null}function f(y,b,S,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(S)||null,o(b,y,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case jd:return y=y.get(P.key===null?S:P.key)||null,l(b,y,P,O);case Ml:return y=y.get(P.key===null?S:P.key)||null,c(b,y,P,O);case la:var I=P._init;return f(y,b,S,I(P._payload),O)}if(yu(P)||Xc(P))return y=y.get(S)||null,u(b,y,P,O,null);zd(b,P)}return null}function v(y,b,S,P){for(var O=null,I=null,T=b,N=b=0,E=null;T!==null&&N<S.length;N++){T.index>N?(E=T,T=null):E=T.sibling;var M=p(y,T,S[N],P);if(M===null){T===null&&(T=E);break}t&&T&&M.alternate===null&&e(y,T),b=s(M,b,N),I===null?O=M:I.sibling=M,I=M,T=E}if(N===S.length)return n(y,T),Qt&&ho(y,N),O;if(T===null){for(;N<S.length;N++)T=h(y,S[N],P),T!==null&&(b=s(T,b,N),I===null?O=T:I.sibling=T,I=T);return Qt&&ho(y,N),O}for(T=r(y,T);N<S.length;N++)E=f(T,y,N,S[N],P),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?N:E.key),b=s(E,b,N),I===null?O=E:I.sibling=E,I=E);return t&&T.forEach(function(j){return e(y,j)}),Qt&&ho(y,N),O}function w(y,b,S,P){var O=Xc(S);if(typeof O!="function")throw Error(Te(150));if(S=O.call(S),S==null)throw Error(Te(151));for(var I=O=null,T=b,N=b=0,E=null,M=S.next();T!==null&&!M.done;N++,M=S.next()){T.index>N?(E=T,T=null):E=T.sibling;var j=p(y,T,M.value,P);if(j===null){T===null&&(T=E);break}t&&T&&j.alternate===null&&e(y,T),b=s(j,b,N),I===null?O=j:I.sibling=j,I=j,T=E}if(M.done)return n(y,T),Qt&&ho(y,N),O;if(T===null){for(;!M.done;N++,M=S.next())M=h(y,M.value,P),M!==null&&(b=s(M,b,N),I===null?O=M:I.sibling=M,I=M);return Qt&&ho(y,N),O}for(T=r(y,T);!M.done;N++,M=S.next())M=f(T,y,N,M.value,P),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?N:M.key),b=s(M,b,N),I===null?O=M:I.sibling=M,I=M);return t&&T.forEach(function(A){return e(y,A)}),Qt&&ho(y,N),O}function k(y,b,S,P){if(typeof S=="object"&&S!==null&&S.type===Rl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case jd:e:{for(var O=S.key,I=b;I!==null;){if(I.key===O){if(O=S.type,O===Rl){if(I.tag===7){n(y,I.sibling),b=i(I,S.props.children),b.return=y,y=b;break e}}else if(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===la&&$v(O)===I.type){n(y,I.sibling),b=i(I,S.props),b.ref=nu(y,I,S),b.return=y,y=b;break e}n(y,I);break}else e(y,I);I=I.sibling}S.type===Rl?(b=Ao(S.props.children,y.mode,P,S.key),b.return=y,y=b):(P=Af(S.type,S.key,S.props,null,y.mode,P),P.ref=nu(y,b,S),P.return=y,y=P)}return a(y);case Ml:e:{for(I=S.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(y,b.sibling),b=i(b,S.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Lm(S,y.mode,P),b.return=y,y=b}return a(y);case la:return I=S._init,k(y,b,I(S._payload),P)}if(yu(S))return v(y,b,S,P);if(Xc(S))return w(y,b,S,P);zd(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,S),b.return=y,y=b):(n(y,b),b=jm(S,y.mode,P),b.return=y,y=b),a(y)):n(y,b)}return k}var sc=Qw(!0),Zw=Qw(!1),Zf=$a(null),ep=null,Wl=null,Sy=null;function ky(){Sy=Wl=ep=null}function Ny(t){var e=Zf.current;Gt(Zf),t._currentValue=e}function $0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kl(t,e){ep=t,Sy=Wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function di(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},Wl===null){if(ep===null)throw Error(Te(308));Wl=t,ep.dependencies={lanes:0,firstContext:t}}else Wl=Wl.next=t;return e}var wo=null;function Py(t){wo===null?wo=[t]:wo.push(t)}function e_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Py(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ca=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bs(t,n)}return i=r.interleaved,i===null?(e.next=e,Py(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bs(t,n)}function wf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}function Uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tp(t,e,n,r){var i=t.updateQueue;ca=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,u=c=l=null,o=s;do{var p=o.lane,f=o.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,w=o;switch(p=e,f=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=sn({},h,p);break e;case 2:ca=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fo|=a,t.lanes=a,t.memoizedState=h}}function Wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Te(191,i));i.call(r)}}}var Eh={},os=$a(Eh),ah=$a(Eh),oh=$a(Eh);function _o(t){if(t===Eh)throw Error(Te(174));return t}function Cy(t,e){switch(qt(oh,e),qt(ah,t),qt(os,Eh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w0(e,t)}Gt(os),qt(os,e)}function ac(){Gt(os),Gt(ah),Gt(oh)}function n_(t){_o(oh.current);var e=_o(os.current),n=w0(e,t.type);e!==n&&(qt(ah,t),qt(os,n))}function jy(t){ah.current===t&&(Gt(os),Gt(ah))}var nn=$a(0);function np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function Ly(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var _f=$s.ReactCurrentDispatcher,km=$s.ReactCurrentBatchConfig,Do=0,rn=null,jn=null,zn=null,rp=!1,Tu=!1,lh=0,sN=0;function Qn(){throw Error(Te(321))}function Ey(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Di(t[n],e[n]))return!1;return!0}function Ty(t,e,n,r,i,s){if(Do=s,rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?cN:uN,t=n(r,i),Tu){s=0;do{if(Tu=!1,lh=0,25<=s)throw Error(Te(301));s+=1,zn=jn=null,e.updateQueue=null,_f.current=hN,t=n(r,i)}while(Tu)}if(_f.current=ip,e=jn!==null&&jn.next!==null,Do=0,zn=jn=rn=null,rp=!1,e)throw Error(Te(300));return t}function Oy(){var t=lh!==0;return lh=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?rn.memoizedState=zn=t:zn=zn.next=t,zn}function fi(){if(jn===null){var t=rn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=zn===null?rn.memoizedState:zn.next;if(e!==null)zn=e,jn=t;else{if(t===null)throw Error(Te(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},zn===null?rn.memoizedState=zn=t:zn=zn.next=t}return zn}function ch(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=fi(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Do&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,rn.lanes|=u,Fo|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Di(r,e.memoizedState)||(Er=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rn.lanes|=s,Fo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pm(t){var e=fi(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Di(s,e.memoizedState)||(Er=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function r_(){}function i_(t,e){var n=rn,r=fi(),i=e(),s=!Di(r.memoizedState,i);if(s&&(r.memoizedState=i,Er=!0),r=r.queue,My(o_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,uh(9,a_.bind(null,n,r,i,e),void 0,null),Un===null)throw Error(Te(349));Do&30||s_(n,e,i)}return i}function s_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a_(t,e,n,r){e.value=n,e.getSnapshot=r,l_(e)&&c_(t)}function o_(t,e,n){return n(function(){l_(e)&&c_(t)})}function l_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Di(t,n)}catch{return!0}}function c_(t){var e=Bs(t,1);e!==null&&Mi(e,t,1,-1)}function Hv(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,rn,t),[e.memoizedState,t]}function uh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u_(){return fi().memoizedState}function Sf(t,e,n,r){var i=ts();rn.flags|=t,i.memoizedState=uh(1|e,n,void 0,r===void 0?null:r)}function Lp(t,e,n,r){var i=fi();r=r===void 0?null:r;var s=void 0;if(jn!==null){var a=jn.memoizedState;if(s=a.destroy,r!==null&&Ey(r,a.deps)){i.memoizedState=uh(e,n,s,r);return}}rn.flags|=t,i.memoizedState=uh(1|e,n,s,r)}function qv(t,e){return Sf(8390656,8,t,e)}function My(t,e){return Lp(2048,8,t,e)}function h_(t,e){return Lp(4,2,t,e)}function d_(t,e){return Lp(4,4,t,e)}function f_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p_(t,e,n){return n=n!=null?n.concat([t]):null,Lp(4,4,f_.bind(null,e,t),n)}function Ry(){}function g_(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m_(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y_(t,e,n){return Do&21?(Di(n,e)||(n=_w(),rn.lanes|=n,Fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=n)}function aN(t,e){var n=Rt;Rt=n!==0&&4>n?n:4,t(!0);var r=km.transition;km.transition={};try{t(!1),e()}finally{Rt=n,km.transition=r}}function v_(){return fi().memoizedState}function oN(t,e,n){var r=ja(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x_(t))b_(e,n);else if(n=e_(t,e,n,r),n!==null){var i=mr();Mi(n,t,r,i),w_(n,e,r)}}function lN(t,e,n){var r=ja(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x_(t))b_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Di(o,a)){var l=e.interleaved;l===null?(i.next=i,Py(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e_(t,e,i,r),n!==null&&(i=mr(),Mi(n,t,r,i),w_(n,e,r))}}function x_(t){var e=t.alternate;return t===rn||e!==null&&e===rn}function b_(t,e){Tu=rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function w_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}var ip={readContext:di,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},cN={readContext:di,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4194308,4,f_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sf(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ts();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oN.bind(null,rn,t),[r.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:Hv,useDebugValue:Ry,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=Hv(!1),e=t[0];return t=aN.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rn,i=ts();if(Qt){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),Un===null)throw Error(Te(349));Do&30||s_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qv(o_.bind(null,r,s,t),[t]),r.flags|=2048,uh(9,a_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ts(),e=Un.identifierPrefix;if(Qt){var n=Ts,r=Es;n=(r&~(1<<32-Oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uN={readContext:di,useCallback:g_,useContext:di,useEffect:My,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:m_,useReducer:Nm,useRef:u_,useState:function(){return Nm(ch)},useDebugValue:Ry,useDeferredValue:function(t){var e=fi();return y_(e,jn.memoizedState,t)},useTransition:function(){var t=Nm(ch)[0],e=fi().memoizedState;return[t,e]},useMutableSource:r_,useSyncExternalStore:i_,useId:v_,unstable_isNewReconciler:!1},hN={readContext:di,useCallback:g_,useContext:di,useEffect:My,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:m_,useReducer:Pm,useRef:u_,useState:function(){return Pm(ch)},useDebugValue:Ry,useDeferredValue:function(t){var e=fi();return jn===null?e.memoizedState=t:y_(e,jn.memoizedState,t)},useTransition:function(){var t=Pm(ch)[0],e=fi().memoizedState;return[t,e]},useMutableSource:r_,useSyncExternalStore:i_,useId:v_,unstable_isNewReconciler:!1};function Ai(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function U0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ep={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),i=ja(t),s=Ds(r,i);s.payload=e,n!=null&&(s.callback=n),e=Aa(t,s,i),e!==null&&(Mi(e,t,i,r),wf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),i=ja(t),s=Ds(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Aa(t,s,i),e!==null&&(Mi(e,t,i,r),wf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=ja(t),i=Ds(n,r);i.tag=2,e!=null&&(i.callback=e),e=Aa(t,i,r),e!==null&&(Mi(e,t,r,n),wf(e,t,r))}};function Vv(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!nh(n,r)||!nh(i,s):!0}function __(t,e,n){var r=!1,i=Ra,s=e.contextType;return typeof s=="object"&&s!==null?s=di(s):(i=Or(e)?Mo:cr.current,r=e.contextTypes,s=(r=r!=null)?rc(t,i):Ra),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ep,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ep.enqueueReplaceState(e,e.state,null)}function W0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ay(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=di(s):(s=Or(e)?Mo:cr.current,i.context=rc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(U0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ep.enqueueReplaceState(i,i.state,null),tp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oc(t,e){try{var n="",r=e;do n+=Bk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function H0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function S_(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ap||(ap=!0,e1=r),H0(t,e)},n}function k_(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){H0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){H0(t,e),typeof r!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Gv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PN.bind(null,t,e,n),e.then(t,t))}function Jv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,Aa(n,e,1))),n.lanes|=1),t)}var fN=$s.ReactCurrentOwner,Er=!1;function pr(t,e,n,r){e.child=t===null?Zw(e,null,n,r):sc(e,t.child,n,r)}function Xv(t,e,n,r,i){n=n.render;var s=e.ref;return Kl(e,i),r=Ty(t,e,n,r,s,i),n=Oy(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Qt&&n&&by(e),e.flags|=1,pr(t,e,r,i),e.child)}function Qv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,N_(t,e,s,r,i)):(t=Af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:nh,n(a,r)&&t.ref===e.ref)return zs(t,e,i)}return e.flags|=1,t=La(s,r),t.ref=e.ref,t.return=e,e.child=t}function N_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nh(s,r)&&t.ref===e.ref)if(Er=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,zs(t,e,i)}return q0(t,e,n,r,i)}function P_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ql,Hr),Hr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(ql,Hr),Hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qt(ql,Hr),Hr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qt(ql,Hr),Hr|=r;return pr(t,e,i,n),e.child}function A_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function q0(t,e,n,r,i){var s=Or(n)?Mo:cr.current;return s=rc(e,s),Kl(e,i),n=Ty(t,e,n,r,s,i),r=Oy(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Qt&&r&&by(e),e.flags|=1,pr(t,e,n,i),e.child)}function Zv(t,e,n,r,i){if(Or(n)){var s=!0;Kf(e)}else s=!1;if(Kl(e,i),e.stateNode===null)kf(t,e),__(e,n,r),W0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=di(c):(c=Or(n)?Mo:cr.current,c=rc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Yv(e,a,r,c),ca=!1;var p=e.memoizedState;a.state=p,tp(e,r,a,i),l=e.memoizedState,o!==r||p!==l||Tr.current||ca?(typeof u=="function"&&(U0(e,n,u,r),l=e.memoizedState),(o=ca||Vv(e,n,o,r,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,t_(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ai(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=di(l):(l=Or(n)?Mo:cr.current,l=rc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&Yv(e,a,r,l),ca=!1,p=e.memoizedState,a.state=p,tp(e,r,a,i);var v=e.memoizedState;o!==h||p!==v||Tr.current||ca?(typeof f=="function"&&(U0(e,n,f,r),v=e.memoizedState),(c=ca||Vv(e,n,c,r,p,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return V0(t,e,n,r,s,i)}function V0(t,e,n,r,i,s){A_(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Iv(e,n,!1),zs(t,e,s);r=e.stateNode,fN.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=sc(e,t.child,null,s),e.child=sc(e,null,o,s)):pr(t,e,o,s),e.memoizedState=r.state,i&&Iv(e,n,!0),e.child}function C_(t){var e=t.stateNode;e.pendingContext?Fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fv(t,e.context,!1),Cy(t,e.containerInfo)}function e5(t,e,n,r,i){return ic(),_y(i),e.flags|=256,pr(t,e,n,r),e.child}var Y0={dehydrated:null,treeContext:null,retryLane:0};function G0(t){return{baseLanes:t,cachePool:null,transitions:null}}function j_(t,e,n){var r=e.pendingProps,i=nn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qt(nn,i&1),t===null)return z0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Mp(a,r,0,null),t=Ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=G0(n),e.memoizedState=Y0,t):Dy(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pN(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=La(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=La(o,s):(s=Ao(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?G0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Y0,r}return s=t.child,t=s.sibling,r=La(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dy(t,e){return e=Mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $d(t,e,n,r){return r!==null&&_y(r),sc(e,t.child,null,n),t=Dy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Am(Error(Te(422))),$d(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mp({mode:"visible",children:r.children},i,0,null),s=Ao(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&sc(e,t.child,null,a),e.child.memoizedState=G0(a),e.memoizedState=Y0,s);if(!(e.mode&1))return $d(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Te(419)),r=Am(s,r,void 0),$d(t,e,a,r)}if(o=(a&t.childLanes)!==0,Er||o){if(r=Un,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bs(t,i),Mi(r,t,i,-1))}return Uy(),r=Am(Error(Te(421))),$d(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vr=Pa(i.nextSibling),Gr=e,Qt=!0,Ei=null,t!==null&&(li[ci++]=Es,li[ci++]=Ts,li[ci++]=Ro,Es=t.id,Ts=t.overflow,Ro=e),e=Dy(e,r.children),e.flags|=4096,e)}function t5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$0(t.return,e,n)}function Cm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function L_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t5(t,n,e);else if(t.tag===19)t5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&np(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&np(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cm(e,!0,n,null,s);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=La(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=La(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gN(t,e,n){switch(e.tag){case 3:C_(e),ic();break;case 5:n_(e);break;case 1:Or(e.type)&&Kf(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(Zf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(nn,nn.current&1),e.flags|=128,null):n&e.child.childLanes?j_(t,e,n):(qt(nn,nn.current&1),t=zs(t,e,n),t!==null?t.sibling:null);qt(nn,nn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(nn,nn.current),r)break;return null;case 22:case 23:return e.lanes=0,P_(t,e,n)}return zs(t,e,n)}var E_,J0,T_,O_;E_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J0=function(){};T_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_o(os.current);var s=null;switch(n){case"input":i=y0(t,i),r=y0(t,r),s=[];break;case"select":i=sn({},i,{value:void 0}),r=sn({},r,{value:void 0}),s=[];break;case"textarea":i=b0(t,i),r=b0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gf)}_0(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ju.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};O_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ru(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mN(t,e,n){var r=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Or(e.type)&&Jf(),Zn(e),null;case 3:return r=e.stateNode,ac(),Gt(Tr),Gt(cr),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(r1(Ei),Ei=null))),J0(t,e),Zn(e),null;case 5:jy(e);var i=_o(oh.current);if(n=e.type,t!==null&&e.stateNode!=null)T_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Te(166));return Zn(e),null}if(t=_o(os.current),Bd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rs]=e,r[sh]=s,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)Vt(xu[i],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":uv(r,s),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",r);break;case"textarea":dv(r,s),Vt("invalid",r)}_0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Id(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Id(r.textContent,o,t),i=["children",""+o]):Ju.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vt("scroll",r)}switch(n){case"input":Ld(r),hv(r,s,!0);break;case"textarea":Ld(r),fv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ow(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rs]=e,t[sh]=r,E_(t,e,!1,!1),e.stateNode=t;e:{switch(a=S0(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),i=r;break;case"iframe":case"object":case"embed":Vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)Vt(xu[i],t);i=r;break;case"source":Vt("error",t),i=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),i=r;break;case"details":Vt("toggle",t),i=r;break;case"input":uv(t,r),i=y0(t,r),Vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=sn({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":dv(t,r),i=b0(t,r),Vt("invalid",t);break;default:i=r}_0(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?uw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ku(t,l):typeof l=="number"&&Ku(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ju.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",t):l!=null&&ay(t,s,l,a))}switch(n){case"input":Ld(t),hv(t,r,!1);break;case"textarea":Ld(t),fv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ma(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)O_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Te(166));if(n=_o(oh.current),_o(os.current),Bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(s=r.nodeValue!==n)&&(t=Gr,t!==null))switch(t.tag){case 3:Id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return Zn(e),null;case 13:if(Gt(nn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Vr!==null&&e.mode&1&&!(e.flags&128))Xw(),ic(),e.flags|=98560,s=!1;else if(s=Bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[rs]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),s=!1}else Ei!==null&&(r1(Ei),Ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nn.current&1?En===0&&(En=3):Uy())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return ac(),J0(t,e),t===null&&rh(e.stateNode.containerInfo),Zn(e),null;case 10:return Ny(e.type._context),Zn(e),null;case 17:return Or(e.type)&&Jf(),Zn(e),null;case 19:if(Gt(nn),s=e.memoizedState,s===null)return Zn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ru(s,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=np(t),a!==null){for(e.flags|=128,ru(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(nn,nn.current&1|2),e.child}t=t.sibling}s.tail!==null&&gn()>lc&&(e.flags|=128,r=!0,ru(s,!1),e.lanes=4194304)}else{if(!r)if(t=np(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ru(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qt)return Zn(e),null}else 2*gn()-s.renderingStartTime>lc&&n!==1073741824&&(e.flags|=128,r=!0,ru(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,n=nn.current,qt(nn,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return $y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hr&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function yN(t,e){switch(wy(e),e.tag){case 1:return Or(e.type)&&Jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ac(),Gt(Tr),Gt(cr),Ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jy(e),null;case 13:if(Gt(nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(nn),null;case 4:return ac(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var Ud=!1,sr=!1,vN=typeof WeakSet=="function"?WeakSet:Set,He=null;function Hl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(t,e,r)}else n.current=null}function K0(t,e,n){try{n()}catch(r){cn(t,e,r)}}var n5=!1;function xN(t,e){if(O0=qf,t=Iw(),xy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===n&&++c===i&&(o=a),p===s&&++u===r&&(l=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M0={focusedElem:t,selectionRange:n},qf=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ai(e.type,w),k);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(P){cn(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return v=n5,n5=!1,v}function Ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&K0(e,n,s)}i=i.next}while(i!==r)}}function Tp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M_(t){var e=t.alternate;e!==null&&(t.alternate=null,M_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[sh],delete e[F0],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R_(t){return t.tag===5||t.tag===3||t.tag===4}function r5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gf));else if(r!==4&&(t=t.child,t!==null))for(Q0(t,e,n),t=t.sibling;t!==null;)Q0(t,e,n),t=t.sibling}function Z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Z0(t,e,n),t=t.sibling;t!==null;)Z0(t,e,n),t=t.sibling}var Vn=null,ji=!1;function na(t,e,n){for(n=n.child;n!==null;)D_(t,e,n),n=n.sibling}function D_(t,e,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(kp,n)}catch{}switch(n.tag){case 5:sr||Hl(n,e);case 6:var r=Vn,i=ji;Vn=null,na(t,e,n),Vn=r,ji=i,Vn!==null&&(ji?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(ji?(t=Vn,n=n.stateNode,t.nodeType===8?wm(t.parentNode,n):t.nodeType===1&&wm(t,n),eh(t)):wm(Vn,n.stateNode));break;case 4:r=Vn,i=ji,Vn=n.stateNode.containerInfo,ji=!0,na(t,e,n),Vn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&K0(n,e,a),i=i.next}while(i!==r)}na(t,e,n);break;case 1:if(!sr&&(Hl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){cn(n,e,o)}na(t,e,n);break;case 21:na(t,e,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,na(t,e,n),sr=r):na(t,e,n);break;default:na(t,e,n)}}function i5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vN),e.forEach(function(r){var i=CN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Vn=o.stateNode,ji=!1;break e;case 3:Vn=o.stateNode.containerInfo,ji=!0;break e;case 4:Vn=o.stateNode.containerInfo,ji=!0;break e}o=o.return}if(Vn===null)throw Error(Te(160));D_(s,a,i),Vn=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){cn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F_(e,t),e=e.sibling}function F_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Si(e,t),Ki(t),r&4){try{Ou(3,t,t.return),Tp(3,t)}catch(w){cn(t,t.return,w)}try{Ou(5,t,t.return)}catch(w){cn(t,t.return,w)}}break;case 1:Si(e,t),Ki(t),r&512&&n!==null&&Hl(n,n.return);break;case 5:if(Si(e,t),Ki(t),r&512&&n!==null&&Hl(n,n.return),t.flags&32){var i=t.stateNode;try{Ku(i,"")}catch(w){cn(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&sw(i,s),S0(o,a);var c=S0(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?uw(i,h):u==="dangerouslySetInnerHTML"?lw(i,h):u==="children"?Ku(i,h):ay(i,u,h,c)}switch(o){case"input":v0(i,s);break;case"textarea":aw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Vl(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Vl(i,!!s.multiple,s.defaultValue,!0):Vl(i,!!s.multiple,s.multiple?[]:"",!1))}i[sh]=s}catch(w){cn(t,t.return,w)}}break;case 6:if(Si(e,t),Ki(t),r&4){if(t.stateNode===null)throw Error(Te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){cn(t,t.return,w)}}break;case 3:if(Si(e,t),Ki(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eh(e.containerInfo)}catch(w){cn(t,t.return,w)}break;case 4:Si(e,t),Ki(t);break;case 13:Si(e,t),Ki(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(By=gn())),r&4&&i5(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(sr=(c=sr)||u,Si(e,t),sr=c):Si(e,t),Ki(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(He=t,u=t.child;u!==null;){for(h=He=u;He!==null;){switch(p=He,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ou(4,p,p.return);break;case 1:Hl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){cn(r,n,w)}}break;case 5:Hl(p,p.return);break;case 22:if(p.memoizedState!==null){a5(h);continue}}f!==null?(f.return=p,He=f):a5(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=cw("display",a))}catch(w){cn(t,t.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){cn(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Si(e,t),Ki(t),r&4&&i5(t);break;case 21:break;default:Si(e,t),Ki(t)}}function Ki(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R_(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ku(i,""),r.flags&=-33);var s=r5(t);Z0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=r5(t);Q0(t,o,a);break;default:throw Error(Te(161))}}catch(l){cn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bN(t,e,n){He=t,I_(t)}function I_(t,e,n){for(var r=(t.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ud;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sr;o=Ud;var c=sr;if(Ud=a,(sr=l)&&!c)for(He=i;He!==null;)a=He,l=a.child,a.tag===22&&a.memoizedState!==null?o5(i):l!==null?(l.return=a,He=l):o5(i);for(;s!==null;)He=s,I_(s),s=s.sibling;He=i,Ud=o,sr=c}s5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):s5(t)}}function s5(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||Tp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ai(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wv(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wv(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&eh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}sr||e.flags&512&&X0(e)}catch(p){cn(e,e.return,p)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function a5(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function o5(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tp(4,e)}catch(l){cn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){cn(e,i,l)}}var s=e.return;try{X0(e)}catch(l){cn(e,s,l)}break;case 5:var a=e.return;try{X0(e)}catch(l){cn(e,a,l)}}}catch(l){cn(e,e.return,l)}if(e===t){He=null;break}var o=e.sibling;if(o!==null){o.return=e.return,He=o;break}He=e.return}}var wN=Math.ceil,sp=$s.ReactCurrentDispatcher,Fy=$s.ReactCurrentOwner,hi=$s.ReactCurrentBatchConfig,At=0,Un=null,Nn=null,Yn=0,Hr=0,ql=$a(0),En=0,hh=null,Fo=0,Op=0,Iy=0,Mu=null,Cr=null,By=0,lc=1/0,Ps=null,ap=!1,e1=null,Ca=null,Wd=!1,ma=null,op=0,Ru=0,t1=null,Nf=-1,Pf=0;function mr(){return At&6?gn():Nf!==-1?Nf:Nf=gn()}function ja(t){return t.mode&1?At&2&&Yn!==0?Yn&-Yn:iN.transition!==null?(Pf===0&&(Pf=_w()),Pf):(t=Rt,t!==0||(t=window.event,t=t===void 0?16:jw(t.type)),t):1}function Mi(t,e,n,r){if(50<Ru)throw Ru=0,t1=null,Error(Te(185));Ch(t,n,r),(!(At&2)||t!==Un)&&(t===Un&&(!(At&2)&&(Op|=n),En===4&&da(t,Yn)),Mr(t,r),n===1&&At===0&&!(e.mode&1)&&(lc=gn()+500,jp&&Ua()))}function Mr(t,e){var n=t.callbackNode;i6(t,e);var r=Hf(t,t===Un?Yn:0);if(r===0)n!==null&&mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mv(n),e===1)t.tag===0?rN(l5.bind(null,t)):Gw(l5.bind(null,t)),Z6(function(){!(At&6)&&Ua()}),n=null;else{switch(Sw(r)){case 1:n=hy;break;case 4:n=bw;break;case 16:n=Wf;break;case 536870912:n=ww;break;default:n=Wf}n=V_(n,B_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B_(t,e){if(Nf=-1,Pf=0,At&6)throw Error(Te(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=Hf(t,t===Un?Yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lp(t,r);else{e=r;var i=At;At|=2;var s=$_();(Un!==t||Yn!==e)&&(Ps=null,lc=gn()+500,Po(t,e));do try{kN();break}catch(o){z_(t,o)}while(!0);ky(),sp.current=s,At=i,Nn!==null?e=0:(Un=null,Yn=0,e=En)}if(e!==0){if(e===2&&(i=C0(t),i!==0&&(r=i,e=n1(t,i))),e===1)throw n=hh,Po(t,0),da(t,r),Mr(t,gn()),n;if(e===6)da(t,r);else{if(i=t.current.alternate,!(r&30)&&!_N(i)&&(e=lp(t,r),e===2&&(s=C0(t),s!==0&&(r=s,e=n1(t,s))),e===1))throw n=hh,Po(t,0),da(t,r),Mr(t,gn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Te(345));case 2:fo(t,Cr,Ps);break;case 3:if(da(t,r),(r&130023424)===r&&(e=By+500-gn(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=D0(fo.bind(null,t,Cr,Ps),e);break}fo(t,Cr,Ps);break;case 4:if(da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Oi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wN(r/1960))-r,10<r){t.timeoutHandle=D0(fo.bind(null,t,Cr,Ps),r);break}fo(t,Cr,Ps);break;case 5:fo(t,Cr,Ps);break;default:throw Error(Te(329))}}}return Mr(t,gn()),t.callbackNode===n?B_.bind(null,t):null}function n1(t,e){var n=Mu;return t.current.memoizedState.isDehydrated&&(Po(t,e).flags|=256),t=lp(t,e),t!==2&&(e=Cr,Cr=n,e!==null&&r1(e)),t}function r1(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function _N(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Di(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function da(t,e){for(e&=~Iy,e&=~Op,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Oi(e),r=1<<n;t[n]=-1,e&=~r}}function l5(t){if(At&6)throw Error(Te(327));Xl();var e=Hf(t,0);if(!(e&1))return Mr(t,gn()),null;var n=lp(t,e);if(t.tag!==0&&n===2){var r=C0(t);r!==0&&(e=r,n=n1(t,r))}if(n===1)throw n=hh,Po(t,0),da(t,e),Mr(t,gn()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,Cr,Ps),Mr(t,gn()),null}function zy(t,e){var n=At;At|=1;try{return t(e)}finally{At=n,At===0&&(lc=gn()+500,jp&&Ua())}}function Io(t){ma!==null&&ma.tag===0&&!(At&6)&&Xl();var e=At;At|=1;var n=hi.transition,r=Rt;try{if(hi.transition=null,Rt=1,t)return t()}finally{Rt=r,hi.transition=n,At=e,!(At&6)&&Ua()}}function $y(){Hr=ql.current,Gt(ql)}function Po(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q6(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(wy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jf();break;case 3:ac(),Gt(Tr),Gt(cr),Ly();break;case 5:jy(r);break;case 4:ac();break;case 13:Gt(nn);break;case 19:Gt(nn);break;case 10:Ny(r.type._context);break;case 22:case 23:$y()}n=n.return}if(Un=t,Nn=t=La(t.current,null),Yn=Hr=e,En=0,hh=null,Iy=Op=Fo=0,Cr=Mu=null,wo!==null){for(e=0;e<wo.length;e++)if(n=wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}wo=null}return t}function z_(t,e){do{var n=Nn;try{if(ky(),_f.current=ip,rp){for(var r=rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rp=!1}if(Do=0,zn=jn=rn=null,Tu=!1,lh=0,Fy.current=null,n===null||n.return===null){En=1,hh=e,Nn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Yn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Jv(a);if(f!==null){f.flags&=-257,Kv(f,a,o,s,e),f.mode&1&&Gv(s,c,e),e=f,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Gv(s,c,e),Uy();break e}l=Error(Te(426))}}else if(Qt&&o.mode&1){var k=Jv(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Kv(k,a,o,s,e),_y(oc(l,o));break e}}s=l=oc(l,o),En!==4&&(En=2),Mu===null?Mu=[s]:Mu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=S_(s,l,e);Uv(s,y);break e;case 1:o=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ca===null||!Ca.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=k_(s,o,e);Uv(s,P);break e}}s=s.return}while(s!==null)}W_(n)}catch(O){e=O,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(!0)}function $_(){var t=sp.current;return sp.current=ip,t===null?ip:t}function Uy(){(En===0||En===3||En===2)&&(En=4),Un===null||!(Fo&268435455)&&!(Op&268435455)||da(Un,Yn)}function lp(t,e){var n=At;At|=2;var r=$_();(Un!==t||Yn!==e)&&(Ps=null,Po(t,e));do try{SN();break}catch(i){z_(t,i)}while(!0);if(ky(),At=n,sp.current=r,Nn!==null)throw Error(Te(261));return Un=null,Yn=0,En}function SN(){for(;Nn!==null;)U_(Nn)}function kN(){for(;Nn!==null&&!Jk();)U_(Nn)}function U_(t){var e=q_(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,e===null?W_(t):Nn=e,Fy.current=null}function W_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yN(n,e),n!==null){n.flags&=32767,Nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,Nn=null;return}}else if(n=mN(n,e,Hr),n!==null){Nn=n;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=t}while(e!==null);En===0&&(En=5)}function fo(t,e,n){var r=Rt,i=hi.transition;try{hi.transition=null,Rt=1,NN(t,e,n,r)}finally{hi.transition=i,Rt=r}return null}function NN(t,e,n,r){do Xl();while(ma!==null);if(At&6)throw Error(Te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(s6(t,s),t===Un&&(Nn=Un=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,V_(Wf,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var a=Rt;Rt=1;var o=At;At|=4,Fy.current=null,xN(t,n),F_(n,t),q6(M0),qf=!!O0,M0=O0=null,t.current=n,bN(n),Kk(),At=o,Rt=a,hi.transition=s}else t.current=n;if(Wd&&(Wd=!1,ma=t,op=i),s=t.pendingLanes,s===0&&(Ca=null),Zk(n.stateNode),Mr(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ap)throw ap=!1,t=e1,e1=null,t;return op&1&&t.tag!==0&&Xl(),s=t.pendingLanes,s&1?t===t1?Ru++:(Ru=0,t1=t):Ru=0,Ua(),null}function Xl(){if(ma!==null){var t=Sw(op),e=hi.transition,n=Rt;try{if(hi.transition=null,Rt=16>t?16:t,ma===null)var r=!1;else{if(t=ma,ma=null,op=0,At&6)throw Error(Te(331));var i=At;for(At|=4,He=t.current;He!==null;){var s=He,a=s.child;if(He.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(He=c;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:Ou(8,u,s)}var h=u.child;if(h!==null)h.return=u,He=h;else for(;He!==null;){u=He;var p=u.sibling,f=u.return;if(M_(u),u===c){He=null;break}if(p!==null){p.return=f,He=p;break}He=f}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}He=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,He=a;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ou(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,He=y;break e}He=s.return}}var b=t.current;for(He=b;He!==null;){a=He;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,He=S;else e:for(a=b;He!==null;){if(o=He,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tp(9,o)}}catch(O){cn(o,o.return,O)}if(o===a){He=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,He=P;break e}He=o.return}}if(At=i,Ua(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(kp,t)}catch{}r=!0}return r}finally{Rt=n,hi.transition=e}}return!1}function c5(t,e,n){e=oc(n,e),e=S_(t,e,1),t=Aa(t,e,1),e=mr(),t!==null&&(Ch(t,1,e),Mr(t,e))}function cn(t,e,n){if(t.tag===3)c5(t,t,n);else for(;e!==null;){if(e.tag===3){c5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ca===null||!Ca.has(r))){t=oc(n,t),t=k_(e,t,1),e=Aa(e,t,1),t=mr(),e!==null&&(Ch(e,1,t),Mr(e,t));break}}e=e.return}}function PN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,Un===t&&(Yn&n)===n&&(En===4||En===3&&(Yn&130023424)===Yn&&500>gn()-By?Po(t,0):Iy|=n),Mr(t,e)}function H_(t,e){e===0&&(t.mode&1?(e=Od,Od<<=1,!(Od&130023424)&&(Od=4194304)):e=1);var n=mr();t=Bs(t,e),t!==null&&(Ch(t,e,n),Mr(t,n))}function AN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H_(t,n)}function CN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(e),H_(t,n)}var q_;q_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tr.current)Er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Er=!1,gN(t,e,n);Er=!!(t.flags&131072)}else Er=!1,Qt&&e.flags&1048576&&Jw(e,Qf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kf(t,e),t=e.pendingProps;var i=rc(e,cr.current);Kl(e,n),i=Ty(null,e,r,t,i,n);var s=Oy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(r)?(s=!0,Kf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ay(e),i.updater=Ep,e.stateNode=i,i._reactInternals=e,W0(e,r,t,n),e=V0(null,e,r,!0,s,n)):(e.tag=0,Qt&&s&&by(e),pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LN(r),t=Ai(r,t),i){case 0:e=q0(null,e,r,t,n);break e;case 1:e=Zv(null,e,r,t,n);break e;case 11:e=Xv(null,e,r,t,n);break e;case 14:e=Qv(null,e,r,Ai(r.type,t),n);break e}throw Error(Te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),q0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),Zv(t,e,r,i,n);case 3:e:{if(C_(e),t===null)throw Error(Te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,t_(t,e),tp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oc(Error(Te(423)),e),e=e5(t,e,r,n,i);break e}else if(r!==i){i=oc(Error(Te(424)),e),e=e5(t,e,r,n,i);break e}else for(Vr=Pa(e.stateNode.containerInfo.firstChild),Gr=e,Qt=!0,Ei=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ic(),r===i){e=zs(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return n_(e),t===null&&z0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,R0(r,i)?a=null:s!==null&&R0(r,s)&&(e.flags|=32),A_(t,e),pr(t,e,a,n),e.child;case 6:return t===null&&z0(e),null;case 13:return j_(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sc(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),Xv(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,qt(Zf,r._currentValue),r._currentValue=a,s!==null)if(Di(s.value,a)){if(s.children===i.children&&!Tr.current){e=zs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ds(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$0(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Te(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),$0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kl(e,n),i=di(i),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,i=Ai(r,e.pendingProps),i=Ai(r.type,i),Qv(t,e,r,i,n);case 15:return N_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),kf(t,e),e.tag=1,Or(r)?(t=!0,Kf(e)):t=!1,Kl(e,n),__(e,r,i),W0(e,r,i,n),V0(null,e,r,!0,t,n);case 19:return L_(t,e,n);case 22:return P_(t,e,n)}throw Error(Te(156,e.tag))};function V_(t,e){return xw(t,e)}function jN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,n,r){return new jN(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LN(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===cy)return 14}return 2}function La(t,e){var n=t.alternate;return n===null?(n=ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Af(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Wy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Rl:return Ao(n.children,i,s,e);case oy:a=8,i|=8;break;case f0:return t=ui(12,n,e,i|2),t.elementType=f0,t.lanes=s,t;case p0:return t=ui(13,n,e,i),t.elementType=p0,t.lanes=s,t;case g0:return t=ui(19,n,e,i),t.elementType=g0,t.lanes=s,t;case nw:return Mp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ew:a=10;break e;case tw:a=9;break e;case ly:a=11;break e;case cy:a=14;break e;case la:a=16,r=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=ui(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ao(t,e,n,r){return t=ui(7,t,r,e),t.lanes=n,t}function Mp(t,e,n,r){return t=ui(22,t,r,e),t.elementType=nw,t.lanes=n,t.stateNode={isHidden:!1},t}function jm(t,e,n){return t=ui(6,t,null,e),t.lanes=n,t}function Lm(t,e,n){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=um(0),this.expirationTimes=um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hy(t,e,n,r,i,s,a,o,l){return t=new EN(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ui(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(s),t}function TN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y_(t){if(!t)return Ra;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(Or(n))return Yw(t,n,e)}return e}function G_(t,e,n,r,i,s,a,o,l){return t=Hy(n,r,!0,t,i,s,a,o,l),t.context=Y_(null),n=t.current,r=mr(),i=ja(n),s=Ds(r,i),s.callback=e??null,Aa(n,s,i),t.current.lanes=i,Ch(t,i,r),Mr(t,r),t}function Rp(t,e,n,r){var i=e.current,s=mr(),a=ja(i);return n=Y_(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Aa(i,e,a),t!==null&&(Mi(t,i,a,s),wf(t,i,a)),a}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qy(t,e){u5(t,e),(t=t.alternate)&&u5(t,e)}function ON(){return null}var J_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vy(t){this._internalRoot=t}Dp.prototype.render=Vy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));Rp(t,e,null,null)};Dp.prototype.unmount=Vy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Io(function(){Rp(null,t,null,null)}),e[Is]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ha.length&&e!==0&&e<ha[n].priority;n++);ha.splice(n,0,t),n===0&&Cw(t)}};function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h5(){}function MN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=cp(a);s.call(c)}}var a=G_(e,r,t,0,null,!1,!1,"",h5);return t._reactRootContainer=a,t[Is]=a.current,rh(t.nodeType===8?t.parentNode:t),Io(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=cp(l);o.call(c)}}var l=Hy(t,0,!1,null,null,!1,!1,"",h5);return t._reactRootContainer=l,t[Is]=l.current,rh(t.nodeType===8?t.parentNode:t),Io(function(){Rp(e,l,n,r)}),l}function Ip(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=cp(a);o.call(l)}}Rp(e,a,t,i)}else a=MN(n,e,t,i,r);return cp(a)}kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vu(e.pendingLanes);n!==0&&(dy(e,n|1),Mr(e,gn()),!(At&6)&&(lc=gn()+500,Ua()))}break;case 13:Io(function(){var r=Bs(t,1);if(r!==null){var i=mr();Mi(r,t,1,i)}}),qy(t,1)}};fy=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=mr();Mi(e,t,134217728,n)}qy(t,134217728)}};Nw=function(t){if(t.tag===13){var e=ja(t),n=Bs(t,e);if(n!==null){var r=mr();Mi(n,t,e,r)}qy(t,e)}};Pw=function(){return Rt};Aw=function(t,e){var n=Rt;try{return Rt=t,e()}finally{Rt=n}};N0=function(t,e,n){switch(e){case"input":if(v0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cp(r);if(!i)throw Error(Te(90));iw(r),v0(r,i)}}}break;case"textarea":aw(t,n);break;case"select":e=n.value,e!=null&&Vl(t,!!n.multiple,e,!1)}};fw=zy;pw=Io;var RN={usingClientEntryPoint:!1,Events:[Lh,Bl,Cp,hw,dw,zy]},iu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DN={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yw(t),t===null?null:t.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{kp=Hd.inject(DN),as=Hd}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;Kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(e))throw Error(Te(200));return TN(t,e,null,n)};Kr.createRoot=function(t,e){if(!Yy(t))throw Error(Te(299));var n=!1,r="",i=J_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hy(t,1,!1,null,null,n,!1,r,i),t[Is]=e.current,rh(t.nodeType===8?t.parentNode:t),new Vy(e)};Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=yw(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t){return Io(t)};Kr.hydrate=function(t,e,n){if(!Fp(e))throw Error(Te(200));return Ip(null,t,e,!0,n)};Kr.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=J_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=G_(e,null,t,1,n??null,i,!1,s,a),t[Is]=e.current,rh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dp(e)};Kr.render=function(t,e,n){if(!Fp(e))throw Error(Te(200));return Ip(null,t,e,!1,n)};Kr.unmountComponentAtNode=function(t){if(!Fp(t))throw Error(Te(40));return t._reactRootContainer?(Io(function(){Ip(null,null,t,!1,function(){t._reactRootContainer=null,t[Is]=null})}),!0):!1};Kr.unstable_batchedUpdates=zy;Kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fp(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return Ip(t,e,n,!1,r)};Kr.version="18.3.1-next-f1338f8080-20240426";function K_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K_)}catch(t){console.error(t)}}K_(),Kb.exports=Kr;var FN=Kb.exports,X_,d5=FN;X_=d5.createRoot,d5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}var ya;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ya||(ya={}));const f5="popstate";function IN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return i1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:up(i)}return zN(e,n,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substr(2,8)}function p5(t,e){return{usr:t.state,key:t.key,idx:e}}function i1(t,e,n,r){return n===void 0&&(n=null),dh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mc(e):e,{state:n,key:e&&e.key||r||BN()})}function up(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ya.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(dh({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=ya.Pop;let k=u(),y=k==null?null:k-c;c=k,l&&l({action:o,location:w.location,delta:y})}function p(k,y){o=ya.Push;let b=i1(w.location,k,y);c=u()+1;let S=p5(b,c),P=w.createHref(b);try{a.pushState(S,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:o,location:w.location,delta:1})}function f(k,y){o=ya.Replace;let b=i1(w.location,k,y);c=u();let S=p5(b,c),P=w.createHref(b);a.replaceState(S,"",P),s&&l&&l({action:o,location:w.location,delta:0})}function v(k){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof k=="string"?k:up(k);return b=b.replace(/ $/,"%20"),bn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let w={get action(){return o},get location(){return t(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f5,h),l=k,()=>{i.removeEventListener(f5,h),l=null}},createHref(k){return e(i,k)},createURL:v,encodeLocation(k){let y=v(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(k){return a.go(k)}};return w}var g5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(g5||(g5={}));function $N(t,e,n){return n===void 0&&(n="/"),UN(t,e,n)}function UN(t,e,n,r){let i=typeof e=="string"?mc(e):e,s=Gy(i.pathname||"/",n);if(s==null)return null;let a=Z_(t);WN(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=tP(s);o=QN(a[l],c)}return o}function Z_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ea([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z_(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KN(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of e3(s.path))i(s,a,l)}),e}function e3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=e3(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HN=/^:[\w-]+$/,qN=3,VN=2,YN=1,GN=10,JN=-2,m5=t=>t==="*";function KN(t,e){let n=t.split("/"),r=n.length;return n.some(m5)&&(r+=JN),e&&(r+=VN),n.filter(i=>!m5(i)).reduce((i,s)=>i+(HN.test(s)?qN:s===""?YN:GN),r)}function XN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QN(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=ZN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ea([s,h.pathname]),pathnameBase:sP(Ea([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ea([s,h.pathnameBase]))}return a}function ZN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let w=o[h]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[h];return f&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function eP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mc(t):t;return{pathname:n?n.startsWith("/")?n:rP(n,e):e,search:aP(r),hash:oP(i)}}function rP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Em(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jy(t,e){let n=iP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ky(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mc(t):(i=dh({},t),bn(!i.pathname||!i.pathname.includes("?"),Em("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),Em("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),Em("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=nP(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ea=t=>t.join("/").replace(/\/\/+/g,"/"),sP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t3=["post","put","patch","delete"];new Set(t3);const cP=["get",...t3];new Set(cP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}const Xy=Be.createContext(null),uP=Be.createContext(null),Wa=Be.createContext(null),Bp=Be.createContext(null),Ha=Be.createContext({outlet:null,matches:[],isDataRoute:!1}),n3=Be.createContext(null);function hP(t,e){let{relative:n}=e===void 0?{}:e;yc()||bn(!1);let{basename:r,navigator:i}=Be.useContext(Wa),{hash:s,pathname:a,search:o}=i3(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ea([r,a])),i.createHref({pathname:l,search:o,hash:s})}function yc(){return Be.useContext(Bp)!=null}function vc(){return yc()||bn(!1),Be.useContext(Bp).location}function r3(t){Be.useContext(Wa).static||Be.useLayoutEffect(t)}function Th(){let{isDataRoute:t}=Be.useContext(Ha);return t?kP():dP()}function dP(){yc()||bn(!1);let t=Be.useContext(Xy),{basename:e,future:n,navigator:r}=Be.useContext(Wa),{matches:i}=Be.useContext(Ha),{pathname:s}=vc(),a=JSON.stringify(Jy(i,n.v7_relativeSplatPath)),o=Be.useRef(!1);return r3(()=>{o.current=!0}),Be.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=Ky(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ea([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,a,s,t])}function i3(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Be.useContext(Wa),{matches:i}=Be.useContext(Ha),{pathname:s}=vc(),a=JSON.stringify(Jy(i,r.v7_relativeSplatPath));return Be.useMemo(()=>Ky(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function fP(t,e){return pP(t,e)}function pP(t,e,n,r){yc()||bn(!1);let{navigator:i}=Be.useContext(Wa),{matches:s}=Be.useContext(Ha),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=vc(),u;if(e){var h;let k=typeof e=="string"?mc(e):e;l==="/"||(h=k.pathname)!=null&&h.startsWith(l)||bn(!1),u=k}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let k=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=$N(t,{pathname:f}),w=xP(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:Ea([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Ea([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&w?Be.createElement(Bp.Provider,{value:{location:fh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ya.Pop}},w):w}function gP(){let t=SP(),e=lP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Be.createElement(Be.Fragment,null,Be.createElement("h2",null,"Unexpected Application Error!"),Be.createElement("h3",{style:{fontStyle:"italic"}},e),n?Be.createElement("pre",{style:i},n):null,null)}const mP=Be.createElement(gP,null);class yP extends Be.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Be.createElement(Ha.Provider,{value:this.props.routeContext},Be.createElement(n3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vP(t){let{routeContext:e,match:n,children:r}=t,i=Be.useContext(Xy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Be.createElement(Ha.Provider,{value:e},r)}function xP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||bn(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let f,v=!1,w=null,k=null;n&&(f=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||mP,l&&(c<0&&p===0?(NP("route-fallback"),v=!0,k=null):c===p&&(v=!0,k=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,p+1)),b=()=>{let S;return f?S=w:v?S=k:h.route.Component?S=Be.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,Be.createElement(vP,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?Be.createElement(yP,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var s3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s3||{}),a3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(a3||{});function bP(t){let e=Be.useContext(Xy);return e||bn(!1),e}function wP(t){let e=Be.useContext(uP);return e||bn(!1),e}function _P(t){let e=Be.useContext(Ha);return e||bn(!1),e}function o3(t){let e=_P(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function SP(){var t;let e=Be.useContext(n3),n=wP(),r=o3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kP(){let{router:t}=bP(s3.UseNavigateStable),e=o3(a3.UseNavigateStable),n=Be.useRef(!1);return r3(()=>{n.current=!0}),Be.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fh({fromRouteId:e},s)))},[t,e])}const y5={};function NP(t,e,n){y5[t]||(y5[t]=!0)}function PP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function io(t){let{to:e,replace:n,state:r,relative:i}=t;yc()||bn(!1);let{future:s,static:a}=Be.useContext(Wa),{matches:o}=Be.useContext(Ha),{pathname:l}=vc(),c=Th(),u=Ky(e,Jy(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return Be.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Xi(t){bn(!1)}function AP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ya.Pop,navigator:s,static:a=!1,future:o}=t;yc()&&bn(!1);let l=e.replace(/^\/*/,"/"),c=Be.useMemo(()=>({basename:l,navigator:s,static:a,future:fh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=mc(r));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:v="default"}=r,w=Be.useMemo(()=>{let k=Gy(u,l);return k==null?null:{location:{pathname:k,search:h,hash:p,state:f,key:v},navigationType:i}},[l,u,h,p,f,v,i]);return w==null?null:Be.createElement(Wa.Provider,{value:c},Be.createElement(Bp.Provider,{children:n,value:w}))}function CP(t){let{children:e,location:n}=t;return fP(s1(e),n)}new Promise(()=>{});function s1(t,e){e===void 0&&(e=[]);let n=[];return Be.Children.forEach(t,(r,i)=>{if(!Be.isValidElement(r))return;let s=[...e,i];if(r.type===Be.Fragment){n.push.apply(n,s1(r.props.children,s));return}r.type!==Xi&&bn(!1),!r.props.index||!r.props.children||bn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=s1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}function jP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EP(t,e){return t.button===0&&(!e||e==="_self")&&!LP(t)}function o1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function TP(t,e){let n=o1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const OP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MP="6";try{window.__reactRouterVersion=MP}catch{}const RP="startTransition",v5=Pk[RP];function DP(t){let{basename:e,children:n,future:r,window:i}=t,s=Be.useRef();s.current==null&&(s.current=IN({window:i,v5Compat:!0}));let a=s.current,[o,l]=Be.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=Be.useCallback(h=>{c&&v5?v5(()=>l(h)):l(h)},[l,c]);return Be.useLayoutEffect(()=>a.listen(u),[a,u]),Be.useEffect(()=>PP(r),[r]),Be.createElement(AP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const FP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,So=Be.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=jP(e,OP),{basename:f}=Be.useContext(Wa),v,w=!1;if(typeof c=="string"&&IP.test(c)&&(v=c,FP))try{let S=new URL(window.location.href),P=c.startsWith("//")?new URL(S.protocol+c):new URL(c),O=Gy(P.pathname,f);P.origin===S.origin&&O!=null?c=O+P.search+P.hash:w=!0}catch{}let k=hP(c,{relative:i}),y=BP(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});function b(S){r&&r(S),S.defaultPrevented||y(S)}return Be.createElement("a",a1({},p,{href:v||k,onClick:w||s?r:b,ref:n,target:l}))});var x5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x5||(x5={}));var b5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b5||(b5={}));function BP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Th(),c=vc(),u=i3(t,{relative:a});return Be.useCallback(h=>{if(EP(h,n)){h.preventDefault();let p=r!==void 0?r:up(c)===up(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}function zP(t){let e=Be.useRef(o1(t)),n=Be.useRef(!1),r=vc(),i=Be.useMemo(()=>TP(r.search,n.current?null:e.current),[r.search]),s=Th(),a=Be.useCallback((o,l)=>{const c=o1(typeof o=="function"?o(i):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}const $P="modulepreload",UP=function(t){return"/"+t},w5={},us=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=UP(l),l in w5)return;w5[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":$P,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},WP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>xc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Qy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class HP extends Qy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qP extends Qy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VP extends Qy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(l1||(l1={}));var YP=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class GP{constructor(e,{headers:n={},customFetch:r,region:i=l1.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=WP(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return YP(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(v=>{throw new HP(v)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new qP(u);if(!u.ok)throw new VP(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var jr={},Zy={},zp={},Oh={},$p={},Up={},JP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cc=JP();const KP=cc.fetch,l3=cc.fetch.bind(cc),c3=cc.Headers,XP=cc.Request,QP=cc.Response,xc=Object.freeze(Object.defineProperty({__proto__:null,Headers:c3,Request:XP,Response:QP,default:l3,fetch:KP},Symbol.toStringTag,{value:"Module"})),ZP=Ib(xc);var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});let eA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wp.default=eA;var u3=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Up,"__esModule",{value:!0});const tA=u3(ZP),nA=u3(Wp);let rA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,u=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(u=[],c=null,p=200,f="OK")}catch{s.status===404&&w===""?(p=204,f="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new nA.default(c)}return{error:c,data:u,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Up.default=rA;var iA=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($p,"__esModule",{value:!0});const sA=iA(Up);let aA=class extends sA.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$p.default=aA;var oA=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});const lA=oA($p);let cA=class extends lA.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Oh.default=cA;var uA=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zp,"__esModule",{value:!0});const su=uA(Oh);let hA=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new su.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new su.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new su.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new su.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new su.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zp.default=hA;var Hp={},qp={};Object.defineProperty(qp,"__esModule",{value:!0});qp.version=void 0;qp.version="0.0.0-automated";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.DEFAULT_HEADERS=void 0;const dA=qp;Hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dA.version}`};var h3=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zy,"__esModule",{value:!0});const fA=h3(zp),pA=h3(Oh),gA=Hp;let mA=class d3{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},gA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new fA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new d3(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(a="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new pA.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Zy.default=mA;var bc=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jr,"__esModule",{value:!0});jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const f3=bc(Zy);jr.PostgrestClient=f3.default;const p3=bc(zp);jr.PostgrestQueryBuilder=p3.default;const g3=bc(Oh);jr.PostgrestFilterBuilder=g3.default;const m3=bc($p);jr.PostgrestTransformBuilder=m3.default;const y3=bc(Up);jr.PostgrestBuilder=y3.default;const v3=bc(Wp);jr.PostgrestError=v3.default;var yA=jr.default={PostgrestClient:f3.default,PostgrestQueryBuilder:p3.default,PostgrestFilterBuilder:g3.default,PostgrestTransformBuilder:m3.default,PostgrestBuilder:y3.default,PostgrestError:v3.default};const{PostgrestClient:vA,PostgrestQueryBuilder:nD,PostgrestFilterBuilder:rD,PostgrestTransformBuilder:iD,PostgrestBuilder:sD,PostgrestError:aD}=yA,xA="2.11.2",bA={"X-Client-Info":`realtime-js/${xA}`},wA="1.0.0",x3=1e4,_A=1e3;var Ql;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ql||(Ql={}));var Ur;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ur||(Ur={}));var Li;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Li||(Li={}));var c1;(function(t){t.websocket="websocket"})(c1||(c1={}));var xo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xo||(xo={}));class SA{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class b3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Wt||(Wt={}));const _5=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=kA(a,t,e,i),s),{})},kA=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?w3(s,a):u1(a)},w3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return CA(e,n)}switch(t){case Wt.bool:return NA(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return PA(e);case Wt.json:case Wt.jsonb:return AA(e);case Wt.timestamp:return jA(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return u1(e);default:return u1(e)}},u1=t=>t,NA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},PA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},CA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>w3(e,o))}return t},jA=t=>typeof t=="string"?t.replace(" ","T"):t,_3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Tm{constructor(e,n,r={},i=x3){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S5||(S5={}));class Du{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Du.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Du.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Du.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=s[c];if(h){const p=u.map(k=>k.presence_ref),f=h.map(k=>k.presence_ref),v=u.filter(k=>f.indexOf(k.presence_ref)<0),w=h.filter(k=>p.indexOf(k.presence_ref)<0);v.length>0&&(o[c]=v),w.length>0&&(l[c]=w)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const h=e[o].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}r(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k5||(k5={}));var N5;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(N5||(N5={}));var As;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(As||(As={}));class e2{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tm(this,Li.join,this.params,this.timeout),this.rejoinTimer=new b3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Li.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Du(this),this.broadcastEndpointURL=_3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(As.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(As.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(As.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<f;w++){const k=p[w],{filter:{event:y,schema:b,table:S,filter:P}}=k,O=u&&u[w];if(O&&O.event===y&&O.schema===b&&O.table===S&&O.filter===P)v.push(Object.assign(Object.assign({},k),{id:O.id}));else{this.unsubscribe(),e==null||e(As.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(As.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(As.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(As.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ur.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Li.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Tm(this,Li.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tm(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Li;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,w,k;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=f.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(f=>f.callback(p,r)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var v,w,k,y,b,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const P=f.id,O=(v=f.filter)===null||v===void 0?void 0:v.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return P==="*"||P===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:w,table:k,commit_timestamp:y,type:b,errors:S}=v;p=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:y,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(v))}f.callback(p,r)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&e2.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Li.close,{},e)}_onError(e){this._on(Li.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_5(e.columns,e.old_record)),n}}const LA=()=>{},EA=typeof WebSocket<"u",TA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OA{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bA,this.params={},this.timeout=x3,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=LA,this.conn=null,this.sendBuffer=[],this.serializer=new SA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>us(async()=>{const{default:l}=await Promise.resolve().then(()=>xc);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${c1.websocket}`,this.httpEndpoint=_3(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new b3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(EA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new MA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),us(async()=>{const{default:e}=await import("./browser-BgqTqSQY.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wA}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ql.connecting:return xo.Connecting;case Ql.open:return xo.Open;case Ql.closing:return xo.Closing;default:return xo.Closed}}isConnected(){return this.connectionState()===xo.Open}channel(e,n={config:{}}){const r=new e2(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Li.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_A,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Li.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([TA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class MA{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ql.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class t2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class RA extends t2{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class h1 extends t2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var DA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const S3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>xc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},FA=()=>DA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield us(()=>Promise.resolve().then(()=>xc),void 0)).Response:Response}),d1=t=>{if(Array.isArray(t))return t.map(n=>d1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=d1(r)}),e};var Ho=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Om=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IA=(t,e,n)=>Ho(void 0,void 0,void 0,function*(){const r=yield FA();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new RA(Om(i),t.status||500))}).catch(i=>{e(new h1(Om(i),i))}):e(new h1(Om(t),t))}),BA=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Mh(t,e,n,r,i,s){return Ho(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,BA(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>IA(l,o,r))})})}function hp(t,e,n,r){return Ho(this,void 0,void 0,function*(){return Mh(t,"GET",e,n,r)})}function ua(t,e,n,r,i){return Ho(this,void 0,void 0,function*(){return Mh(t,"POST",e,r,i,n)})}function zA(t,e,n,r,i){return Ho(this,void 0,void 0,function*(){return Mh(t,"PUT",e,r,i,n)})}function $A(t,e,n,r){return Ho(this,void 0,void 0,function*(){return Mh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function k3(t,e,n,r,i){return Ho(this,void 0,void 0,function*(){return Mh(t,"DELETE",e,r,i,n)})}var Nr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const UA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WA{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=S3(i)}uploadOrUpdate(e,n,r,i){return Nr(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},P5),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Nr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:P5.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Bn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Nr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ua(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new t2("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Nr(this,void 0,void 0,function*(){try{return{data:{path:(yield ua(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Nr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ua(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Nr(this,void 0,void 0,function*(){try{const i=yield ua(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}download(e,n){return Nr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield hp(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Bn(o))return{data:null,error:o};throw o}})}info(e){return Nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:d1(r),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}exists(e){return Nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield $A(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bn(r)&&r instanceof h1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield k3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Nr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},UA),n),{prefix:e||""});return{data:yield ua(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const HA="2.7.1",qA={"X-Client-Info":`storage-js/${HA}`};var Sl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class VA{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},qA),n),this.fetch=S3(r)}listBuckets(){return Sl(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Bn(e))return{data:null,error:e};throw e}})}getBucket(e){return Sl(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Sl(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Sl(this,void 0,void 0,function*(){try{return{data:yield zA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Sl(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Sl(this,void 0,void 0,function*(){try{return{data:yield k3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}}class YA extends VA{constructor(e,n={},r){super(e,n,r)}from(e){return new WA(this.url,this.headers,e,this.fetch)}}const GA="2.49.4";let bu="";typeof Deno<"u"?bu="deno":typeof document<"u"?bu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bu="react-native":bu="node";const JA={"X-Client-Info":`supabase-js-${bu}/${GA}`},KA={headers:JA},XA={schema:"public"},QA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZA={};var eC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const tC=t=>{let e;return t?e=t:typeof fetch>"u"?e=l3:e=fetch,(...n)=>e(...n)},nC=()=>typeof Headers>"u"?c3:Headers,rC=(t,e,n)=>{const r=tC(n),i=nC();return(s,a)=>eC(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:c}))})};var iC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function sC(t){return t.replace(/\/$/,"")}function aC(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>iC(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const N3="2.69.1",El=30*1e3,f1=3,Mm=f1*El,oC="http://localhost:9999",lC="supabase.auth.token",cC={"X-Client-Info":`gotrue-js/${N3}`},p1="X-Supabase-Api-Version",P3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hC=6e5;class n2 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function mt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dC extends n2{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fC(t){return mt(t)&&t.name==="AuthApiError"}class A3 extends n2{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qa extends n2{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class aa extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pC(t){return mt(t)&&t.name==="AuthSessionMissingError"}class Rm extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qd extends qa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vd extends qa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gC(t){return mt(t)&&t.name==="AuthImplicitGrantRedirectError"}class A5 extends qa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class g1 extends qa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Dm(t){return mt(t)&&t.name==="AuthRetryableFetchError"}class C5 extends qa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fu extends qa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const j5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L5=` 	
\r=`.split(""),mC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<L5.length;e+=1)t[L5[e].charCodeAt(0)]=-2;for(let e=0;e<j5.length;e+=1)t[j5[e].charCodeAt(0)]=e;return t})();function C3(t,e,n){const r=mC[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function E5(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{xC(a,r,n)};for(let a=0;a<t.length;a+=1)C3(t.charCodeAt(a),i,s);return e.join("")}function yC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vC(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}yC(r,e)}}function xC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bC(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)C3(t.charCodeAt(i),n,r);return new Uint8Array(e)}function wC(t){const e=[];return vC(t,n=>e.push(n)),new Uint8Array(e)}function _C(t){return Math.round(Date.now()/1e3)+t}function SC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qi=()=>typeof window<"u"&&typeof document<"u",so={tested:!1,writable:!1},Iu=()=>{if(!Qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(so.tested)return so.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),so.tested=!0,so.writable=!0}catch{so.tested=!0,so.writable=!1}return so.writable};function kC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const j3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>xc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},NC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",L3=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gd=async(t,e)=>{await t.removeItem(e)};class Vp{constructor(){this.promise=new Vp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Vp.promiseConstructor=Promise;function Fm(t){const e=t.split(".");if(e.length!==3)throw new Fu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!uC.test(e[r]))throw new Fu("JWT not in base64url format");return{header:JSON.parse(E5(e[0])),payload:JSON.parse(E5(e[1])),signature:bC(e[2]),raw:{header:e[0],payload:e[1]}}}async function PC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AC(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function CC(t){return("0"+t.toString(16)).substr(-2)}function jC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,CC).join("")}async function LC(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function EC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(t,e,n=!1){const r=jC();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await L3(t,`${e}-code-verifier`,i);const s=await EC(r);return[s,r===s?"plain":"s256"]}const TC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OC(t){const e=t.headers.get(p1);if(!e||!e.match(TC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var DC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const po=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FC=[502,503,504];async function T5(t){var e;if(!NC(t))throw new g1(po(t),0);if(FC.includes(t.status))throw new g1(po(t),t.status);let n;try{n=await t.json()}catch(s){throw new A3(po(s),s)}let r;const i=OC(t);if(i&&i.getTime()>=P3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new C5(po(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new aa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new C5(po(n),t.status,n.weak_password.reasons);throw new dC(po(n),t.status||500,r)}const IC=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function _t(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[p1]||(s[p1]=P3["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await BC(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function BC(t,e,n,r,i,s){const a=IC(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new g1(po(l),0)}if(o.ok||await T5(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await T5(l)}}function oa(t){var e;let n=null;WC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_C(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function O5(t){const e=oa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zC(t){return{data:t,error:null}}function $C(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=DC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function UC(t){return t}function WC(t){return t.access_token&&t.refresh_token&&t.expires_in}var HC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class qC{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=j3(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fa})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=HC(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$C,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fa})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:UC});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(mt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fa})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fa})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fa})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await _t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}}const VC={getItem:t=>Iu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Iu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Iu()&&globalThis.localStorage.removeItem(t)}};function M5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function YC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nl={debug:!!(globalThis&&Iu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GC extends E3{}async function JC(t,e,n){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}YC();const KC={url:oC,storageKey:lC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function R5(t,e,n){return await n()}class ph{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ph.nextInstanceID,ph.nextInstanceID+=1,this.instanceID>0&&Qi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j3(i.fetch),this.lock=i.lock||R5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Qi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=JC:this.lock=R5,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Iu()?this.storage=VC:(this.memoryStorage={},this.storage=M5(this.memoryStorage)):(this.memoryStorage={},this.storage=M5(this.memoryStorage)),Qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${N3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=kC(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),gC(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return mt(n)?{error:n}:{error:new A3("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:oa}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:p}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await kl(this.storage,this.storageKey)),s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:oa})}else if("phone"in e){const{phone:u,password:h,options:p}=e;s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:oa})}else throw new qd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:O5})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:O5})}else throw new qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Rm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:oa});if(await Gd(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Rm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:oa}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await kl(this.storage,this.storageKey));const{error:h}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new qd("You must provide either an email or phone number.")}catch(o){if(mt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:oa});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await kl(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:zC})}catch(s){if(mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new aa;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(mt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await _t(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new qd("You must provide either an email or phone number and a type")}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Mm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fa}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fa})})}catch(n){if(mt(n))return pC(n)&&(await this._removeSession(),await Gd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new aa;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await kl(this.storage,this.storageKey));const{data:c,error:u}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:fa});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new aa;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Fm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(mt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new aa;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qi())throw new Vd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new A5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A5("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Vd("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=El&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:w,error:k}=await this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(mt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(fC(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Gd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=SC(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await kl(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:h,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Qi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(mt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AC(async i=>(i>0&&await PC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oa})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Dm(s)&&Date.now()+a-r<El})}catch(r){if(this._debug(n,"error",r),mt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Mm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Mm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Dm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vp;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new aa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),mt(s)){const a={session:null,error:s};return Dm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await L3(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Gd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),El);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/El);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${El}ms, refresh threshold is ${f1} ticks`),i<=f1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof E3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await kl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(mt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(mt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Fm(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+hC>Date.now()))return r;const{data:i,error:s}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Fu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(a=>a.kid===e),!r)throw new Fu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Fm(r);if(MC(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const c=RC(i.alg),u=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,wC(`${o}.${l}`)))throw new Fu("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}}ph.nextInstanceID=0;const XC=ph;class QC extends XC{constructor(e){super(e)}}var ZC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class ej{constructor(e,n,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=sC(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:XA,realtime:ZA,auth:Object.assign(Object.assign({},QA),{storageKey:l}),global:KA},u=aC(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=rC(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new vA(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new GP(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new YA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ZC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QC({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new OA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tj=(t,e,n)=>new ej(t,e,n),nj="https://iqehkneolpesaqznkqjm.supabase.co",rj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlxZWhrbmVvbHBlc2Fxem5rcWptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5MzkxNjgsImV4cCI6MjA2NjUxNTE2OH0.4N69aEfiQdcwW0Jw7061fRlSTF6QtPQQiQybUDFZsIg",Jt=tj(nj,rj),T3="app-theme",On=()=>{const t=localStorage.getItem(T3);return t==="light"||t==="dark"?t:"dark"},ij=t=>{localStorage.setItem(T3,t)},O3=t=>{const e=document.documentElement,n=document.body;t==="dark"?(e.classList.add("dark"),n.className="bg-[#0B1121] text-white"):(e.classList.remove("dark"),n.className="bg-white text-gray-900")},sj=()=>{const t=On();return O3(t),t},M3=t=>{const e=t==="dark"?"light":"dark";return ij(e),O3(e),window.dispatchEvent(new CustomEvent("themeChanged")),e};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yt=(t,e)=>{const n=Be.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>Be.createElement("svg",{ref:u,...aj,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${oj(t)}`,o].join(" "),...c},[...e.map(([h,p])=>Be.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=yt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=yt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=yt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=yt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=yt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=yt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=yt("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=yt("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=yt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=yt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=yt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=yt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=yt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wj(){const[t,e]=_e.useState(()=>On()==="dark"),[n,r]=_e.useState(null);_e.useEffect(()=>{Jt.auth.getUser().then(({data:{user:h}})=>{r(h)});const{data:{subscription:u}}=Jt.auth.onAuthStateChange((h,p)=>{r((p==null?void 0:p.user)??null)});return()=>u.unsubscribe()},[]);const i=()=>{const u=M3(t?"dark":"light");e(u==="dark")},s=n!==null,a=[{icon:m.jsx(D3,{className:"w-6 h-6"}),title:"Video Analysis",description:"Advanced vehicle detection and tracking at level crossings using YOLOv8 and computer vision"},{icon:m.jsx(uj,{className:"w-6 h-6"}),title:"Behavior Analysis",description:"Monitor and analyze driver compliance with safety measures and signage"},{icon:m.jsx(x1,{className:"w-6 h-6"}),title:"Real-time Monitoring",description:"Process and analyze traffic footage in real-time for immediate insights"},{icon:m.jsx(vj,{className:"w-6 h-6"}),title:"Privacy Protection",description:"Ensure data privacy through automated anonymization of sensitive information"}],o=[{icon:m.jsx(m1,{className:"w-6 h-6"}),title:"YOLOv8 Integration",description:"State-of-the-art object detection for accurate vehicle tracking"},{icon:m.jsx(is,{className:"w-6 h-6"}),title:"Statistical Analysis",description:"Advanced analytics for traffic patterns and behavior"},{icon:m.jsx(v1,{className:"w-6 h-6"}),title:"Edge Processing",description:"Local processing for enhanced privacy and reduced latency"},{icon:m.jsx(gj,{className:"w-6 h-6"}),title:"Data Security",description:"Robust security measures for sensitive information"},{icon:m.jsx(fj,{className:"w-6 h-6"}),title:"Interactive Dashboard",description:"Real-time visualization of traffic analytics"},{icon:m.jsx(hj,{className:"w-6 h-6"}),title:"API Integration",description:"Seamless integration with external systems"}],l=[{name:"Sasindu Dilshan Ranwadana",role:"Team Leader, Scrum Master, Developer",id:"104509653",github:"https://github.com/sasindudilshanranwadana"},{name:"Quang Vinh Le",role:"QA, Developer, Documentation",id:"104097488",github:"https://github.com/quangvinhlee"},{name:"Franco Octavio Jimenez Perez",role:"QA, Developer, Documentation, Communications",id:"104173896",github:"https://github.com/Osovich"},{name:"Janith Athuluwage",role:"Developer, Documentation, QA",id:"104798312",github:"https://github.com/janith14"},{name:"Thiviru Thejan",role:"Developer, Documentation, QA",id:"104321637",github:"https://github.com/tthejan"},{name:"Risinu Cooray",role:"Developer, Documentation, QA",id:"104333137",github:"https://github.com/risinu-c"}],c=[{quarter:"Sprint 1",title:"Project Setup & Planning",status:"Completed",tasks:"Repository setup, requirements gathering, and team organization"},{quarter:"Sprint 2",title:"Data Collection & Processing",status:"Completed",tasks:"Video data collection, preprocessing, and initial model training"},{quarter:"Sprint 3",title:"Core Development",status:"Completed",tasks:"YOLOv8 integration, dashboard development, and API implementation"},{quarter:"Sprint 4",title:"Testing & Optimization",status:"Completed",tasks:"System testing, performance optimization, and stakeholder feedback"},{quarter:"Sprint 5",title:"Deployment",status:"In Progress",tasks:"Production deployment, final testing, and system go-live"}];return m.jsxs("div",{className:`min-h-screen ${t?"bg-neural-900 text-white":"bg-neural-100 text-gray-900"}`,children:[m.jsx("nav",{className:`fixed w-full z-50 backdrop-blur-sm border-b ${t?"bg-neural-900/80 border-primary-500/10":"bg-white/80 border-gray-200"}`,children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsxs("div",{className:"flex items-center space-x-8",children:[m.jsx("span",{className:`text-xl font-bold ${t?"text-primary-400":"text-primary-600"} animate-float`,children:"Project 49"}),m.jsxs("div",{className:"hidden md:flex space-x-6",children:[m.jsx("a",{href:"#about",className:`${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors duration-300`,children:"About"}),m.jsx("a",{href:"#objectives",className:`${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors duration-300`,children:"Objectives"}),m.jsx("a",{href:"#features",className:`${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors duration-300`,children:"Features"}),m.jsx("a",{href:"#team",className:`${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors duration-300`,children:"Team"}),m.jsx("a",{href:"#timeline",className:`${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors duration-300`,children:"Timeline"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("a",{href:"https://github.com/sasindudilshanranwadana/SynerX",target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-lg transition-all duration-300 ${t?"text-gray-300 hover:text-white hover:bg-neural-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:m.jsx(Bm,{className:"w-5 h-5"})}),m.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-all duration-300 ${t?"bg-neural-800 text-gray-200 hover:bg-neural-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:t?m.jsx(W3,{className:"w-5 h-5 animate-pulse-glow"}):m.jsx($3,{className:"w-5 h-5 animate-pulse-glow"})}),s?m.jsx(So,{to:"/dashboard",className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 animate-glow ${t?"bg-primary-500 hover:bg-primary-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"Dashboard"}):m.jsx(So,{to:"/auth",className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 animate-glow ${t?"bg-primary-500 hover:bg-primary-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"Sign In"})]})]})})}),m.jsxs("section",{className:"relative pt-20 sm:pt-24 md:pt-32 pb-16 sm:pb-20 md:pb-24 neural-background",children:[m.jsx("div",{className:"absolute inset-0 grid-pattern opacity-20"}),m.jsx("div",{className:"absolute inset-0 neural-grid"}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:[m.jsx("div",{className:`inline-block px-6 py-2 rounded-full text-sm font-medium mb-8 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"AI-Powered Road Safety Analysis"}),m.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 animate-float",children:"Project 49"}),m.jsx("h2",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold mb-4 sm:mb-6 animate-float animation-delay-2000 ${t?"text-primary-400":"text-primary-600"}`,children:"Road-User Behaviour Analysis Using AI & Computer Vision"}),m.jsx("p",{className:`text-base sm:text-lg md:text-xl mb-6 sm:mb-8 md:mb-10 max-w-3xl mx-auto animate-float animation-delay-4000 ${t?"text-gray-400":"text-gray-600"}`,children:"Enhancing road safety through intelligent video analytics at level crossings"}),m.jsx("div",{className:"flex justify-center",children:s?m.jsx(So,{to:"/dashboard",className:`px-6 sm:px-8 py-2 sm:py-3 rounded-lg text-base sm:text-lg font-medium transition-all duration-300 animate-glow ${t?"bg-primary-500 hover:bg-primary-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"Go to Dashboard"}):m.jsx(So,{to:"/auth",className:`px-6 sm:px-8 py-2 sm:py-3 rounded-lg text-base sm:text-lg font-medium transition-all duration-300 animate-glow ${t?"bg-primary-500 hover:bg-primary-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:"Get Started"})})]})]}),m.jsx("section",{id:"about",className:"py-12 sm:py-16 md:py-20 lg:py-24",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium mb-6 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"About the Project"}),m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 animate-float animation-delay-2000",children:"Revolutionizing Road Safety with AI"}),m.jsx("p",{className:`mb-4 sm:mb-6 text-sm sm:text-base animate-float animation-delay-4000 ${t?"text-gray-400":"text-gray-600"}`,children:"Project 49 addresses the critical need for effective analysis of driver behavior at level crossings. Working with key stakeholders like VicRoads, Department of Transport, and V/Line, we're developing an innovative solution that provides meaningful insights from real-world traffic footage."}),m.jsx("p",{className:`text-sm sm:text-base animate-float animation-delay-4000 ${t?"text-gray-400":"text-gray-600"}`,children:"Our system processes traffic camera footage to detect vehicles, measure speed profiles, assess compliance behavior, and visualize data through an interactive dashboard, enabling data-driven decisions for road safety improvements."})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`absolute inset-0 rounded-xl ${t?"bg-primary-500/10":"bg-primary-600/10"} blur-3xl -z-10 animate-pulse-glow`}),m.jsx("img",{src:"https://iqehkneolpesaqznkqjm.supabase.co/storage/v1/object/sign/assets/m6-motorway-trim-result.gif?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV83YmM1YjM5OS00ZDQwLTRiMDktOGE3Yi1kOWMxNzlkNjcyM2UiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJhc3NldHMvbTYtbW90b3J3YXktdHJpbS1yZXN1bHQuZ2lmIiwiaWF0IjoxNzU4NzMwMDYyLCJleHAiOjMxNTUzNTg3MzAwNjJ9.pKZVb8o3SVRrZ_N5WGWNcrRI59hyZ-tcNongThzTQs4",alt:"Traffic Analysis with AI Detection",className:"rounded-xl shadow-2xl relative z-10 animate-float object-cover h-[250px] sm:h-[300px] md:h-[400px] w-full max-w-full"}),m.jsxs("div",{className:"mt-4 sm:mt-6 md:mt-8 text-center relative z-10 text-gray-300",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-4",children:"Project 49"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Road-User Behaviour Analysis Using AI & Computer Vision"})]})]})]})})}),m.jsx("section",{id:"objectives",className:`py-12 sm:py-16 md:py-20 lg:py-24 ${t?"bg-neural-800/50":"bg-gray-100"}`,children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[m.jsx("div",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium mb-6 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"Project Goals"}),m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold animate-float animation-delay-2000",children:"Key Objectives"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:a.map((u,h)=>m.jsxs("div",{className:`p-4 sm:p-6 rounded-xl transition-all duration-300 hover:scale-105 animate-float ${t?"bg-neural-800/50 hover:bg-neural-700/50":"bg-white hover:bg-gray-50 shadow-lg"}`,style:{animationDelay:`${h*200}ms`},children:[m.jsx("div",{className:`p-3 rounded-lg inline-block mb-4 animate-pulse-glow ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:u.icon}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:u.title}),m.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-400":"text-gray-600"}`,children:u.description})]},h))})]})}),m.jsx("section",{id:"features",className:"py-12 sm:py-16 md:py-20 lg:py-24 neural-background",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[m.jsx("div",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium mb-6 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"System Features"}),m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold animate-float animation-delay-2000",children:"Technical Capabilities"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:o.map((u,h)=>m.jsxs("div",{className:`p-4 sm:p-6 rounded-xl transition-all duration-300 hover:scale-105 animate-float ${t?"bg-neural-800/50 hover:bg-neural-700/50":"bg-white hover:bg-gray-50 shadow-lg"}`,style:{animationDelay:`${h*200}ms`},children:[m.jsx("div",{className:`p-3 rounded-lg inline-block mb-4 animate-pulse-glow ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:u.icon}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:u.title}),m.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-400":"text-gray-600"}`,children:u.description})]},h))})]})}),m.jsx("section",{id:"team",className:`py-12 sm:py-16 md:py-20 lg:py-24 ${t?"bg-neural-800/50":"bg-gray-100"}`,children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[m.jsx("div",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium mb-6 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"Meet SynerX"}),m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold animate-float animation-delay-2000",children:"Our Team"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:l.map((u,h)=>m.jsxs("div",{className:`text-center p-4 sm:p-6 rounded-xl transition-all duration-300 hover:scale-105 animate-float ${t?"bg-neural-800/50 hover:bg-neural-700/50":"bg-white hover:bg-gray-50 shadow-lg"}`,style:{animationDelay:`${h*200}ms`},children:[m.jsxs("div",{className:"relative mx-auto w-24 h-24 sm:w-32 sm:h-32 mb-4",children:[m.jsx("div",{className:`absolute inset-0 rounded-full blur-xl animate-pulse-glow ${t?"bg-primary-500/20":"bg-primary-600/20"}`}),m.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-br ${t?"from-neural-700 to-neural-800":"from-gray-100 to-gray-200"} flex items-center justify-center text-2xl sm:text-3xl font-bold relative z-10`,children:u.name.charAt(0)}),m.jsx("div",{className:`absolute inset-0 rounded-full ring-2 animate-glow ${t?"ring-primary-500":"ring-primary-600"}`})]}),m.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:u.name}),m.jsx("p",{className:`text-sm mb-2 ${t?"text-primary-400":"text-primary-600"}`,children:u.id}),m.jsx("p",{className:`text-xs sm:text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:u.role}),m.jsx("div",{className:"flex justify-center",children:m.jsx("a",{href:u.github,target:"_blank",rel:"noopener noreferrer",className:`transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:m.jsx(Bm,{className:"w-5 h-5"})})})]},h))})]})}),m.jsx("section",{id:"timeline",className:"py-12 sm:py-16 md:py-20 lg:py-24 neural-background",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[m.jsx("div",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium mb-6 animate-float ${t?"bg-primary-500/10 text-primary-400":"bg-primary-600/10 text-primary-600"}`,children:"Development Progress"}),m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold animate-float animation-delay-2000",children:"Project Timeline"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:c.map((u,h)=>m.jsxs("div",{className:`p-4 sm:p-6 rounded-xl transition-all duration-300 hover:scale-105 animate-float ${t?"bg-neural-800/50 hover:bg-neural-700/50":"bg-white hover:bg-gray-50 shadow-lg"}`,style:{animationDelay:`${h*200}ms`},children:[m.jsx("div",{className:`text-lg font-semibold ${t?"text-primary-400":"text-primary-600"}`,children:u.quarter}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:u.title}),m.jsx("p",{className:`text-sm mb-3 ${t?"text-gray-400":"text-gray-600"}`,children:u.tasks}),m.jsx("p",{className:`text-sm font-medium ${u.status==="Completed"?"text-green-500":u.status==="In Progress"?t?"text-primary-400":"text-primary-600":t?"text-gray-400":"text-gray-600"}`,children:u.status})]},h))})]})}),m.jsx("footer",{className:`py-8 sm:py-10 md:py-12 ${t?"bg-neural-800/50":"bg-gray-100"}`,children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:[m.jsxs("div",{className:"animate-float",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4",children:"Swinburne"}),m.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-400":"text-gray-600"}`,children:"A research project by Swinburne University of Technology"})]}),m.jsxs("div",{className:"animate-float animation-delay-2000",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4",children:"Quick Links"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"#about",className:`text-sm sm:text-base transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"About"})}),m.jsx("li",{children:m.jsx("a",{href:"#objectives",className:`text-sm sm:text-base transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Objectives"})}),m.jsx("li",{children:m.jsx("a",{href:"#features",className:`text-sm sm:text-base transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Features"})}),m.jsx("li",{children:m.jsx("a",{href:"#team",className:`text-sm sm:text-base transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Team"})})]})]}),m.jsxs("div",{className:"animate-float animation-delay-4000",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4",children:"Contact"}),m.jsx("p",{className:`mb-4 text-sm sm:text-base ${t?"text-gray-400":"text-gray-600"}`,children:"For inquiries, please contact our team at Swinburne University"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:`transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:m.jsx(xj,{className:"w-5 h-5"})}),m.jsx("a",{href:"#",className:`transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:m.jsx(B3,{className:"w-5 h-5"})}),m.jsx("a",{href:"https://github.com/sasindudilshanranwadana/SynerX",target:"_blank",rel:"noopener noreferrer",className:`transition-colors duration-300 ${t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:m.jsx(Bm,{className:"w-5 h-5"})})]})]})]}),m.jsx("div",{className:`mt-8 sm:mt-10 md:mt-12 pt-6 sm:pt-8 border-t ${t?"border-neural-700":"border-gray-200"} text-center ${t?"text-gray-400":"text-gray-600"}`,children:m.jsx("p",{className:"text-sm sm:text-base",children:"© 2024 Project 49. All rights reserved."})})]})})]})}const _j=async t=>{try{const{data:e,error:n}=await Jt.from("videos").insert([t]).select().single();if(n)throw n;return e}catch(e){throw console.error("Error inserting video:",e),e}},Sj=async()=>{try{const{data:t,error:e}=await Jt.from("videos").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching videos:",t),t}},q3=async()=>{try{const{data:t,error:e}=await Jt.from("tracking_results").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching all tracking results:",t),t}},kj=async()=>{try{const{data:t,error:e}=await Jt.from("vehicle_counts").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching all vehicle counts:",t),t}},Nj=async()=>{try{const[t,e,n]=await Promise.all([Sj(),q3(),kj()]),r=t.length,i=t.filter(h=>h.status==="completed").length,s=e.length,a=e.filter(h=>h.compliance===0).length,o=e.filter(h=>h.compliance===1),l=s>0?o.length/s*100:0,c=o.map(h=>h.reaction_time).filter(h=>h!=null&&h>0),u=c.length>0?c.reduce((h,p)=>h+p,0)/c.length:0;return{totalVideos:r,processedVideos:i,totalVehicles:s,violations:a,complianceRate:l,avgReactionTime:u,trackingResults:e,vehicleCounts:n,videos:t}}catch(t){throw console.error("Error getting overall analytics:",t),t}};function Rh({className:t=""}){const[e,n]=_e.useState(()=>On()==="dark"),[r,i]=_e.useState("connecting");_e.useEffect(()=>{const c=()=>{n(On()==="dark")};window.addEventListener("themeChanged",c),s();const u=setInterval(s,3e4);return()=>{window.removeEventListener("themeChanged",c),clearInterval(u)}},[]);const s=async()=>{i("connecting");try{const u=await fetch("https://cpsag04jw65we6-8000.proxy.runpod.net/",{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(u.ok){const h=await u.json();h.message==="SynerX API is running!"&&h.status==="ok"?i("connected"):i("error")}else i("error")}catch{i("error")}},a=c=>{switch(c){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500";case"error":return"bg-red-500";case"disconnected":return"bg-gray-500";default:return"bg-gray-500"}},o=c=>{switch(c){case"connected":return"animate-ping";case"connecting":return"animate-pulse";default:return""}},l=c=>{switch(c){case"connected":return"RunPod Connected";case"connecting":return"Connecting...";case"error":return"RunPod Disconnected";case"disconnected":return"RunPod Disconnected";default:return"Unknown Status"}};return m.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 px-3 py-2 rounded-lg backdrop-blur-sm ${e?"bg-[#151F32]/90 border border-[#1E293B]":"bg-white/90 border border-gray-200"} ${t}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${a(r)}`}),r==="connected"&&m.jsx("div",{className:`absolute inset-0 w-3 h-3 rounded-full ${a(r)} ${o(r)} opacity-75`}),r==="connecting"&&m.jsx("div",{className:`absolute inset-0 w-3 h-3 rounded-full ${a(r)} ${o(r)}`})]}),m.jsx("span",{className:`text-xs font-medium ${e?"text-gray-300":"text-gray-700"}`,children:l(r)})]})}function Pj(){var E,M,j,A,Y;const[t,e]=_e.useState(!1),[n,r]=_e.useState(null),[i,s]=_e.useState(()=>On()==="dark"),[a,o]=_e.useState({videosProcessed:0,violations:0,complianceRate:0,avgReactionTime:0}),[l,c]=_e.useState(!0),[u,h]=_e.useState([{name:"YOLOv8 Model",status:"Down",icon:m.jsx(m1,{className:"w-5 h-5"})},{name:"Video Processing",status:"Down",icon:m.jsx(is,{className:"w-5 h-5"})},{name:"Database Sync",status:"Down",icon:m.jsx(v1,{className:"w-5 h-5"})}]),[p,f]=_e.useState([{event:"Loading recent activity...",time:"Just now",type:"info"}]);_e.useEffect(()=>{(async()=>{const{data:{user:G}}=await Jt.auth.getUser();r(G)})(),v();const ne=setInterval(v,3e4);return()=>clearInterval(ne)},[]),_e.useEffect(()=>{const z=()=>{s(On()==="dark")};return window.addEventListener("themeChanged",z),()=>window.removeEventListener("themeChanged",z)},[]);const v=async()=>{try{await Promise.all([w(),y(),P()])}catch(z){console.error("Error loading dashboard data:",z)}finally{c(!1)}},w=async()=>{try{const G=(await fetch("https://cpsag04jw65we6-8000.proxy.runpod.net/",{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)})).ok,W=G,H=await k();h([{name:"YOLOv8 Model",status:G?"Operational":"Down",icon:m.jsx(m1,{className:"w-5 h-5"}),lastChecked:new Date().toLocaleTimeString()},{name:"Video Processing",status:W?"Operational":"Down",icon:m.jsx(is,{className:"w-5 h-5"}),lastChecked:new Date().toLocaleTimeString()},{name:"Database Sync",status:H?"Operational":"Down",icon:m.jsx(v1,{className:"w-5 h-5"}),lastChecked:new Date().toLocaleTimeString()}])}catch(z){console.error("Error checking system status:",z),h(ne=>ne.map(G=>({...G,status:"Down"})))}},k=async()=>{try{const{data:z,error:ne}=await Jt.from("videos").select("count").limit(1);return!ne}catch{return!1}},y=async()=>{try{try{const W=await fetch("https://cpsag04jw65we6-8000.proxy.runpod.net/recent-activity",{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(W.ok){const H=await W.json();if(H.activities&&Array.isArray(H.activities)){f(H.activities);return}}}catch{console.log("Backend recent activity not available, using database fallback")}const{data:z}=await Jt.from("videos").select("*").order("created_at",{ascending:!1}).limit(5),ne=[];z==null||z.forEach(G=>{const W=b(G.created_at);ne.push({event:`New video uploaded: ${G.video_name}`,time:W,type:"info"})}),ne.sort((G,W)=>{const H=S(G.time),V=S(W.time);return H-V}),f(ne.slice(0,5))}catch(z){console.error("Error loading recent activity:",z),f([{event:"Unable to load recent activity",time:"Just now",type:"error"}])}},b=z=>{const ne=new Date,G=new Date(z),W=Math.floor((ne.getTime()-G.getTime())/(1e3*60));if(W<1)return"Just now";if(W<60)return`${W} minute${W>1?"s":""} ago`;const H=Math.floor(W/60);if(H<24)return`${H} hour${H>1?"s":""} ago`;const V=Math.floor(H/24);return`${V} day${V>1?"s":""} ago`},S=z=>{if(z==="Just now")return 0;const ne=z.match(/(\d+)\s+(minute|hour|day)/);if(!ne)return 0;const G=parseInt(ne[1]);switch(ne[2]){case"minute":return G;case"hour":return G*60;case"day":return G*60*24;default:return 0}},P=async()=>{try{try{const G=await fetch("https://cpsag04jw65we6-8000.proxy.runpod.net/analytics/summary",{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(G.ok){const W=await G.json();if(W.stats){o({videosProcessed:W.stats.videosProcessed||0,violations:W.stats.violations||0,complianceRate:W.stats.complianceRate||0,avgReactionTime:W.stats.avgReactionTime||0});return}}}catch{console.log("Backend analytics not available, using database fallback")}const z=await Nj();o({videosProcessed:z.processedVideos,violations:z.violations,complianceRate:z.complianceRate,avgReactionTime:z.avgReactionTime})}catch(z){console.error("Error loading analytics:",z),o({videosProcessed:0,violations:0,complianceRate:0,avgReactionTime:0})}finally{c(!1)}},O=z=>{switch(z){case"Operational":return"text-green-400";case"Degraded":return"text-yellow-400";case"Down":return"text-red-400";default:return"text-gray-400"}},I=z=>{switch(z){case"success":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-primary-500"}},T=[{icon:m.jsx(r2,{className:"w-5 h-5"}),label:"Home",path:"/"},{icon:m.jsx(R3,{className:"w-5 h-5"}),label:"Dashboard",path:"/dashboard",active:!0},{icon:m.jsx(H3,{className:"w-5 h-5"}),label:"Video Upload",path:"/upload"},{icon:m.jsx(is,{className:"w-5 h-5"}),label:"Analytics",path:"/analytics"},{icon:m.jsx(dp,{className:"w-5 h-5"}),label:"Video Playback",path:"/playback"},{icon:m.jsx(U3,{className:"w-5 h-5"}),label:"Settings",path:"/settings"}],N=async()=>{try{await Jt.auth.signOut()}catch(z){console.error("Error signing out:",z)}};return m.jsxs("div",{className:`min-h-screen ${i?"bg-[#0B1121] text-white":"bg-gray-50 text-gray-900"}`,children:[m.jsx(Rh,{}),m.jsx("div",{className:`lg:hidden fixed top-0 left-0 right-0 z-50 p-4 border-b ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{onClick:()=>e(!t),className:"p-2",children:t?m.jsx(Ls,{className:"w-6 h-6"}):m.jsx(z3,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xl font-bold",children:"Project 49"}),m.jsx("img",{src:((E=n==null?void 0:n.user_metadata)==null?void 0:E.avatar_url)||`https://ui-avatars.com/api/?name=${(n==null?void 0:n.email)||"User"}&background=0B1121&color=fff`,alt:"Profile",className:"w-8 h-8 rounded-full border-2 border-primary-500"})]})}),m.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 transform transition-transform duration-300 ease-in-out z-40 border-r ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"} ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsx("div",{className:`p-6 mt-14 lg:mt-0 border-b ${i?"border-[#1E293B]":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:((M=n==null?void 0:n.user_metadata)==null?void 0:M.avatar_url)||`https://ui-avatars.com/api/?name=${(n==null?void 0:n.email)||"User"}&background=0B1121&color=fff`,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-primary-500"}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-semibold",children:((j=n==null?void 0:n.user_metadata)==null?void 0:j.full_name)||"User"}),m.jsx("p",{className:`text-sm truncate max-w-[150px] ${i?"text-gray-400":"text-gray-600"}`,children:n==null?void 0:n.email})]})]})}),m.jsx("nav",{className:"p-4 overflow-y-auto h-[calc(100vh-200px)]",children:T.map((z,ne)=>m.jsxs(So,{to:z.path,onClick:()=>e(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${z.active?"bg-primary-500/20 text-primary-500":i?"hover:bg-[#1E293B] text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:[z.icon,z.label]},ne))}),m.jsx("div",{className:"absolute bottom-0 w-full p-4",children:m.jsxs("button",{onClick:N,className:`flex items-center gap-2 w-full px-4 py-2 rounded-lg text-red-500 transition-colors ${i?"hover:bg-red-500/10":"hover:bg-red-50"}`,children:[m.jsx(I3,{className:"w-5 h-5"}),"Sign Out"]})})]}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>e(!1)}),m.jsxs("main",{className:"lg:ml-64 p-4 lg:p-8 mt-16 lg:mt-0",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-2",children:["Welcome back, ",((Y=(A=n==null?void 0:n.user_metadata)==null?void 0:A.full_name)==null?void 0:Y.split(" ")[0])||"User"]}),m.jsx("p",{className:`text-sm lg:text-base ${i?"text-gray-400":"text-gray-600"}`,children:"Here's what's happening with your monitoring system"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6 mb-8",children:l?Array(4).fill(null).map((z,ne)=>m.jsxs("div",{className:`p-6 rounded-xl animate-pulse border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsx("div",{className:"h-10 w-10 bg-primary-500/10 rounded-lg mb-4"}),m.jsx("div",{className:`h-8 w-24 rounded mb-2 ${i?"bg-gray-700":"bg-gray-300"}`}),m.jsx("div",{className:`h-4 w-32 rounded ${i?"bg-gray-700":"bg-gray-300"}`})]},ne)):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2 sm:gap-0",children:[m.jsx("div",{className:"p-2 lg:p-3 bg-primary-500/10 rounded-lg text-primary-500",children:m.jsx(D3,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500/10 text-blue-400 whitespace-nowrap",children:"Active"})]}),m.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1",children:a.videosProcessed}),m.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Videos Processed"})]}),m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2 sm:gap-0",children:[m.jsx("div",{className:"p-2 lg:p-3 bg-primary-500/10 rounded-lg text-primary-500",children:m.jsx(is,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/10 text-orange-400 whitespace-nowrap",children:"Alert"})]}),m.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1",children:a.violations}),m.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Violations Detected"})]}),m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2 sm:gap-0",children:[m.jsx("div",{className:"p-2 lg:p-3 bg-primary-500/10 rounded-lg text-primary-500",children:m.jsx(is,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/10 text-green-400 whitespace-nowrap",children:"Stable"})]}),m.jsxs("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1",children:[a.complianceRate.toFixed(1),"%"]}),m.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Compliance Rate"})]}),m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2 sm:gap-0",children:[m.jsx("div",{className:"p-2 lg:p-3 bg-primary-500/10 rounded-lg text-primary-500",children:m.jsx(F3,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500/10 text-blue-400 whitespace-nowrap",children:"per vehicle"})]}),m.jsxs("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1",children:[a.avgReactionTime.toFixed(2),"s"]}),m.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Avg. Reaction Time"})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 lg:gap-6",children:[m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-4 lg:mb-6",children:"System Status"}),m.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[m.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2 sm:gap-0",children:m.jsxs("span",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Last updated: ",new Date().toLocaleTimeString()]})}),u.map((z,ne)=>m.jsxs("div",{className:`flex items-center justify-between p-3 lg:p-4 rounded-lg ${i?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[m.jsx("div",{className:"text-primary-500",children:z.icon}),m.jsx("span",{className:"text-sm lg:text-base truncate",children:z.name})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("span",{className:`text-sm lg:text-base ${O(z.status)}`,children:z.status}),z.lastChecked&&m.jsx("div",{className:`text-xs ${i?"text-gray-500":"text-gray-400"}`,children:z.lastChecked})]})]},ne))]})]}),m.jsxs("div",{className:`p-4 lg:p-6 rounded-xl border ${i?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200 shadow-lg"}`,children:[m.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-4 lg:mb-6",children:"Recent Activity"}),m.jsx("div",{className:"space-y-3 lg:space-y-4",children:p.map((z,ne)=>m.jsxs("div",{className:`flex items-center gap-3 lg:gap-4 p-3 lg:p-4 rounded-lg ${i?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${I(z.type)}`}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"text-sm lg:text-base truncate",children:z.event}),m.jsx("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:z.time})]})]},ne))})]})]})]})]})}var V3={exports:{}},Aj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cj=Aj,jj=Cj;function Y3(){}function G3(){}G3.resetWarningCache=Y3;var Lj=function(){function t(r,i,s,a,o,l){if(l!==jj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G3,resetWarningCache:Y3};return n.PropTypes=n,n};V3.exports=Lj();var Ej=V3.exports;const Ar=Z1(Ej);var Tj=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(this,arguments)}function Oj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_1(t,e)}var Yp=function(t){Mj(e,t);function e(){var r;return r=t.call(this)||this,r.handleExpired=r.handleExpired.bind(Jd(r)),r.handleErrored=r.handleErrored.bind(Jd(r)),r.handleChange=r.handleChange.bind(Jd(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(Jd(r)),r}var n=e.prototype;return n.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},n.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var i=this;return new Promise(function(s,a){i.executionResolve=s,i.executionReject=a,i.execute()})},n.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},n.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=i(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(i){this.captcha=i},n.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var s=Oj(i,Tj);return Be.createElement("div",w1({},s,{ref:this.handleRecaptchaRef}))},e}(Be.Component);Yp.displayName="ReCAPTCHA";Yp.propTypes={sitekey:Ar.string.isRequired,onChange:Ar.func,grecaptcha:Ar.object,theme:Ar.oneOf(["dark","light"]),type:Ar.oneOf(["image","audio"]),tabindex:Ar.number,onExpired:Ar.func,onErrored:Ar.func,size:Ar.oneOf(["compact","normal","invisible"]),stoken:Ar.string,hl:Ar.string,badge:Ar.oneOf(["bottomright","bottomleft","inline"]),isolated:Ar.bool};Yp.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var J3={exports:{}},Dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=typeof Symbol=="function"&&Symbol.for,s2=Wn?Symbol.for("react.element"):60103,a2=Wn?Symbol.for("react.portal"):60106,Gp=Wn?Symbol.for("react.fragment"):60107,Jp=Wn?Symbol.for("react.strict_mode"):60108,Kp=Wn?Symbol.for("react.profiler"):60114,Xp=Wn?Symbol.for("react.provider"):60109,Qp=Wn?Symbol.for("react.context"):60110,o2=Wn?Symbol.for("react.async_mode"):60111,Zp=Wn?Symbol.for("react.concurrent_mode"):60111,eg=Wn?Symbol.for("react.forward_ref"):60112,tg=Wn?Symbol.for("react.suspense"):60113,Rj=Wn?Symbol.for("react.suspense_list"):60120,ng=Wn?Symbol.for("react.memo"):60115,rg=Wn?Symbol.for("react.lazy"):60116,Dj=Wn?Symbol.for("react.block"):60121,Fj=Wn?Symbol.for("react.fundamental"):60117,Ij=Wn?Symbol.for("react.responder"):60118,Bj=Wn?Symbol.for("react.scope"):60119;function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case s2:switch(t=t.type,t){case o2:case Zp:case Gp:case Kp:case Jp:case tg:return t;default:switch(t=t&&t.$$typeof,t){case Qp:case eg:case rg:case ng:case Xp:return t;default:return e}}case a2:return e}}}function K3(t){return Qr(t)===Zp}Dt.AsyncMode=o2;Dt.ConcurrentMode=Zp;Dt.ContextConsumer=Qp;Dt.ContextProvider=Xp;Dt.Element=s2;Dt.ForwardRef=eg;Dt.Fragment=Gp;Dt.Lazy=rg;Dt.Memo=ng;Dt.Portal=a2;Dt.Profiler=Kp;Dt.StrictMode=Jp;Dt.Suspense=tg;Dt.isAsyncMode=function(t){return K3(t)||Qr(t)===o2};Dt.isConcurrentMode=K3;Dt.isContextConsumer=function(t){return Qr(t)===Qp};Dt.isContextProvider=function(t){return Qr(t)===Xp};Dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===s2};Dt.isForwardRef=function(t){return Qr(t)===eg};Dt.isFragment=function(t){return Qr(t)===Gp};Dt.isLazy=function(t){return Qr(t)===rg};Dt.isMemo=function(t){return Qr(t)===ng};Dt.isPortal=function(t){return Qr(t)===a2};Dt.isProfiler=function(t){return Qr(t)===Kp};Dt.isStrictMode=function(t){return Qr(t)===Jp};Dt.isSuspense=function(t){return Qr(t)===tg};Dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gp||t===Zp||t===Kp||t===Jp||t===tg||t===Rj||typeof t=="object"&&t!==null&&(t.$$typeof===rg||t.$$typeof===ng||t.$$typeof===Xp||t.$$typeof===Qp||t.$$typeof===eg||t.$$typeof===Fj||t.$$typeof===Ij||t.$$typeof===Bj||t.$$typeof===Dj)};Dt.typeOf=Qr;J3.exports=Dt;var zj=J3.exports,l2=zj,$j={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Uj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c2={};c2[l2.ForwardRef]=Wj;c2[l2.Memo]=X3;function I5(t){return l2.isMemo(t)?X3:c2[t.$$typeof]||$j}var Hj=Object.defineProperty,qj=Object.getOwnPropertyNames,B5=Object.getOwnPropertySymbols,Vj=Object.getOwnPropertyDescriptor,Yj=Object.getPrototypeOf,z5=Object.prototype;function Q3(t,e,n){if(typeof e!="string"){if(z5){var r=Yj(e);r&&r!==z5&&Q3(t,r,n)}var i=qj(e);B5&&(i=i.concat(B5(e)));for(var s=I5(t),a=I5(e),o=0;o<i.length;++o){var l=i[o];if(!Uj[l]&&!(n&&n[l])&&!(a&&a[l])&&!(s&&s[l])){var c=Vj(e,l);try{Hj(t,l,c)}catch{}}}}return t}var Gj=Q3;const Jj=Z1(Gj);function S1(){return S1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S1.apply(this,arguments)}function Kj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ki={},Qj=0;function Zj(t,e){return e=e||{},function(r){var i=r.displayName||r.name||"Component",s=function(o){Xj(l,o);function l(u,h){var p;return p=o.call(this,u,h)||this,p.state={},p.__scriptURL="",p}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Qj++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(h){var p=this;this.setState(h,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=ki[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var p in h.observers)h.observers[p](h);delete window[e.callbackName]},c.componentDidMount=function(){var h=this,p=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),v=e,w=v.globalName,k=v.callbackName,y=v.scriptId;if(w&&typeof window[w]<"u"&&(ki[p]={loaded:!0,observers:{}}),ki[p]){var b=ki[p];if(b&&(b.loaded||b.errored)){this.asyncScriptLoaderHandleLoad(b);return}b.observers[f]=function(T){return h.asyncScriptLoaderHandleLoad(T)};return}var S={};S[f]=function(T){return h.asyncScriptLoaderHandleLoad(T)},ki[p]={loaded:!1,observers:S};var P=document.createElement("script");P.src=p,P.async=!0;for(var O in e.attributes)P.setAttribute(O,e.attributes[O]);y&&(P.id=y);var I=function(N){if(ki[p]){var E=ki[p],M=E.observers;for(var j in M)N(M[j])&&delete M[j]}};k&&typeof window<"u"&&(window[k]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),P.onload=function(){var T=ki[p];T&&(T.loaded=!0,I(function(N){return k?!1:(N(T),!0)}))},P.onerror=function(){var T=ki[p];T&&(T.errored=!0,I(function(N){return N(T),!0}))},document.body.appendChild(P)},c.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),f=0;f<p.length;f+=1)p[f].src.indexOf(h)>-1&&p[f].parentNode&&p[f].parentNode.removeChild(p[f]);var v=ki[h];v&&(delete v.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete ki[h])},c.render=function(){var h=e.globalName,p=this.props;p.asyncScriptOnLoad;var f=p.forwardedRef,v=Kj(p,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(v[h]=typeof window[h]<"u"?window[h]:void 0),v.ref=f,Be.createElement(r,v)},l}(Be.Component),a=Be.forwardRef(function(o,l){return Be.createElement(s,S1({},o,{forwardedRef:l}))});return a.displayName="AsyncScriptLoader("+i+")",a.propTypes={asyncScriptOnLoad:Ar.func},Jj(a,r)}}var k1="onloadcallback",eL="grecaptcha";function N1(){return typeof window<"u"&&window.recaptchaOptions||{}}function tL(){var t=N1(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+k1+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+k1+"&render=explicit"}const nL=Zj(tL,{callbackName:k1,globalName:eL,attributes:N1().nonce?{nonce:N1().nonce}:{}})(Yp);function rL(){const t=Th(),[e]=zP(),[n,r]=_e.useState(!1),[i,s]=_e.useState(!1),[a,o]=_e.useState(!1),[l,c]=_e.useState(!1),[u,h]=_e.useState(null),[p,f]=_e.useState(!1),[v,w]=_e.useState(""),[k,y]=_e.useState(null),[b,S]=_e.useState({email:"",password:"",confirmPassword:""}),P=_e.useRef(null);_e.useEffect(()=>{const{data:{subscription:E}}=Jt.auth.onAuthStateChange((A,Y)=>{A==="SIGNED_UP"&&console.log("User signed up, waiting for email confirmation"),A==="SIGNED_IN"&&Y&&(O("success","Welcome! You have successfully signed in to your account."),setTimeout(()=>t("/dashboard"),2e3))}),M=e.get("access_token"),j=e.get("refresh_token");return M&&j&&t("/dashboard"),()=>E.unsubscribe()},[t,e]);const O=(E,M)=>{y({type:E,message:M}),setTimeout(()=>y(null),5e3)},I=async()=>{if(!v){O("error","No email address found. Please try signing up again.");return}s(!0);try{const{error:E}=await Jt.auth.resend({type:"signup",email:v,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(E)throw E;O("success","Confirmation email has been resent. Please check your inbox.")}catch(E){O("error",E.message)}finally{s(!1)}},T=async E=>{var M,j;if(E.preventDefault(),!u){O("error","Please complete the reCAPTCHA verification.");return}if(n&&b.password!==b.confirmPassword){O("error","Passwords do not match. Please ensure both password fields are identical.");return}if(b.password.length<6){O("error","Password must be at least 6 characters long for security purposes.");return}s(!0);try{if(n){const{error:A}=await Jt.auth.signUp({email:b.email,password:b.password,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(A)throw A;w(b.email),f(!0),O("success","Account created successfully! We've sent a confirmation email to your inbox. Please check your email and click the confirmation link to activate your account."),S({email:"",password:"",confirmPassword:""}),(M=P.current)==null||M.reset(),h(null)}else{const{error:A}=await Jt.auth.signInWithPassword({email:b.email,password:b.password});if(A)throw A.message.includes("Invalid login credentials")?new Error("The email or password you entered is incorrect. Please check your credentials and try again."):A.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link to activate your account before signing in."):A}}catch(A){O("error",A.message),(j=P.current)==null||j.reset(),h(null)}finally{s(!1)}},N=E=>{S({...b,[E.target.name]:E.target.value})};return p?m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0B1121] relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 neural-grid opacity-10"}),m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),k&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-md ${k.type==="success"?"bg-green-500":k.type==="error"?"bg-red-500":"bg-blue-500"}`,children:[k.type==="success"?m.jsx(Zl,{className:"w-5 h-5 flex-shrink-0"}):m.jsx(gh,{className:"w-5 h-5 flex-shrink-0"}),m.jsx("span",{className:"text-white text-sm",children:k.message})]}),m.jsxs("div",{className:"bg-[#151F32]/50 p-8 rounded-2xl border border-[#1E293B] backdrop-blur-sm max-w-md w-full mx-4 relative",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-500/10 rounded-full flex items-center justify-center mb-4",children:m.jsx(Zl,{className:"w-8 h-8 text-primary-500"})}),m.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Check Your Email"}),m.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"We've sent a confirmation email to:"}),m.jsx("div",{className:"bg-[#1E293B] rounded-lg p-3 mb-4",children:m.jsx("p",{className:"text-primary-400 font-medium",children:v})}),m.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Click the confirmation link in the email to activate your account. The link will expire in 24 hours for security."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("button",{onClick:I,disabled:i,className:"w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200",children:i?"Sending...":"Resend Confirmation Email"}),m.jsx("button",{onClick:()=>{f(!1),w(""),r(!1)},className:"w-full py-3 px-4 bg-[#1E293B] hover:bg-[#2D3B4E] text-gray-300 font-medium rounded-lg transition-all duration-200",children:"Back to Sign In"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-gray-400 text-sm",children:"Didn't receive the email? Check your spam folder or try resending."})})]})]}):m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0B1121] relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 neural-grid opacity-10"}),m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),k&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-md ${k.type==="success"?"bg-green-500":k.type==="error"?"bg-red-500":"bg-blue-500"}`,children:[k.type==="success"?m.jsx(Zl,{className:"w-5 h-5 flex-shrink-0"}):m.jsx(gh,{className:"w-5 h-5 flex-shrink-0"}),m.jsx("span",{className:"text-white text-sm",children:k.message})]}),m.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-8 p-4 relative",children:[m.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center p-6 lg:p-8 relative overflow-hidden bg-[#151F32]/50 rounded-2xl border border-[#1E293B]",children:[m.jsx("div",{className:"absolute inset-0 neural-grid opacity-20"}),m.jsx("img",{src:"https://iqehkneolpesaqznkqjm.supabase.co/storage/v1/object/sign/assets/m6-motorway-trim-result.gif?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV83YmM1YjM5OS00ZDQwLTRiMDktOGE3Yi1kOWMxNzlkNjcyM2UiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJhc3NldHMvbTYtbW90b3J3YXktdHJpbS1yZXN1bHQuZ2lmIiwiaWF0IjoxNzU4NzMwMDYyLCJleHAiOjMxNTUzNTg3MzAwNjJ9.pKZVb8o3SVRrZ_N5WGWNcrRI59hyZ-tcNongThzTQs4",alt:"AI Traffic Analysis",className:"rounded-xl shadow-2xl relative z-10 animate-float object-cover h-[300px] lg:h-[400px] w-full max-w-full"}),m.jsxs("div",{className:"mt-6 lg:mt-8 text-center relative z-10 text-gray-300",children:[m.jsx("h2",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-4",children:"Project 49"}),m.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Road-User Behaviour Analysis Using AI & Computer Vision"})]})]}),m.jsxs("div",{className:"bg-[#151F32]/50 p-6 sm:p-8 rounded-2xl border border-[#1E293B] backdrop-blur-sm",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsxs(So,{to:"/",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[m.jsx(cj,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 text-white",children:n?"Create Account":"Welcome Back"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-400 mb-6 sm:mb-8",children:n?"Join Project 49 to access advanced traffic analysis tools":"Sign in to your account to continue"}),m.jsxs("form",{onSubmit:T,className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),m.jsx("input",{type:"email",name:"email",value:b.email,onChange:N,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1E293B] border border-[#334155] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20 transition-all text-sm sm:text-base",placeholder:"Enter your email address"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:a?"text":"password",name:"password",value:b.password,onChange:N,required:!0,minLength:6,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1E293B] border border-[#334155] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20 transition-all pr-10 sm:pr-12 text-sm sm:text-base",placeholder:"Enter your password"}),m.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:a?m.jsx(D5,{className:"w-5 h-5"}):m.jsx(x1,{className:"w-5 h-5"})})]})]}),n&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:l?"text":"password",name:"confirmPassword",value:b.confirmPassword,onChange:N,required:!0,minLength:6,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1E293B] border border-[#334155] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20 transition-all pr-10 sm:pr-12 text-sm sm:text-base",placeholder:"Confirm your password"}),m.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:l?m.jsx(D5,{className:"w-5 h-5"}):m.jsx(x1,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"flex justify-center",children:m.jsx(nL,{ref:P,sitekey:"6Le0Q7wrAAAAAABAh2pXfgRl2nCAWyhvY40ns4Ye",onChange:h,theme:"dark"})}),m.jsx("button",{type:"submit",disabled:i||!u,className:"w-full py-2 sm:py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-400/20 text-sm sm:text-base",children:i?m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n?"Creating Account...":"Signing In..."]}):n?"Create Account":"Sign In"}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{var E;r(!n),S({email:"",password:"",confirmPassword:""}),y(null),(E=P.current)==null||E.reset(),h(null)},className:"text-sm sm:text-base text-primary-400 hover:text-primary-300 transition-colors",children:n?"Already have an account? Sign in here":"Need an account? Create one here"})})]})]})]})]})}function ig({title:t,onToggleSidebar:e,isSidebarOpen:n}){var o;const[r,i]=_e.useState(null),[s,a]=_e.useState(()=>On()==="dark");return _e.useEffect(()=>{Jt.auth.getUser().then(({data:{user:c}})=>{i(c)});const{data:{subscription:l}}=Jt.auth.onAuthStateChange((c,u)=>{i((u==null?void 0:u.user)??null)});return()=>l.unsubscribe()},[]),_e.useEffect(()=>{const l=()=>{a(On()==="dark")};return window.addEventListener("themeChanged",l),()=>window.removeEventListener("themeChanged",l)},[]),m.jsx("div",{className:`lg:hidden fixed top-0 left-0 right-0 z-50 px-4 py-3 border-b ${s?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{onClick:e,className:"p-1 sm:p-2",children:n?m.jsx(Ls,{className:"w-6 h-6"}):m.jsx(z3,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-lg sm:text-xl font-bold truncate px-4",children:t}),m.jsx("img",{src:((o=r==null?void 0:r.user_metadata)==null?void 0:o.avatar_url)||`https://ui-avatars.com/api/?name=${(r==null?void 0:r.email)||"User"}&background=0B1121&color=fff`,alt:"Profile",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-primary-500 flex-shrink-0"})]})})}const iL=[{icon:m.jsx(r2,{className:"w-5 h-5"}),label:"Home",path:"/"},{icon:m.jsx(R3,{className:"w-5 h-5"}),label:"Dashboard",path:"/dashboard"},{icon:m.jsx(H3,{className:"w-5 h-5"}),label:"Video Upload",path:"/upload"},{icon:m.jsx(is,{className:"w-5 h-5"}),label:"Analytics",path:"/analytics"},{icon:m.jsx(dp,{className:"w-5 h-5"}),label:"Video Playback",path:"/playback"},{icon:m.jsx(U3,{className:"w-5 h-5"}),label:"Settings",path:"/settings"}];function sL({activePath:t,onCloseSidebar:e}){var o,l;const[n,r]=_e.useState(null),[i,s]=_e.useState(()=>On()==="dark");_e.useEffect(()=>{Jt.auth.getUser().then(({data:{user:u}})=>{r(u)});const{data:{subscription:c}}=Jt.auth.onAuthStateChange((u,h)=>{r((h==null?void 0:h.user)??null)});return()=>c.unsubscribe()},[]),_e.useEffect(()=>{const c=()=>{s(On()==="dark")};return window.addEventListener("themeChanged",c),()=>window.removeEventListener("themeChanged",c)},[]);const a=async()=>{try{await Jt.auth.signOut()}catch(c){console.error("Error signing out:",c)}};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`p-4 sm:p-6 mt-14 lg:mt-0 border-b ${i?"border-[#1E293B]":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:((o=n==null?void 0:n.user_metadata)==null?void 0:o.avatar_url)||`https://ui-avatars.com/api/?name=${(n==null?void 0:n.email)||"User"}&background=0B1121&color=fff`,alt:"Profile",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 border-primary-500 flex-shrink-0"}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h2",{className:"font-semibold text-sm sm:text-base truncate",children:((l=n==null?void 0:n.user_metadata)==null?void 0:l.full_name)||"User"}),m.jsx("p",{className:`text-xs sm:text-sm truncate ${i?"text-gray-400":"text-gray-600"}`,children:n==null?void 0:n.email})]})]})}),m.jsx("nav",{className:"p-3 sm:p-4 overflow-y-auto h-[calc(100vh-180px)] sm:h-[calc(100vh-200px)]",children:iL.map((c,u)=>m.jsxs(So,{to:c.path,onClick:e,className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg mb-1 transition-colors text-sm sm:text-base ${c.path===t?"bg-primary-500/20 text-primary-500":i?"hover:bg-[#1E293B] text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:[c.icon,c.label]},u))}),m.jsx("div",{className:"absolute bottom-0 w-full p-3 sm:p-4",children:m.jsxs("button",{onClick:a,className:`flex items-center gap-2 w-full px-3 sm:px-4 py-2 rounded-lg text-red-500 transition-colors text-sm sm:text-base ${i?"hover:bg-red-500/10":"hover:bg-red-50"}`,children:[m.jsx(I3,{className:"w-5 h-5"}),"Sign Out"]})})]})}function sg({activePath:t,isOpen:e,onClose:n}){const[r,i]=_e.useState(()=>On()==="dark");return _e.useEffect(()=>{const s=()=>{i(On()==="dark")};return window.addEventListener("themeChanged",s),()=>window.removeEventListener("themeChanged",s)},[]),m.jsxs(m.Fragment,{children:[m.jsx("aside",{className:`fixed top-0 left-0 h-full w-64 transform transition-transform duration-300 ease-in-out z-40 border-r ${r?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"} ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:m.jsx(sL,{activePath:t,onCloseSidebar:n})}),e&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:n})]})}function Mt(t){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(t)}var ar=Uint8Array,Yr=Uint16Array,u2=Int32Array,ag=new ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),og=new ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P1=new ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z3=function(t,e){for(var n=new Yr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new u2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},e4=Z3(ag,2),t4=e4.b,A1=e4.r;t4[28]=258,A1[258]=28;var n4=Z3(og,0),aL=n4.b,$5=n4.r,C1=new Yr(32768);for(var Yt=0;Yt<32768;++Yt){var ra=(Yt&43690)>>1|(Yt&21845)<<1;ra=(ra&52428)>>2|(ra&13107)<<2,ra=(ra&61680)>>4|(ra&3855)<<4,C1[Yt]=((ra&65280)>>8|(ra&255)<<8)>>1}var ls=function(t,e,n){for(var r=t.length,i=0,s=new Yr(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Yr(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Yr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=a[t[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)o[C1[h]>>l]=c}else for(o=new Yr(r),i=0;i<r;++i)t[i]&&(o[i]=C1[a[t[i]-1]++]>>15-t[i]);return o},Da=new ar(288);for(var Yt=0;Yt<144;++Yt)Da[Yt]=8;for(var Yt=144;Yt<256;++Yt)Da[Yt]=9;for(var Yt=256;Yt<280;++Yt)Da[Yt]=7;for(var Yt=280;Yt<288;++Yt)Da[Yt]=8;var mh=new ar(32);for(var Yt=0;Yt<32;++Yt)mh[Yt]=5;var oL=ls(Da,9,0),lL=ls(Da,9,1),cL=ls(mh,5,0),uL=ls(mh,5,1),zm=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ni=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},$m=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},h2=function(t){return(t+7)/8|0},r4=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ar(t.subarray(e,n))},hL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ci=function(t,e,n){var r=new Error(e||hL[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ci),!n)throw r;return r},dL=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new ar(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new ar(i*3));var c=function(ye){var Ce=n.length;if(ye>Ce){var ue=new ar(Math.max(Ce*2,ye));ue.set(n),n=ue}},u=e.f||0,h=e.p||0,p=e.b||0,f=e.l,v=e.d,w=e.m,k=e.n,y=i*8;do{if(!f){u=Ni(t,h,1);var b=Ni(t,h+1,3);if(h+=3,b)if(b==1)f=lL,v=uL,w=9,k=5;else if(b==2){var I=Ni(t,h,31)+257,T=Ni(t,h+10,15)+4,N=I+Ni(t,h+5,31)+1;h+=14;for(var E=new ar(N),M=new ar(19),j=0;j<T;++j)M[P1[j]]=Ni(t,h+j*3,7);h+=T*3;for(var A=zm(M),Y=(1<<A)-1,z=ls(M,A,1),j=0;j<N;){var ne=z[Ni(t,h,Y)];h+=ne&15;var S=ne>>4;if(S<16)E[j++]=S;else{var G=0,W=0;for(S==16?(W=3+Ni(t,h,3),h+=2,G=E[j-1]):S==17?(W=3+Ni(t,h,7),h+=3):S==18&&(W=11+Ni(t,h,127),h+=7);W--;)E[j++]=G}}var H=E.subarray(0,I),V=E.subarray(I);w=zm(H),k=zm(V),f=ls(H,w,1),v=ls(V,k,1)}else Ci(1);else{var S=h2(h)+4,P=t[S-4]|t[S-3]<<8,O=S+P;if(O>i){l&&Ci(0);break}o&&c(p+P),n.set(t.subarray(S,O),p),e.b=p+=P,e.p=h=O*8,e.f=u;continue}if(h>y){l&&Ci(0);break}}o&&c(p+131072);for(var re=(1<<w)-1,Z=(1<<k)-1,C=h;;C=h){var G=f[$m(t,h)&re],D=G>>4;if(h+=G&15,h>y){l&&Ci(0);break}if(G||Ci(2),D<256)n[p++]=D;else if(D==256){C=h,f=null;break}else{var K=D-254;if(D>264){var j=D-257,B=ag[j];K=Ni(t,h,(1<<B)-1)+t4[j],h+=B}var U=v[$m(t,h)&Z],ie=U>>4;U||Ci(3),h+=U&15;var V=aL[ie];if(ie>3){var B=og[ie];V+=$m(t,h)&(1<<B)-1,h+=B}if(h>y){l&&Ci(0);break}o&&c(p+131072);var se=p+K;if(p<V){var le=s-V,ve=Math.min(V,se);for(le+p<0&&Ci(3);p<ve;++p)n[p]=r[le+p]}for(;p<se;++p)n[p]=n[p-V]}}e.l=f,e.p=C,e.b=p,e.f=u,f&&(u=1,e.m=w,e.d=v,e.n=k)}while(!u);return p!=n.length&&a?r4(n,0,p):n.subarray(0,p)},_s=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},au=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Um=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:s4,l:0};if(i==1){var a=new ar(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(O,I){return O.f-I.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new Yr(p+1),v=j1(n[u-1],f,0);if(v>e){var r=0,w=0,k=v-e,y=1<<k;for(s.sort(function(I,T){return f[T.s]-f[I.s]||I.f-T.f});r<i;++r){var b=s[r].s;if(f[b]>e)w+=y-(1<<v-f[b]),f[b]=e;else break}for(w>>=k;w>0;){var S=s[r].s;f[S]<e?w-=1<<e-f[S]++-1:++r}for(;r>=0&&w;--r){var P=s[r].s;f[P]==e&&(--f[P],++w)}v=e}return{t:new ar(f),l:v}},j1=function(t,e,n){return t.s==-1?Math.max(j1(t.l,e,n+1),j1(t.r,e,n+1)):e[t.s]=n},U5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Yr(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},ou=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},i4=function(t,e,n){var r=n.length,i=h2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},W5=function(t,e,n,r,i,s,a,o,l,c,u){_s(e,u++,n),++i[256];for(var h=Um(i,15),p=h.t,f=h.l,v=Um(s,15),w=v.t,k=v.l,y=U5(p),b=y.c,S=y.n,P=U5(w),O=P.c,I=P.n,T=new Yr(19),N=0;N<b.length;++N)++T[b[N]&31];for(var N=0;N<O.length;++N)++T[O[N]&31];for(var E=Um(T,7),M=E.t,j=E.l,A=19;A>4&&!M[P1[A-1]];--A);var Y=c+5<<3,z=ou(i,Da)+ou(s,mh)+a,ne=ou(i,p)+ou(s,w)+a+14+3*A+ou(T,M)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&Y<=z&&Y<=ne)return i4(e,u,t.subarray(l,l+c));var G,W,H,V;if(_s(e,u,1+(ne<z)),u+=2,ne<z){G=ls(p,f,0),W=p,H=ls(w,k,0),V=w;var re=ls(M,j,0);_s(e,u,S-257),_s(e,u+5,I-1),_s(e,u+10,A-4),u+=14;for(var N=0;N<A;++N)_s(e,u+3*N,M[P1[N]]);u+=3*A;for(var Z=[b,O],C=0;C<2;++C)for(var D=Z[C],N=0;N<D.length;++N){var K=D[N]&31;_s(e,u,re[K]),u+=M[K],K>15&&(_s(e,u,D[N]>>5&127),u+=D[N]>>12)}}else G=oL,W=Da,H=cL,V=mh;for(var N=0;N<o;++N){var B=r[N];if(B>255){var K=B>>18&31;au(e,u,G[K+257]),u+=W[K+257],K>7&&(_s(e,u,B>>23&31),u+=ag[K]);var U=B&31;au(e,u,H[U]),u+=V[U],U>3&&(au(e,u,B>>5&8191),u+=og[U])}else au(e,u,G[B]),u+=W[B]}return au(e,u,G[256]),u+W[256]},fL=new u2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s4=new ar(0),pL=function(t,e,n,r,i,s){var a=s.z||t.length,o=new ar(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=fL[e-1],p=h>>13,f=h&8191,v=(1<<n)-1,w=s.p||new Yr(32768),k=s.h||new Yr(v+1),y=Math.ceil(n/3),b=2*y,S=function(xe){return(t[xe]^t[xe+1]<<y^t[xe+2]<<b)&v},P=new u2(25e3),O=new Yr(288),I=new Yr(32),T=0,N=0,E=s.i||0,M=0,j=s.w||0,A=0;E+2<a;++E){var Y=S(E),z=E&32767,ne=k[Y];if(w[z]=ne,k[Y]=z,j<=E){var G=a-E;if((T>7e3||M>24576)&&(G>423||!c)){u=W5(t,l,0,P,O,I,N,M,A,E-A,u),M=T=N=0,A=E;for(var W=0;W<286;++W)O[W]=0;for(var W=0;W<30;++W)I[W]=0}var H=2,V=0,re=f,Z=z-ne&32767;if(G>2&&Y==S(E-Z))for(var C=Math.min(p,G)-1,D=Math.min(32767,E),K=Math.min(258,G);Z<=D&&--re&&z!=ne;){if(t[E+H]==t[E+H-Z]){for(var B=0;B<K&&t[E+B]==t[E+B-Z];++B);if(B>H){if(H=B,V=Z,B>C)break;for(var U=Math.min(Z,B-2),ie=0,W=0;W<U;++W){var se=E-Z+W&32767,le=w[se],ve=se-le&32767;ve>ie&&(ie=ve,ne=se)}}}z=ne,ne=w[z],Z+=z-ne&32767}if(V){P[M++]=268435456|A1[H]<<18|$5[V];var ye=A1[H]&31,Ce=$5[V]&31;N+=ag[ye]+og[Ce],++O[257+ye],++I[Ce],j=E+H,++T}else P[M++]=t[E],++O[t[E]]}}for(E=Math.max(E,j);E<a;++E)P[M++]=t[E],++O[t[E]];u=W5(t,l,c,P,O,I,N,M,A,E-A,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=k,s.p=w,s.i=E,s.w=j)}else{for(var E=s.w||0;E<a+c;E+=65535){var ue=E+65535;ue>=a&&(l[u/8|0]=c,ue=a),u=i4(l,u+1,t.subarray(E,ue))}s.i=a}return r4(o,0,r+h2(u)+i)},a4=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},gL=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ar(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return pL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},o4=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},mL=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=a4();i.p(e.dictionary),o4(t,2,i.d())}},yL=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ci(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ci(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function L1(t,e){e||(e={});var n=a4();n.p(t);var r=gL(t,e,e.dictionary?6:2,4);return mL(r,e),o4(r,r.length-4,n.d()),r}function vL(t,e){return dL(t.subarray(yL(t),-4),{i:2},e,e)}var xL=typeof TextDecoder<"u"&&new TextDecoder,bL=0;try{xL.decode(s4,{stream:!0}),bL=1}catch{}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wm(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var zt={log:Wm,warn:function(t){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):Wm.call(null,arguments))},error:function(t){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):Wm(t))}};function Hm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){go(r.response,e,n)},r.onerror=function(){zt.error("could not download file")},r.send()}function H5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bu,E1,go=it.saveAs||((typeof window>"u"?"undefined":Mt(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=it.URL||it.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?H5(i.href)?Hm(t,e,n):Kd(i,i.target="_blank"):Kd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Kd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(H5(t))Hm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Kd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Mt(s)!=="object"&&(zt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Hm(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(it.HTMLElement)||it.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Mt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=it.URL||it.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function l4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qm(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=er(n,r,i,s,e[0],7,-680876936),s=er(s,n,r,i,e[1],12,-389564586),i=er(i,s,n,r,e[2],17,606105819),r=er(r,i,s,n,e[3],22,-1044525330),n=er(n,r,i,s,e[4],7,-176418897),s=er(s,n,r,i,e[5],12,1200080426),i=er(i,s,n,r,e[6],17,-1473231341),r=er(r,i,s,n,e[7],22,-45705983),n=er(n,r,i,s,e[8],7,1770035416),s=er(s,n,r,i,e[9],12,-1958414417),i=er(i,s,n,r,e[10],17,-42063),r=er(r,i,s,n,e[11],22,-1990404162),n=er(n,r,i,s,e[12],7,1804603682),s=er(s,n,r,i,e[13],12,-40341101),i=er(i,s,n,r,e[14],17,-1502002290),n=tr(n,r=er(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=tr(s,n,r,i,e[6],9,-1069501632),i=tr(i,s,n,r,e[11],14,643717713),r=tr(r,i,s,n,e[0],20,-373897302),n=tr(n,r,i,s,e[5],5,-701558691),s=tr(s,n,r,i,e[10],9,38016083),i=tr(i,s,n,r,e[15],14,-660478335),r=tr(r,i,s,n,e[4],20,-405537848),n=tr(n,r,i,s,e[9],5,568446438),s=tr(s,n,r,i,e[14],9,-1019803690),i=tr(i,s,n,r,e[3],14,-187363961),r=tr(r,i,s,n,e[8],20,1163531501),n=tr(n,r,i,s,e[13],5,-1444681467),s=tr(s,n,r,i,e[2],9,-51403784),i=tr(i,s,n,r,e[7],14,1735328473),n=nr(n,r=tr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=nr(s,n,r,i,e[8],11,-2022574463),i=nr(i,s,n,r,e[11],16,1839030562),r=nr(r,i,s,n,e[14],23,-35309556),n=nr(n,r,i,s,e[1],4,-1530992060),s=nr(s,n,r,i,e[4],11,1272893353),i=nr(i,s,n,r,e[7],16,-155497632),r=nr(r,i,s,n,e[10],23,-1094730640),n=nr(n,r,i,s,e[13],4,681279174),s=nr(s,n,r,i,e[0],11,-358537222),i=nr(i,s,n,r,e[3],16,-722521979),r=nr(r,i,s,n,e[6],23,76029189),n=nr(n,r,i,s,e[9],4,-640364487),s=nr(s,n,r,i,e[12],11,-421815835),i=nr(i,s,n,r,e[15],16,530742520),n=rr(n,r=nr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=rr(s,n,r,i,e[7],10,1126891415),i=rr(i,s,n,r,e[14],15,-1416354905),r=rr(r,i,s,n,e[5],21,-57434055),n=rr(n,r,i,s,e[12],6,1700485571),s=rr(s,n,r,i,e[3],10,-1894986606),i=rr(i,s,n,r,e[10],15,-1051523),r=rr(r,i,s,n,e[1],21,-2054922799),n=rr(n,r,i,s,e[8],6,1873313359),s=rr(s,n,r,i,e[15],10,-30611744),i=rr(i,s,n,r,e[6],15,-1560198380),r=rr(r,i,s,n,e[13],21,1309151649),n=rr(n,r,i,s,e[4],6,-145523070),s=rr(s,n,r,i,e[11],10,-1120210379),i=rr(i,s,n,r,e[2],15,718787259),r=rr(r,i,s,n,e[9],21,-343485551),t[0]=va(n,t[0]),t[1]=va(r,t[1]),t[2]=va(i,t[2]),t[3]=va(s,t[3])}function lg(t,e,n,r,i,s){return e=va(va(e,t),va(r,s)),va(e<<i|e>>>32-i,n)}function er(t,e,n,r,i,s,a){return lg(e&n|~e&r,t,e,i,s,a)}function tr(t,e,n,r,i,s,a){return lg(e&r|n&~r,t,e,i,s,a)}function nr(t,e,n,r,i,s,a){return lg(e^n^r,t,e,i,s,a)}function rr(t,e,n,r,i,s,a){return lg(n^(e|~r),t,e,i,s,a)}function c4(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qm(r,wL(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,qm(r,i),r}function wL(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Bu=it.atob.bind(it),E1=it.btoa.bind(it);var q5="0123456789abcdef".split("");function _L(t){for(var e="",n=0;n<4;n++)e+=q5[t>>8*n+4&15]+q5[t>>8*n&15];return e}function SL(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T1(t){return c4(t).map(SL).join("")}var kL=function(t){for(var e=0;e<t.length;e++)t[e]=_L(t[e]);return t.join("")}(c4("hello"))!="5d41402abc4b2a76b9719d911017c592";function va(t,e){if(kL){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O1(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var h=e.length,p=0,f=0,v="";for(l=0;l<h;l++)f=(f+(u=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=u,a=o[(o[p]+o[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var V5={print:4,modify:8,copy:16,"annot-forms":32};function Tl(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(V5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=V5[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=T1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=O1(this.encryptionKey,this.padding)}function Ol(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Y5(t){if(Mt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){it.console&&zt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yh(t){if(!(this instanceof yh))return new yh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function u4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function pa(t,e,n,r,i){if(!(this instanceof pa))return new pa(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,u4.call(this,r,i)}function ko(t,e,n,r,i){if(!(this instanceof ko))return new ko(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,u4.call(this,r,i)}function et(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Mt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=Y5;var v="1.3",w=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(x){v=x};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return k};var y=f.__private__.getPageFormat=function(x){return k[x]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function P(){this.saveGraphicsState(),Q(new nt(Re,0,0,-Re,0,Hs()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),c="n",S=b.ADVANCED}function O(){this.restoreGraphicsState(),c="S",S=b.COMPAT}var I=f.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};f.advancedAPI=function(x){var F=S===b.COMPAT;return F&&P.call(this),typeof x!="function"||(x(this),F&&O.call(this)),this},f.compatAPI=function(x){var F=S===b.ADVANCED;return F&&O.call(this),typeof x!="function"||(x(this),F&&P.call(this)),this},f.isAdvancedAPI=function(){return S===b.ADVANCED};var T,N=function(x){if(S!==b.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(x,F){var te=e||F;if(isNaN(x)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(te).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return E(x,l)}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return E(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return E(x,16)};var M=f.f2=f.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return E(x,2)},j=f.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return E(x,3)},A=f.scale=f.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?x*Re:S===b.ADVANCED?x:void 0},Y=function(x){return S===b.COMPAT?Hs()-x:S===b.ADVANCED?x:void 0},z=function(x){return A(Y(x))};f.__private__.setPrecision=f.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ne,G="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return G},H=f.__private__.setFileId=function(x){return G=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Kn=new Tl(u.userPermissions,u.userPassword,u.ownerPassword,G)),G};f.setFileId=function(x){return H(x),this},f.getFileId=function(){return W()};var V=f.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),te=F<0?"+":"-",oe=Math.floor(Math.abs(F/60)),pe=Math.abs(F%60),we=[te,K(oe),"'",K(pe),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),we].join("")},re=f.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),te=parseInt(x.substr(6,2),10)-1,oe=parseInt(x.substr(8,2),10),pe=parseInt(x.substr(10,2),10),we=parseInt(x.substr(12,2),10),Ee=parseInt(x.substr(14,2),10);return new Date(F,te,oe,pe,we,Ee,0)},Z=f.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=V(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return ne=F},C=f.__private__.getCreationDate=function(x){var F=ne;return x==="jsDate"&&(F=re(ne)),F};f.setCreationDate=function(x){return Z(x),this},f.getCreationDate=function(x){return C(x)};var D,K=f.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},B=f.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},U=0,ie=[],se=[],le=0,ve=[],ye=[],Ce=!1,ue=se,xe=function(){U=0,le=0,se=[],ie=[],ve=[],ds=wn(),gi=wn()};f.__private__.setCustomOutputDestination=function(x){Ce=!0,ue=x};var ae=function(x){Ce||(ue=x)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,ue=se};var Q=f.__private__.out=function(x){return x=x.toString(),le+=x.length+1,ue.push(x),ue},Ge=f.__private__.write=function(x){return Q(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},je=f.__private__.getArrayBuffer=function(x){for(var F=x.length,te=new ArrayBuffer(F),oe=new Uint8Array(te);F--;)oe[F]=x.charCodeAt(F);return te},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Se};var Oe=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(x){return Oe=S===b.ADVANCED?x/Re:x,this};var De,Me=f.__private__.getFontSize=f.getFontSize=function(){return S===b.COMPAT?Oe:Oe*Re},Ve=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(x){return Ve=x,this},f.__private__.getR2L=f.getR2L=function(){return Ve};var Ye,Ke=f.__private__.setZoomMode=function(x){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))De=x;else if(isNaN(x)){if(F.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');De=x}else De=parseInt(x,10)};f.__private__.getZoomMode=function(){return De};var Je,tt=f.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ye=x};f.__private__.getPageMode=function(){return Ye};var vt=f.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Je=x};f.__private__.getLayoutMode=function(){return Je},f.__private__.setDisplayMode=f.setDisplayMode=function(x,F,te){return Ke(x),vt(F),tt(te),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(x){if(Object.keys(Qe).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[x]},f.__private__.getDocumentProperties=function(){return Qe},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(x){for(var F in Qe)Qe.hasOwnProperty(F)&&x[F]&&(Qe[F]=x[F]);return this},f.__private__.setDocumentProperty=function(x,F){if(Object.keys(Qe).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[x]=F};var ut,Re,ke,Fe,ht,rt={},kt={},Jn=[],dt={},Dr={},It={},Pn={},Mn=null,jt=0,st=[],at=new Y5(f),Rn=t.hotfixes||[],hn={},$i={},Ui=[],nt=function x(F,te,oe,pe,we,Ee){if(!(this instanceof x))return new x(F,te,oe,pe,we,Ee);isNaN(F)&&(F=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=1),isNaN(we)&&(we=0),isNaN(Ee)&&(Ee=0),this._matrix=[F,te,oe,pe,we,Ee]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(x)},nt.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,te=x.sx*this.shy+x.shy*this.sy,oe=x.shx*this.sx+x.sy*this.shx,pe=x.shx*this.shy+x.sy*this.sy,we=x.tx*this.sx+x.ty*this.shx+this.tx,Ee=x.tx*this.shy+x.ty*this.sy+this.ty;return new nt(F,te,oe,pe,we,Ee)},nt.prototype.decompose=function(){var x=this.sx,F=this.shy,te=this.shx,oe=this.sy,pe=this.tx,we=this.ty,Ee=Math.sqrt(x*x+F*F),Ue=(x/=Ee)*te+(F/=Ee)*oe;te-=x*Ue,oe-=F*Ue;var Xe=Math.sqrt(te*te+oe*oe);return Ue/=Xe,x*(oe/=Xe)<F*(te/=Xe)&&(x=-x,F=-F,Ue=-Ue,Ee=-Ee),{scale:new nt(Ee,0,0,Xe,0,0),translate:new nt(1,0,0,1,pe,we),rotate:new nt(x,F,-F,x,0,0),skew:new nt(1,0,Ue,1,0,0)}},nt.prototype.toString=function(x){return this.join(" ")},nt.prototype.inversed=function(){var x=this.sx,F=this.shy,te=this.shx,oe=this.sy,pe=this.tx,we=this.ty,Ee=1/(x*oe-F*te),Ue=oe*Ee,Xe=-F*Ee,ft=-te*Ee,lt=x*Ee;return new nt(Ue,Xe,ft,lt,-Ue*pe-ft*we,-Xe*pe-lt*we)},nt.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,te=x.x*this.shy+x.y*this.sy+this.ty;return new al(F,te)},nt.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),te=this.applyToPoint(new al(x.x+x.w,x.y+x.h));return new Ec(F.x,F.y,te.x-F.x,te.y-F.y)},nt.prototype.clone=function(){var x=this.sx,F=this.shy,te=this.shx,oe=this.sy,pe=this.tx,we=this.ty;return new nt(x,F,te,oe,pe,we)},f.Matrix=nt;var pi=f.matrixMult=function(x,F){return F.multiply(x)},Wi=new nt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Wi;var xr=function(x,F){if(!Dr[x]){var te=(F instanceof pa?"Sh":"P")+(Object.keys(dt).length+1).toString(10);F.id=te,Dr[x]=te,dt[te]=F,at.publish("addPattern",F)}};f.ShadingPattern=pa,f.TilingPattern=ko,f.addShadingPattern=function(x,F){return N("addShadingPattern()"),xr(x,F),this},f.beginTilingPattern=function(x){N("beginTilingPattern()"),nd(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},f.endTilingPattern=function(x,F){N("endTilingPattern()"),F.stream=ye[D].join(`
`),xr(x,F),at.publish("endTilingPattern",F),Ui.pop().restore()};var An=f.__private__.newObject=function(){var x=wn();return Fr(x,!0),x},wn=f.__private__.newObjectDeferred=function(){return U++,ie[U]=function(){return le},U},Fr=function(x,F){return F=typeof F=="boolean"&&F,ie[x]=le,F&&Q(x+" 0 obj"),x},Yo=f.__private__.newAdditionalObject=function(){var x={objId:wn(),content:""};return ve.push(x),x},ds=wn(),gi=wn(),mi=f.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var te=parseFloat(F[0]);F=[te,te,te,"r"]}for(var oe="#",pe=0;pe<3;pe++)oe+=("0"+Math.floor(255*parseFloat(F[pe])).toString(16)).slice(-2);return oe},yi=f.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var te=x.ch1,oe=x.ch2,pe=x.ch3,we=x.ch4,Ee=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ue=new l4(te);if(Ue.ok)te=Ue.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Xe=parseInt(te.substr(1),16);te=Xe>>16&255,oe=Xe>>8&255,pe=255&Xe}if(oe===void 0||we===void 0&&te===oe&&oe===pe)if(typeof te=="string")F=te+" "+Ee[0];else switch(x.precision){case 2:F=M(te/255)+" "+Ee[0];break;case 3:default:F=j(te/255)+" "+Ee[0]}else if(we===void 0||Mt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return F=["1.","1.","1.",Ee[1]].join(" ");if(typeof te=="string")F=[te,oe,pe,Ee[1]].join(" ");else switch(x.precision){case 2:F=[M(te/255),M(oe/255),M(pe/255),Ee[1]].join(" ");break;default:case 3:F=[j(te/255),j(oe/255),j(pe/255),Ee[1]].join(" ")}}else if(typeof te=="string")F=[te,oe,pe,we,Ee[2]].join(" ");else switch(x.precision){case 2:F=[M(te),M(oe),M(pe),M(we),Ee[2]].join(" ");break;case 3:default:F=[j(te),j(oe),j(pe),j(we),Ee[2]].join(" ")}return F},Hi=f.__private__.getFilters=function(){return a},Zr=f.__private__.putStream=function(x){var F=(x=x||{}).data||"",te=x.filters||Hi(),oe=x.alreadyAppliedFilters||[],pe=x.addLength1||!1,we=F.length,Ee=x.objectId,Ue=function(Xn){return Xn};if(u!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ue=Kn.encryptor(Ee,0));var Xe={};te===!0&&(te=["FlateEncode"]);var ft=x.additionalKeyValues||[],lt=(Xe=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(F,te):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(Xe.data.length!==0&&(ft.push({key:"Length",value:Xe.data.length}),pe===!0&&ft.push({key:"Length1",value:we})),lt.length!=0)if(lt.split("/").length-1==1)ft.push({key:"Filter",value:lt});else{ft.push({key:"Filter",value:"["+lt+"]"});for(var Nt=0;Nt<ft.length;Nt+=1)if(ft[Nt].key==="DecodeParms"){for(var tn=[],an=0;an<Xe.reverseChain.split("/").length-1;an+=1)tn.push("null");tn.push(ft[Nt].value),ft[Nt].value="["+tn.join(" ")+"]"}}Q("<<");for(var _n=0;_n<ft.length;_n++)Q("/"+ft[_n].key+" "+ft[_n].value);Q(">>"),Xe.data.length!==0&&(Q("stream"),Q(Ue(Xe.data)),Q("endstream"))},qi=f.__private__.putPage=function(x){var F=x.number,te=x.data,oe=x.objId,pe=x.contentsObjId;Fr(oe,!0),Q("<</Type /Page"),Q("/Parent "+x.rootDictionaryObjId+" 0 R"),Q("/Resources "+x.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(T(x.mediaBox.bottomLeftX))+" "+parseFloat(T(x.mediaBox.bottomLeftY))+" "+T(x.mediaBox.topRightX)+" "+T(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Q("/CropBox ["+T(x.cropBox.bottomLeftX)+" "+T(x.cropBox.bottomLeftY)+" "+T(x.cropBox.topRightX)+" "+T(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Q("/BleedBox ["+T(x.bleedBox.bottomLeftX)+" "+T(x.bleedBox.bottomLeftY)+" "+T(x.bleedBox.topRightX)+" "+T(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Q("/TrimBox ["+T(x.trimBox.bottomLeftX)+" "+T(x.trimBox.bottomLeftY)+" "+T(x.trimBox.topRightX)+" "+T(x.trimBox.topRightY)+"]"),x.artBox!==null&&Q("/ArtBox ["+T(x.artBox.bottomLeftX)+" "+T(x.artBox.bottomLeftY)+" "+T(x.artBox.topRightX)+" "+T(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Q("/UserUnit "+x.userUnit),at.publish("putPage",{objId:oe,pageContext:st[F],pageNumber:F,page:te}),Q("/Contents "+pe+" 0 R"),Q(">>"),Q("endobj");var we=te.join(`
`);return S===b.ADVANCED&&(we+=`
Q`),Fr(pe,!0),Zr({data:we,filters:Hi(),objectId:pe}),Q("endobj"),oe},Ya=f.__private__.putPages=function(){var x,F,te=[];for(x=1;x<=jt;x++)st[x].objId=wn(),st[x].contentsObjId=wn();for(x=1;x<=jt;x++)te.push(qi({number:x,data:ye[x],objId:st[x].objId,contentsObjId:st[x].contentsObjId,mediaBox:st[x].mediaBox,cropBox:st[x].cropBox,bleedBox:st[x].bleedBox,trimBox:st[x].trimBox,artBox:st[x].artBox,userUnit:st[x].userUnit,rootDictionaryObjId:ds,resourceDictionaryObjId:gi}));Fr(ds,!0),Q("<</Type /Pages");var oe="/Kids [";for(F=0;F<jt;F++)oe+=te[F]+" 0 R ";Q(oe+"]"),Q("/Count "+jt),Q(">>"),Q("endobj"),at.publish("postPutPages")},Go=function(x){at.publish("putFont",{font:x,out:Q,newObject:An,putStream:Zr}),x.isAlreadyPutted!==!0&&(x.objectNumber=An(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Ol(x.postScriptName)),Q("/Subtype /Type1"),typeof x.encoding=="string"&&Q("/Encoding /"+x.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Jo=function(){for(var x in rt)rt.hasOwnProperty(x)&&(h===!1||h===!0&&p.hasOwnProperty(x))&&Go(rt[x])},Ko=function(x){x.objectNumber=An();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[T(x.x),T(x.y),T(x.x+x.width),T(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var te=x.pages[1].join(`
`);Zr({data:te,additionalKeyValues:F,objectId:x.objectNumber}),Q("endobj")},Xo=function(){for(var x in hn)hn.hasOwnProperty(x)&&Ko(hn[x])},Ih=function(x,F){var te,oe=[],pe=1/(F-1);for(te=0;te<1;te+=pe)oe.push(te);if(oe.push(1),x[0].offset!=0){var we={offset:0,color:x[0].color};x.unshift(we)}if(x[x.length-1].offset!=1){var Ee={offset:1,color:x[x.length-1].color};x.push(Ee)}for(var Ue="",Xe=0,ft=0;ft<oe.length;ft++){for(te=oe[ft];te>x[Xe+1].offset;)Xe++;var lt=x[Xe].offset,Nt=(te-lt)/(x[Xe+1].offset-lt),tn=x[Xe].color,an=x[Xe+1].color;Ue+=B(Math.round((1-Nt)*tn[0]+Nt*an[0]).toString(16))+B(Math.round((1-Nt)*tn[1]+Nt*an[1]).toString(16))+B(Math.round((1-Nt)*tn[2]+Nt*an[2]).toString(16))}return Ue.trim()},yg=function(x,F){F||(F=21);var te=An(),oe=Ih(x.colors,F),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+F+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zr({data:oe,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),Q("endobj"),x.objectNumber=An(),Q("<< /ShadingType "+x.type),Q("/ColorSpace /DeviceRGB");var we="/Coords ["+T(parseFloat(x.coords[0]))+" "+T(parseFloat(x.coords[1]))+" ";x.type===2?we+=T(parseFloat(x.coords[2]))+" "+T(parseFloat(x.coords[3])):we+=T(parseFloat(x.coords[2]))+" "+T(parseFloat(x.coords[3]))+" "+T(parseFloat(x.coords[4]))+" "+T(parseFloat(x.coords[5])),Q(we+="]"),x.matrix&&Q("/Matrix ["+x.matrix.toString()+"]"),Q("/Function "+te+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},vg=function(x,F){var te=wn(),oe=An();F.push({resourcesOid:te,objectOid:oe}),x.objectNumber=oe;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+x.boundingBox.map(T).join(" ")+"]"}),pe.push({key:"XStep",value:T(x.xStep)}),pe.push({key:"YStep",value:T(x.yStep)}),pe.push({key:"Resources",value:te+" 0 R"}),x.matrix&&pe.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Zr({data:x.stream,additionalKeyValues:pe,objectId:x.objectNumber}),Q("endobj")},Qo=function(x){var F;for(F in dt)dt.hasOwnProperty(F)&&(dt[F]instanceof pa?yg(dt[F]):dt[F]instanceof ko&&vg(dt[F],x))},Bh=function(x){for(var F in x.objectNumber=An(),Q("<<"),x)switch(F){case"opacity":Q("/ca "+M(x[F]));break;case"stroke-opacity":Q("/CA "+M(x[F]))}Q(">>"),Q("endobj")},xg=function(){var x;for(x in It)It.hasOwnProperty(x)&&Bh(It[x])},wc=function(){for(var x in Q("/XObject <<"),hn)hn.hasOwnProperty(x)&&hn[x].objectNumber>=0&&Q("/"+x+" "+hn[x].objectNumber+" 0 R");at.publish("putXobjectDict"),Q(">>")},bg=function(){Kn.oid=An(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Kn.v),Q("/R "+Kn.r),Q("/U <"+Kn.toHexString(Kn.U)+">"),Q("/O <"+Kn.toHexString(Kn.O)+">"),Q("/P "+Kn.P),Q(">>"),Q("endobj")},zh=function(){for(var x in Q("/Font <<"),rt)rt.hasOwnProperty(x)&&(h===!1||h===!0&&p.hasOwnProperty(x))&&Q("/"+x+" "+rt[x].objectNumber+" 0 R");Q(">>")},wg=function(){if(Object.keys(dt).length>0){for(var x in Q("/Shading <<"),dt)dt.hasOwnProperty(x)&&dt[x]instanceof pa&&dt[x].objectNumber>=0&&Q("/"+x+" "+dt[x].objectNumber+" 0 R");at.publish("putShadingPatternDict"),Q(">>")}},Zo=function(x){if(Object.keys(dt).length>0){for(var F in Q("/Pattern <<"),dt)dt.hasOwnProperty(F)&&dt[F]instanceof f.TilingPattern&&dt[F].objectNumber>=0&&dt[F].objectNumber<x&&Q("/"+F+" "+dt[F].objectNumber+" 0 R");at.publish("putTilingPatternDict"),Q(">>")}},_g=function(){if(Object.keys(It).length>0){var x;for(x in Q("/ExtGState <<"),It)It.hasOwnProperty(x)&&It[x].objectNumber>=0&&Q("/"+x+" "+It[x].objectNumber+" 0 R");at.publish("putGStateDict"),Q(">>")}},dn=function(x){Fr(x.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zh(),wg(),Zo(x.objectOid),_g(),wc(),Q(">>"),Q("endobj")},$h=function(){var x=[];Jo(),xg(),Xo(),Qo(x),at.publish("putResources"),x.forEach(dn),dn({resourcesOid:gi,objectOid:Number.MAX_SAFE_INTEGER}),at.publish("postPutResources")},Uh=function(){at.publish("putAdditionalObjects");for(var x=0;x<ve.length;x++){var F=ve[x];Fr(F.objId,!0),Q(F.content),Q("endobj")}at.publish("postPutAdditionalObjects")},Wh=function(x){kt[x.fontName]=kt[x.fontName]||{},kt[x.fontName][x.fontStyle]=x.id},_c=function(x,F,te,oe,pe){var we={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:te,encoding:oe,isStandardFont:pe||!1,metadata:{}};return at.publish("addFont",{font:we,instance:this}),rt[we.id]=we,Wh(we),we.id},Sg=function(x){for(var F=0,te=Se.length;F<te;F++){var oe=_c.call(this,x[F][0],x[F][1],x[F][2],Se[F][3],!0);h===!1&&(p[oe]=!0);var pe=x[F][0].split("-");Wh({id:oe,fontName:pe[0],fontStyle:pe[1]||""})}at.publish("addFonts",{fonts:rt,dictionary:kt})},vi=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(oe){var F=oe.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var te="Error in function "+F.split(`
`)[0].split("<")[0]+": "+oe.message;if(!it.console)throw new Error(te);it.console.error(te,oe),it.alert&&alert(te)}},x.foo.bar=x,x.foo},el=function(x,F){var te,oe,pe,we,Ee,Ue,Xe,ft,lt;if(pe=(F=F||{}).sourceEncoding||"Unicode",Ee=F.outputEncoding,(F.autoencode||Ee)&&rt[ut].metadata&&rt[ut].metadata[pe]&&rt[ut].metadata[pe].encoding&&(we=rt[ut].metadata[pe].encoding,!Ee&&rt[ut].encoding&&(Ee=rt[ut].encoding),!Ee&&we.codePages&&(Ee=we.codePages[0]),typeof Ee=="string"&&(Ee=we[Ee]),Ee)){for(Xe=!1,Ue=[],te=0,oe=x.length;te<oe;te++)(ft=Ee[x.charCodeAt(te)])?Ue.push(String.fromCharCode(ft)):Ue.push(x[te]),Ue[te].charCodeAt(0)>>8&&(Xe=!0);x=Ue.join("")}for(te=x.length;Xe===void 0&&te!==0;)x.charCodeAt(te-1)>>8&&(Xe=!0),te--;if(!Xe)return x;for(Ue=F.noBOM?[]:[254,255],te=0,oe=x.length;te<oe;te++){if((lt=(ft=x.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(lt),Ue.push(ft-(lt<<8))}return String.fromCharCode.apply(void 0,Ue)},br=f.__private__.pdfEscape=f.pdfEscape=function(x,F){return el(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sc=f.__private__.beginPage=function(x){ye[++jt]=[],st[jt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},qh(jt),ae(ye[D])},Hh=function(x,F){var te,oe,pe;switch(n=F||n,typeof x=="string"&&(te=y(x.toLowerCase()),Array.isArray(te)&&(oe=te[0],pe=te[1])),Array.isArray(x)&&(oe=x[0]*Re,pe=x[1]*Re),isNaN(oe)&&(oe=i[0],pe=i[1]),(oe>14400||pe>14400)&&(zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),pe=Math.min(14400,pe)),i=[oe,pe],n.substr(0,1)){case"l":pe>oe&&(i=[pe,oe]);break;case"p":oe>pe&&(i=[pe,oe])}Sc(i),Xh(Ac),Q(xi),jc!==0&&Q(jc+" J"),Lc!==0&&Q(Lc+" j"),at.publish("addPage",{pageNumber:jt})},kg=function(x){x>0&&x<=jt&&(ye.splice(x,1),st.splice(x,1),jt--,D>jt&&(D=jt),this.setPage(D))},qh=function(x){x>0&&x<=jt&&(D=x)},Ng=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ye.length-1},Vh=function(x,F,te){var oe,pe=void 0;return te=te||{},x=x!==void 0?x:rt[ut].fontName,F=F!==void 0?F:rt[ut].fontStyle,oe=x.toLowerCase(),kt[oe]!==void 0&&kt[oe][F]!==void 0?pe=kt[oe][F]:kt[x]!==void 0&&kt[x][F]!==void 0?pe=kt[x][F]:te.disableWarning===!1&&zt.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),pe||te.noFallback||(pe=kt.times[F])==null&&(pe=kt.times.normal),pe},Pg=f.__private__.putInfo=function(){var x=An(),F=function(oe){return oe};for(var te in u!==null&&(F=Kn.encryptor(x,0)),Q("<<"),Q("/Producer ("+br(F("jsPDF "+et.version))+")"),Qe)Qe.hasOwnProperty(te)&&Qe[te]&&Q("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+br(F(Qe[te]))+")");Q("/CreationDate ("+br(F(ne))+")"),Q(">>"),Q("endobj")},kc=f.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||ds;switch(An(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+F+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+De;te.substr(te.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+M(De)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Ye&&Q("/PageMode /"+Ye),at.publish("putCatalog"),Q(">>"),Q("endobj")},Ag=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(U+1)),Q("/Root "+U+" 0 R"),Q("/Info "+(U-1)+" 0 R"),u!==null&&Q("/Encrypt "+Kn.oid+" 0 R"),Q("/ID [ <"+G+"> <"+G+"> ]"),Q(">>")},Cg=f.__private__.putHeader=function(){Q("%PDF-"+v),Q("%ºß¬à")},jg=f.__private__.putXRef=function(){var x="0000000000";Q("xref"),Q("0 "+(U+1)),Q("0000000000 65535 f ");for(var F=1;F<=U;F++)typeof ie[F]=="function"?Q((x+ie[F]()).slice(-10)+" 00000 n "):ie[F]!==void 0?Q((x+ie[F]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},fs=f.__private__.buildDocument=function(){xe(),ae(se),at.publish("buildDocument"),Cg(),Ya(),Uh(),$h(),u!==null&&bg(),Pg(),kc();var x=le;return jg(),Ag(),Q("startxref"),Q(""+x),Q("%%EOF"),ae(ye[D]),se.join(`
`)},tl=f.__private__.getBlob=function(x){return new Blob([je(x)],{type:"application/pdf"})},nl=f.output=f.__private__.output=vi(function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return fs();case"save":f.save(F.filename);break;case"arraybuffer":return je(fs());case"blob":return tl(fs());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(tl(fs()))||void 0;zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=fs();try{te=E1(oe)}catch{te=E1(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+F.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(pe=F.pdfObjectUrl,we="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",Ue=it.open();return Ue!==null&&Ue.document.write(Ee),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ft=it.open();if(ft!==null){ft.document.write(Xe);var lt=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=F.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lt.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',tn=it.open();if(tn!==null&&(tn.document.write(Nt),tn.document.title=F.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",F);default:return null}}),Yh=function(x){return Array.isArray(Rn)===!0&&Rn.indexOf(x)>-1};switch(r){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Yh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Re=r}var Kn=null;Z(),H();var Lg=function(x){return u!==null?Kn.encryptor(x,0):function(F){return F}},Gh=f.__private__.getPageInfo=f.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[x].objId,pageNumber:x,pageContext:st[x]}},ot=f.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in st)if(st[F].objId===x)break;return Gh(F)},Eg=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:st[D].objId,pageNumber:D,pageContext:st[D]}};f.addPage=function(){return Hh.apply(this,arguments),this},f.setPage=function(){return qh.apply(this,arguments),ae.call(this,ye[D]),this},f.insertPage=function(x){return this.addPage(),this.movePage(D,x),this},f.movePage=function(x,F){var te,oe;if(x>F){te=ye[x],oe=st[x];for(var pe=x;pe>F;pe--)ye[pe]=ye[pe-1],st[pe]=st[pe-1];ye[F]=te,st[F]=oe,this.setPage(F)}else if(x<F){te=ye[x],oe=st[x];for(var we=x;we<F;we++)ye[we]=ye[we+1],st[we]=st[we+1];ye[F]=te,st[F]=oe,this.setPage(F)}return this},f.deletePage=function(){return kg.apply(this,arguments),this},f.__private__.text=f.text=function(x,F,te,oe,pe){var we,Ee,Ue,Xe,ft,lt,Nt,tn,an,_n=(oe=oe||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof te=="string"||Array.isArray(te))){var Xn=te;te=F,F=x,x=Xn}if(arguments[3]instanceof nt?(N("The transform parameter of text() with a Matrix value"),an=pe):(Ue=arguments[4],Xe=arguments[5],Mt(Nt=arguments[3])==="object"&&Nt!==null||(typeof Ue=="string"&&(Xe=Ue,Ue=null),typeof Nt=="string"&&(Xe=Nt,Nt=null),typeof Nt=="number"&&(Ue=Nt,Nt=null),oe={flags:Nt,angle:Ue,align:Xe})),isNaN(F)||isNaN(te)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return _n;var Dn="",bi=!1,Ir=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Ja,Gi=_n.internal.scaleFactor;function rd($t){return $t=$t.split("	").join(Array(oe.TabLen||9).join(" ")),br($t,Nt)}function Rc($t){for(var Ut,pn=$t.concat(),Cn=[],vs=pn.length;vs--;)typeof(Ut=pn.shift())=="string"?Cn.push(Ut):Array.isArray($t)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Cn.push(Ut[0]):Cn.push([Ut[0],Ut[1],Ut[2]]);return Cn}function Dc($t,Ut){var pn;if(typeof $t=="string")pn=Ut($t)[0];else if(Array.isArray($t)){for(var Cn,vs,Hc=$t.concat(),yl=[],ld=Hc.length;ld--;)typeof(Cn=Hc.shift())=="string"?yl.push(Ut(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(vs=Ut(Cn[0],Cn[1],Cn[2]),yl.push([vs[0],vs[1],vs[2]]));pn=yl}return pn}var ll=!1,Fc=!0;if(typeof x=="string")ll=!0;else if(Array.isArray(x)){var Ic=x.concat();Ee=[];for(var cl,Hn=Ic.length;Hn--;)(typeof(cl=Ic.shift())!="string"||Array.isArray(cl)&&typeof cl[0]!="string")&&(Fc=!1);ll=Fc}if(ll===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ul=Oe/_n.internal.scaleFactor,hl=ul*(Ir-1);switch(oe.baseline){case"bottom":te-=hl;break;case"top":te+=ul-hl;break;case"hanging":te+=ul-2*hl;break;case"middle":te+=ul/2-hl}if((lt=oe.maxWidth||0)>0&&(typeof x=="string"?x=_n.splitTextToSize(x,lt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function($t,Ut){return $t.concat(_n.splitTextToSize(Ut,lt))},[]))),we={text:x,x:F,y:te,options:oe,mutex:{pdfEscape:br,activeFontKey:ut,fonts:rt,activeFontSize:Oe}},at.publish("preProcessText",we),x=we.text,Ue=(oe=we.options).angle,!(an instanceof nt)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,oe.rotationDirection===0&&(Ue=-Ue),S===b.ADVANCED&&(Ue=-Ue);var dl=Math.cos(Ue),Bc=Math.sin(Ue);an=new nt(dl,Bc,-Bc,dl,0,0)}else Ue&&Ue instanceof nt&&(an=Ue);S!==b.ADVANCED||an||(an=Wi),(ft=oe.charSpace||sl)!==void 0&&(Dn+=T(A(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=oe.horizontalScale)!==void 0&&(Dn+=T(100*tn)+` Tz
`),oe.lang;var wr=-1,$g=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,zc=_n.internal.getCurrentPageInfo().pageContext;switch($g){case 0:case!1:case"fill":wr=0;break;case 1:case!0:case"stroke":wr=1;break;case 2:case"fillThenStroke":wr=2;break;case 3:case"invisible":wr=3;break;case 4:case"fillAndAddForClipping":wr=4;break;case 5:case"strokeAndAddPathForClipping":wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wr=6;break;case 7:case"addToPathForClipping":wr=7}var id=zc.usedRenderingMode!==void 0?zc.usedRenderingMode:-1;wr!==-1?Dn+=wr+` Tr
`:id!==-1&&(Dn+=`0 Tr
`),wr!==-1&&(zc.usedRenderingMode=wr),Xe=oe.align||"left";var ei,fl=Oe*Ir,sd=_n.internal.pageSize.getWidth(),ad=rt[ut];ft=oe.charSpace||sl,lt=oe.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var qs=[],Qa=function($t){return _n.getStringUnitWidth($t,{font:ad,charSpace:ft,fontSize:Oe,doKerning:!1})*Oe/Gi};if(Object.prototype.toString.call(x)==="[object Array]"){var _r;Ee=Rc(x),Xe!=="left"&&(ei=Ee.map(Qa));var hr,Vs=0;if(Xe==="right"){F-=ei[0],x=[],Hn=Ee.length;for(var gs=0;gs<Hn;gs++)gs===0?(hr=Yi(F),_r=ps(te)):(hr=A(Vs-ei[gs]),_r=-fl),x.push([Ee[gs],hr,_r]),Vs=ei[gs]}else if(Xe==="center"){F-=ei[0]/2,x=[],Hn=Ee.length;for(var ms=0;ms<Hn;ms++)ms===0?(hr=Yi(F),_r=ps(te)):(hr=A((Vs-ei[ms])/2),_r=-fl),x.push([Ee[ms],hr,_r]),Vs=ei[ms]}else if(Xe==="left"){x=[],Hn=Ee.length;for(var pl=0;pl<Hn;pl++)x.push(Ee[pl])}else if(Xe==="justify"&&ad.encoding==="Identity-H"){x=[],Hn=Ee.length,lt=lt!==0?lt:sd;for(var ys=0,fn=0;fn<Hn;fn++)if(_r=fn===0?ps(te):-fl,hr=fn===0?Yi(F):ys,fn<Hn-1){var $c=A((lt-ei[fn])/(Ee[fn].split(" ").length-1)),dr=Ee[fn].split(" ");x.push([dr[0]+" ",hr,_r]),ys=0;for(var ti=1;ti<dr.length;ti++){var gl=(Qa(dr[ti-1]+" "+dr[ti])-Qa(dr[ti]))*Gi+$c;ti==dr.length-1?x.push([dr[ti],gl,0]):x.push([dr[ti]+" ",gl,0]),ys-=gl}}else x.push([Ee[fn],hr,_r]);x.push(["",ys,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Hn=Ee.length,lt=lt!==0?lt:sd,fn=0;fn<Hn;fn++)_r=fn===0?ps(te):-fl,hr=fn===0?Yi(F):0,fn<Hn-1?qs.push(T(A((lt-ei[fn])/(Ee[fn].split(" ").length-1)))):qs.push(0),x.push([Ee[fn],hr,_r])}}var od=typeof oe.R2L=="boolean"?oe.R2L:Ve;od===!0&&(x=Dc(x,function($t,Ut,pn){return[$t.split("").reverse().join(""),Ut,pn]})),we={text:x,x:F,y:te,options:oe,mutex:{pdfEscape:br,activeFontKey:ut,fonts:rt,activeFontSize:Oe}},at.publish("postProcessText",we),x=we.text,bi=we.mutex.isHex||!1;var Uc=rt[ut].encoding;Uc!=="WinAnsiEncoding"&&Uc!=="StandardEncoding"||(x=Dc(x,function($t,Ut,pn){return[rd($t),Ut,pn]})),Ee=Rc(x),x=[];for(var Za,eo,Ys,to=0,ml=1,no=Array.isArray(Ee[0])?ml:to,Gs="",Wc=function($t,Ut,pn){var Cn="";return pn instanceof nt?(pn=typeof oe.angle=="number"?pi(pn,new nt(1,0,0,1,$t,Ut)):pi(new nt(1,0,0,1,$t,Ut),pn),S===b.ADVANCED&&(pn=pi(new nt(1,0,0,-1,0,0),pn)),Cn=pn.join(" ")+` Tm
`):Cn=T($t)+" "+T(Ut)+` Td
`,Cn},ni=0;ni<Ee.length;ni++){switch(Gs="",no){case ml:Ys=(bi?"<":"(")+Ee[ni][0]+(bi?">":")"),Za=parseFloat(Ee[ni][1]),eo=parseFloat(Ee[ni][2]);break;case to:Ys=(bi?"<":"(")+Ee[ni]+(bi?">":")"),Za=Yi(F),eo=ps(te)}qs!==void 0&&qs[ni]!==void 0&&(Gs=qs[ni]+` Tw
`),ni===0?x.push(Gs+Wc(Za,eo,an)+Ys):no===to?x.push(Gs+Ys):no===ml&&x.push(Gs+Wc(Za,eo,an)+Ys)}x=no===to?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ri=`BT
/`;return ri+=ut+" "+Oe+` Tf
`,ri+=T(Oe*Ir)+` TL
`,ri+=Ka+`
`,ri+=Dn,ri+=x,Q(ri+="ET"),p[ut]=!0,_n};var Tg=f.__private__.clip=f.clip=function(x){return Q(x==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Tg("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Vi=f.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(x){return Vi(x)&&(c=x),this};var Jh=f.__private__.getStyle=f.getStyle=function(x){var F=c;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},Kh=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(x){return rl("f",x),this},f.fillEvenOdd=function(x){return rl("f*",x),this},f.fillStroke=function(x){return rl("B",x),this},f.fillStrokeEvenOdd=function(x){return rl("B*",x),this};var rl=function(x,F){Mt(F)==="object"?Mg(F,x):Q(x)},Nc=function(x){x===null||S===b.ADVANCED&&x===void 0||(x=Jh(x),Q(x))};function Og(x,F,te,oe,pe){var we=new ko(F||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,pe||this.matrix);we.stream=this.stream;var Ee=x+"$$"+this.cloneIndex+++"$$";return xr(Ee,we),we}var Mg=function(x,F){var te=Dr[x.key],oe=dt[te];if(oe instanceof pa)Q("q"),Q(Rg(F)),oe.gState&&f.setGState(oe.gState),Q(x.matrix.toString()+" cm"),Q("/"+te+" sh"),Q("Q");else if(oe instanceof ko){var pe=new nt(1,0,0,-1,0,Hs());x.matrix&&(pe=pe.multiply(x.matrix||Wi),te=Og.call(oe,x.key,x.boundingBox,x.xStep,x.yStep,pe).id),Q("q"),Q("/Pattern cs"),Q("/"+te+" scn"),oe.gState&&f.setGState(oe.gState),Q(F),Q("Q")}},Rg=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pc=f.moveTo=function(x,F){return Q(T(A(x))+" "+T(z(F))+" m"),this},Ga=f.lineTo=function(x,F){return Q(T(A(x))+" "+T(z(F))+" l"),this},Us=f.curveTo=function(x,F,te,oe,pe,we){return Q([T(A(x)),T(z(F)),T(A(te)),T(z(oe)),T(A(pe)),T(z(we)),"c"].join(" ")),this};f.__private__.line=f.line=function(x,F,te,oe,pe){if(isNaN(x)||isNaN(F)||isNaN(te)||isNaN(oe)||!Vi(pe))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[te-x,oe-F]],x,F,[1,1],pe||"S"):this.lines([[te-x,oe-F]],x,F,[1,1]).stroke()},f.__private__.lines=f.lines=function(x,F,te,oe,pe,we){var Ee,Ue,Xe,ft,lt,Nt,tn,an,_n,Xn,Dn,bi;if(typeof x=="number"&&(bi=te,te=F,F=x,x=bi),oe=oe||[1,1],we=we||!1,isNaN(F)||isNaN(te)||!Array.isArray(x)||!Array.isArray(oe)||!Vi(pe)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pc(F,te),Ee=oe[0],Ue=oe[1],ft=x.length,Xn=F,Dn=te,Xe=0;Xe<ft;Xe++)(lt=x[Xe]).length===2?(Xn=lt[0]*Ee+Xn,Dn=lt[1]*Ue+Dn,Ga(Xn,Dn)):(Nt=lt[0]*Ee+Xn,tn=lt[1]*Ue+Dn,an=lt[2]*Ee+Xn,_n=lt[3]*Ue+Dn,Xn=lt[4]*Ee+Xn,Dn=lt[5]*Ue+Dn,Us(Nt,tn,an,_n,Xn,Dn));return we&&Kh(),Nc(pe),this},f.path=function(x){for(var F=0;F<x.length;F++){var te=x[F],oe=te.c;switch(te.op){case"m":Pc(oe[0],oe[1]);break;case"l":Ga(oe[0],oe[1]);break;case"c":Us.apply(this,oe);break;case"h":Kh()}}return this},f.__private__.rect=f.rect=function(x,F,te,oe,pe){if(isNaN(x)||isNaN(F)||isNaN(te)||isNaN(oe)||!Vi(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(oe=-oe),Q([T(A(x)),T(z(F)),T(A(te)),T(A(oe)),"re"].join(" ")),Nc(pe),this},f.__private__.triangle=f.triangle=function(x,F,te,oe,pe,we,Ee){if(isNaN(x)||isNaN(F)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(we)||!Vi(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-x,oe-F],[pe-te,we-oe],[x-pe,F-we]],x,F,[1,1],Ee,!0),this},f.__private__.roundedRect=f.roundedRect=function(x,F,te,oe,pe,we,Ee){if(isNaN(x)||isNaN(F)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(we)||!Vi(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*te),we=Math.min(we,.5*oe),this.lines([[te-2*pe,0],[pe*Ue,0,pe,we-we*Ue,pe,we],[0,oe-2*we],[0,we*Ue,-pe*Ue,we,-pe,we],[2*pe-te,0],[-pe*Ue,0,-pe,-we*Ue,-pe,-we],[0,2*we-oe],[0,-we*Ue,pe*Ue,-we,pe,-we]],x+pe,F,[1,1],Ee,!0),this},f.__private__.ellipse=f.ellipse=function(x,F,te,oe,pe){if(isNaN(x)||isNaN(F)||isNaN(te)||isNaN(oe)||!Vi(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*te,Ee=4/3*(Math.SQRT2-1)*oe;return Pc(x+te,F),Us(x+te,F-Ee,x+we,F-oe,x,F-oe),Us(x-we,F-oe,x-te,F-Ee,x-te,F),Us(x-te,F+Ee,x-we,F+oe,x,F+oe),Us(x+we,F+oe,x+te,F+Ee,x+te,F),Nc(pe),this},f.__private__.circle=f.circle=function(x,F,te,oe){if(isNaN(x)||isNaN(F)||isNaN(te)||!Vi(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,te,te,oe)},f.setFont=function(x,F,te){return te&&(F=I(F,te)),ut=Vh(x,F,{disableWarning:!1}),this};var Dg=f.__private__.getFont=f.getFont=function(){return rt[Vh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var x,F,te={};for(x in kt)if(kt.hasOwnProperty(x))for(F in te[x]=[],kt[x])kt[x].hasOwnProperty(F)&&te[x].push(F);return te},f.addFont=function(x,F,te,oe,pe){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(te=I(te,oe)),pe=pe||"Identity-H",_c.call(this,x,F,te,pe)};var Ja,Ac=t.lineWidth||.200025,il=f.__private__.getLineWidth=f.getLineWidth=function(){return Ac},Xh=f.__private__.setLineWidth=f.setLineWidth=function(x){return Ac=x,Q(T(A(x))+" w"),this};f.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(te){return T(A(te))}).join(" "),F=T(A(F)),Q("["+x+"] "+F+" d"),this};var Qh=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Ja};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Ja};var Zh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ja=x),this},ed=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ja};Zh(t.lineHeight);var Yi=f.__private__.getHorizontalCoordinate=function(x){return A(x)},ps=f.__private__.getVerticalCoordinate=function(x){return S===b.ADVANCED?x:st[D].mediaBox.topRightY-st[D].mediaBox.bottomLeftY-A(x)},Fg=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(x){return T(Yi(x))},Ws=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(x){return T(ps(x))},xi=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return mi(xi)},f.__private__.setStrokeColor=f.setDrawColor=function(x,F,te,oe){return xi=yi({ch1:x,ch2:F,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),Q(xi),this};var Cc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return mi(Cc)},f.__private__.setFillColor=f.setFillColor=function(x,F,te,oe){return Cc=yi({ch1:x,ch2:F,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),Q(Cc),this};var Ka=t.textColor||"0 g",Ig=f.__private__.getTextColor=f.getTextColor=function(){return mi(Ka)};f.__private__.setTextColor=f.setTextColor=function(x,F,te,oe){return Ka=yi({ch1:x,ch2:F,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var sl=t.charSpace,Bg=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(sl||0)};f.__private__.setCharSpace=f.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sl=x,this};var jc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(x){var F=f.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jc=F,Q(F+" J"),this};var Lc=0;f.__private__.setLineJoin=f.setLineJoin=function(x){var F=f.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lc=F,Q(F+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(T(A(x))+" M"),this},f.GState=yh,f.setGState=function(x){(x=typeof x=="string"?It[Pn[x]]:td(null,x)).equals(Mn)||(Q("/"+x.id+" gs"),Mn=x)};var td=function(x,F){if(!x||!Pn[x]){var te=!1;for(var oe in It)if(It.hasOwnProperty(oe)&&It[oe].equals(F)){te=!0;break}if(te)F=It[oe];else{var pe="GS"+(Object.keys(It).length+1).toString(10);It[pe]=F,F.id=pe}return x&&(Pn[x]=F.id),at.publish("addGState",F),F}};f.addGState=function(x,F){return td(x,F),this},f.saveGraphicsState=function(){return Q("q"),Jn.push({key:ut,size:Oe,color:Ka}),this},f.restoreGraphicsState=function(){Q("Q");var x=Jn.pop();return ut=x.key,Oe=x.size,Ka=x.color,Mn=null,this},f.setCurrentTransformationMatrix=function(x){return Q(x.toString()+" cm"),this},f.comment=function(x){return Q("#"+x),this};var al=function(x,F){var te=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(we){isNaN(we)||(te=parseFloat(we))}});var oe=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(we){isNaN(we)||(oe=parseFloat(we))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(we){pe=we.toString()}}),this},Ec=function(x,F,te,oe){al.call(this,x,F),this.type="rect";var pe=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Ee){isNaN(Ee)||(pe=parseFloat(Ee))}});var we=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Ee){isNaN(Ee)||(we=parseFloat(Ee))}}),this},Tc=function(){this.page=jt,this.currentPage=D,this.pages=ye.slice(0),this.pagesContext=st.slice(0),this.x=ke,this.y=Fe,this.matrix=ht,this.width=Xa(D),this.height=Hs(D),this.outputDestination=ue,this.id="",this.objectNumber=-1};Tc.prototype.restore=function(){jt=this.page,D=this.currentPage,st=this.pagesContext,ye=this.pages,ke=this.x,Fe=this.y,ht=this.matrix,Oc(D,this.width),Mc(D,this.height),ue=this.outputDestination};var nd=function(x,F,te,oe,pe){Ui.push(new Tc),jt=D=0,ye=[],ke=x,Fe=F,ht=pe,Sc([te,oe])},zg=function(x){if($i[x])Ui.pop().restore();else{var F=new Tc,te="Xo"+(Object.keys(hn).length+1).toString(10);F.id=te,$i[x]=te,hn[te]=F,at.publish("addFormObject",F),Ui.pop().restore()}};for(var ol in f.beginFormObject=function(x,F,te,oe,pe){return nd(x,F,te,oe,pe),this},f.endFormObject=function(x){return zg(x),this},f.doFormObject=function(x,F){var te=hn[$i[x]];return Q("q"),Q(F.toString()+" cm"),Q("/"+te.id+" Do"),Q("Q"),this},f.getFormObject=function(x){var F=hn[$i[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},f.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(go(tl(fs()),x),typeof go.unload=="function"&&it.setTimeout&&setTimeout(go.unload,911),this):new Promise(function(te,oe){try{var pe=go(tl(fs()),x);typeof go.unload=="function"&&it.setTimeout&&setTimeout(go.unload,911),te(pe)}catch(we){oe(we.message)}})},et.API)et.API.hasOwnProperty(ol)&&(ol==="events"&&et.API.events.length?function(x,F){var te,oe,pe;for(pe=F.length-1;pe!==-1;pe--)te=F[pe][0],oe=F[pe][1],x.subscribe.apply(x,[te].concat(typeof oe=="function"?[oe]:oe))}(at,et.API.events):f[ol]=et.API[ol]);var Xa=f.getPageWidth=function(x){return(st[x=x||D].mediaBox.topRightX-st[x].mediaBox.bottomLeftX)/Re},Oc=f.setPageWidth=function(x,F){st[x].mediaBox.topRightX=F*Re+st[x].mediaBox.bottomLeftX},Hs=f.getPageHeight=function(x){return(st[x=x||D].mediaBox.topRightY-st[x].mediaBox.bottomLeftY)/Re},Mc=f.setPageHeight=function(x,F){st[x].mediaBox.topRightY=F*Re+st[x].mediaBox.bottomLeftY};return f.internal={pdfEscape:br,getStyle:Jh,getFont:Dg,getFontSize:Me,getCharSpace:Bg,getTextColor:Ig,getLineHeight:Qh,getLineHeightFactor:ed,getLineWidth:il,write:Ge,getHorizontalCoordinate:Yi,getVerticalCoordinate:ps,getCoordinateString:Fg,getVerticalCoordinateString:Ws,collections:{},newObject:An,newAdditionalObject:Yo,newObjectDeferred:wn,newObjectDeferredBegin:Fr,getFilters:Hi,putStream:Zr,events:at,scaleFactor:Re,pageSize:{getWidth:function(){return Xa(D)},setWidth:function(x){Oc(D,x)},getHeight:function(){return Hs(D)},setHeight:function(x){Mc(D,x)}},encryptionOptions:u,encryption:Kn,getEncryptor:Lg,output:nl,getNumberOfPages:Ng,pages:ye,out:Q,f2:M,f3:j,getPageInfo:Gh,getPageInfoByObjId:ot,getCurrentPageInfo:Eg,getPDFVersion:w,Point:al,Rectangle:Ec,Matrix:nt,hasHotfix:Yh},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Xa(D)},set:function(x){Oc(D,x)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Hs(D)},set:function(x){Mc(D,x)},enumerable:!0,configurable:!0}),Sg.call(f,Se),ut="F1",Hh(i,n),at.publish("initialized"),f}Tl.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Tl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tl.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Tl.prototype.processOwnerPassword=function(t,e){return O1(T1(e).substr(0,5),t)},Tl.prototype.encryptor=function(t,e){var n=T1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return O1(n,r)}},yh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Mt(t)!==Mt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},et.API={events:[]},et.version="2.5.2";var ln=et.API,d2=1,qo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ct=function(t){return t.toFixed(2)},ia=function(t){return t.toFixed(5)};ln.__acroform__={};var Rr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},G5=function(t){return t*d2},Zi=function(t){var e=new d4,n=qe.internal.getHeight(t)||0,r=qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ct(r)),Number(ct(n))],e},NL=ln.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},PL=ln.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},AL=ln.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mn=ln.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AL(t,e-1)},yn=ln.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NL(t,e-1)},vn=ln.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PL(t,e-1)},CL=ln.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(ct(l.lowerLeft_X)),Number(ct(l.lowerLeft_Y)),Number(ct(l.upperRight_X)),Number(ct(l.upperRight_Y))]},jL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=M1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ct(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Zi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},M1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=n,a=qe.internal.getHeight(t)||0;a=a<0?-a:a;var o=qe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(j,A,Y){if(j+1<i.length){var z=A+" "+i[j+1][0];return Xd(z,t,Y).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=Xd("3",t,s).height,p=t.multiline?a-s:(a-h)/2,f=p+=2,v=0,w=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var P=!1;if(i[S].length!==1&&k!==i[S].length-1){if((h+2)*(b+2)+2>a)continue e;y+=i[S][k],P=!0,w=S,S--}else{y=(y+=i[S][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(S),I=l(O,y,s),T=S>=i.length-1;if(I&&!T){y+=" ",k=0;continue}if(I||T){if(T)w=O;else if(t.multiline&&(h+2)*(b+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(b+2)+2>a)continue e;w=O}}for(var N="",E=v;E<=w;E++){var M=i[E];if(t.multiline){if(E===w){N+=M[k]+" ",k=(k+1)%M.length;continue}if(E===v){N+=M[M.length-1]+" ";continue}}N+=M[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=Xd(N,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=ct(c)+" "+ct(f)+` Td
`,e+="("+qo(N)+`) Tj
`,e+=-ct(c)+` 0 Td
`,f=-(s+2),u=0,v=P?w:w+1,b++,y=""}break}return r.text=e,r.fontSize=s,r},Xd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},LL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EL=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},TL=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Mt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},OL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ii.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(LL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new f4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&EL(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=CL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=qe.createDefaultAppearanceStream(o),Mt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=jL(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var v=f[a];typeof v=="function"&&(v=v.call(i,o)),h+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,o)),h+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&TL(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},h4=ln.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Mt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+qo(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vm=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+qo(r(t))+")"},ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ss.prototype.toString=function(){return this.objId+" 0 R"},ss.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ss.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:h4(i,this.objId,this.scope)}):i instanceof ss?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var d4=function(){ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Rr(d4,ss);var f4=function(){ss.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+qo(n(t))+")"}},set:function(n){t=n}})};Rr(f4,ss);var Ii=function t(){ss.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mn(e,3)},set:function(y){y?this.F=yn(e,3):this.F=vn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof fp)return;s="FieldObject"+t.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+qo(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/d2:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof fp||this instanceof Ta))return Vm(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ln?p:Vm(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ln?y:y.substr(0,1)==="("?Pl(y.substr(1,y.length-2)):Pl(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?Pl(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ln?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ln?f:Vm(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Ln?y:y.substr(0,1)==="("?Pl(y.substr(1,y.length-2)):Pl(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?Pl(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Ln?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(y){y=!!y,w=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,1)},set:function(y){y?this.Ff=yn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,2)},set:function(y){y?this.Ff=yn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,3)},set:function(y){y?this.Ff=yn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Rr(Ii,ss);var Co=function(){Ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return h4(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,18)},set:function(n){n?this.Ff=yn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,20)},set:function(n){n?(this.Ff=yn(this.Ff,20),e.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,22)},set:function(n){n?this.Ff=yn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(n){n?this.Ff=yn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,27)},set:function(n){n?this.Ff=yn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Rr(Co,Ii);var jo=function(){Co.call(this),this.fontName="helvetica",this.combo=!1};Rr(jo,Co);var Lo=function(){jo.call(this),this.combo=!0};Rr(Lo,jo);var zu=function(){Lo.call(this),this.edit=!0};Rr(zu,Lo);var Ln=function(){Ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,15)},set:function(n){n?this.Ff=yn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,16)},set:function(n){n?this.Ff=yn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,17)},set:function(n){n?this.Ff=yn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(n){n?this.Ff=yn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+qo(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Mt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Rr(Ln,Ii);var $u=function(){Ln.call(this),this.pushButton=!0};Rr($u,Ln);var Eo=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Rr(Eo,Ln);var fp=function(){var t,e;Ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+qo(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Mt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Rr(fp,Ii),Eo.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Eo.prototype.createOption=function(t){var e=new fp;return e.Parent=this,e.optionName=t,this.Kids.push(e),ML.call(this.scope,e),e};var Uu=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qe.CheckBox.createAppearanceStream()};Rr(Uu,Ln);var Ta=function(){Ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,13)},set:function(e){e?this.Ff=yn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,21)},set:function(e){e?this.Ff=yn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(e){e?this.Ff=yn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,24)},set:function(e){e?this.Ff=yn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,25)},set:function(e){e?this.Ff=yn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(e){e?this.Ff=yn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Rr(Ta,Ii);var Wu=function(){Ta.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,14)},set:function(t){t?this.Ff=yn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};Rr(Wu,Ta);var qe={CheckBox:{createAppearanceStream:function(){return{N:{On:qe.CheckBox.YesNormal},D:{On:qe.CheckBox.YesPushDown,Off:qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=M1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ct(qe.internal.getWidth(t))+" "+ct(qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ct(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Zi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=qe.internal.getHeight(t),a=qe.internal.getWidth(t),o=M1(t,t.caption);return i.push("1 g"),i.push("0 0 "+ct(a)+" "+ct(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ct(a-1)+" "+ct(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ct(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(qe.internal.getWidth(t))+" "+ct(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Circle.YesNormal,e.D[t]=qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Zi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ia(qe.internal.getWidth(t)/2)+" "+ia(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qe.internal.Bezier_C).toFixed(5)),a=Number((r*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ia(qe.internal.getWidth(t)/2)+" "+ia(qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ia(qe.internal.getWidth(t)/2)+" "+ia(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ia(qe.internal.getWidth(t)/2)+" "+ia(qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Cross.YesNormal,e.D[t]=qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Zi(t);e.scope=t.scope;var n=[],r=qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ct(qe.internal.getWidth(t)-2)+" "+ct(qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(r.x1.x)+" "+ct(r.x1.y)+" m"),n.push(ct(r.x2.x)+" "+ct(r.x2.y)+" l"),n.push(ct(r.x4.x)+" "+ct(r.x4.y)+" m"),n.push(ct(r.x3.x)+" "+ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(qe.internal.getWidth(t))+" "+ct(qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ct(qe.internal.getWidth(t)-2)+" "+ct(qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),r.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),r.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),r.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Zi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(qe.internal.getWidth(t))+" "+ct(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=qe.internal.getWidth(t),n=qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},qe.internal.getWidth=function(t){var e=0;return Mt(t)==="object"&&(e=G5(t.Rect[2])),e},qe.internal.getHeight=function(t){var e=0;return Mt(t)==="object"&&(e=G5(t.Rect[3])),e};var ML=ln.addField=function(t){if(OL(this,t),!(t instanceof Ii))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ln.AcroFormChoiceField=Co,ln.AcroFormListBox=jo,ln.AcroFormComboBox=Lo,ln.AcroFormEditBox=zu,ln.AcroFormButton=Ln,ln.AcroFormPushButton=$u,ln.AcroFormRadioButton=Eo,ln.AcroFormCheckBox=Uu,ln.AcroFormTextField=Ta,ln.AcroFormPasswordField=Wu,ln.AcroFormAppearance=qe,ln.AcroForm={ChoiceField:Co,ListBox:jo,ComboBox:Lo,EditBox:zu,Button:Ln,PushButton:$u,RadioButton:Eo,CheckBox:Uu,TextField:Ta,PasswordField:Wu,Appearance:qe},et.AcroForm={ChoiceField:Co,ListBox:jo,ComboBox:Lo,EditBox:zu,Button:Ln,PushButton:$u,RadioButton:Eo,CheckBox:Uu,TextField:Ta,PasswordField:Wu,Appearance:qe};var RL=et.AcroForm;function p4(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(j,A){var Y,z,ne,G,W,H=e;if((A=A||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(I(j))for(W in n)for(ne=n[W],Y=0;Y<ne.length;Y+=1){for(G=!0,z=0;z<ne[Y].length;z+=1)if(ne[Y][z]!==void 0&&ne[Y][z]!==j[z]){G=!1;break}if(G===!0){H=W;break}}else for(W in n)for(ne=n[W],Y=0;Y<ne.length;Y+=1){for(G=!0,z=0;z<ne[Y].length;z+=1)if(ne[Y][z]!==void 0&&ne[Y][z]!==j.charCodeAt(z)){G=!1;break}if(G===!0){H=W;break}}return H===e&&A!==e&&(H=A),H},i=function j(A){for(var Y=this.internal.write,z=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:A.width}),G.push({key:"Height",value:A.height}),A.colorSpace===k.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===k.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var W="",H=0,V=A.transparency.length;H<V;H++)W+=A.transparency[H]+" "+A.transparency[H]+" ";G.push({key:"Mask",value:"["+W+"]"})}A.sMask!==void 0&&G.push({key:"SMask",value:A.objectId+1+" 0 R"});var re=A.filter!==void 0?["/"+A.filter]:void 0;if(z({data:A.data,additionalKeyValues:G,alreadyAppliedFilters:re,objectId:A.objectId}),Y("endobj"),"sMask"in A&&A.sMask!==void 0){var Z="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,C={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:Z,data:A.sMask};"filter"in A&&(C.filter=A.filter),j.call(this,C)}if(A.colorSpace===k.INDEXED){var D=this.internal.newObject();z({data:N(new Uint8Array(A.palette)),objectId:D}),Y("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var A in j)i.call(this,j[A])},a=function(){var j,A=this.internal.collections.addImage_images,Y=this.internal.write;for(var z in A)Y("/I"+(j=A[z]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(j){return typeof t["process"+j.toUpperCase()]=="function"},h=function(j){return Mt(j)==="object"&&j.nodeType===1},p=function(j,A){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var Y=""+j.getAttribute("src");if(Y.indexOf("data:image/")===0)return Bu(unescape(Y).split("base64,").pop());var z=t.loadFile(Y,!0);if(z!==void 0)return z}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var ne;switch(A){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return Bu(j.toDataURL(ne,1).split("base64,").pop())}},f=function(j){var A=this.internal.collections.addImage_images;if(A){for(var Y in A)if(j===A[Y].alias)return A[Y]}},v=function(j,A,Y){return j||A||(j=-96,A=-96),j<0&&(j=-1*Y.width*72/j/this.internal.scaleFactor),A<0&&(A=-1*Y.height*72/A/this.internal.scaleFactor),j===0&&(j=A*Y.width/Y.height),A===0&&(A=j*Y.height/Y.width),[j,A]},w=function(j,A,Y,z,ne,G){var W=v.call(this,Y,z,ne),H=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,re=l.call(this);if(Y=W[0],z=W[1],re[ne.index]=ne,G){G*=Math.PI/180;var Z=Math.cos(G),C=Math.sin(G),D=function(B){return B.toFixed(4)},K=[D(Z),D(C),D(-1*C),D(Z),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,H(j),V(A+z),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([H(Y),"0","0",H(z),"0","0","cm"].join(" "))):this.internal.write([H(Y),"0","0",H(z),H(j),V(A+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(j){var A,Y,z=0;if(typeof j=="string")for(Y=j.length,A=0;A<Y;A++)z=(z<<5)-z+j.charCodeAt(A),z|=0;else if(I(j))for(Y=j.byteLength/2,A=0;A<Y;A++)z=(z<<5)-z+j[A],z|=0;return z},S=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var A=!0;return j.length===0&&(A=!1),j.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(A=!1),A},P=t.__addimage__.extractImageFromDataUrl=function(j){var A=(j=j||"").split("base64,"),Y=null;if(A.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(A[0]);Array.isArray(z)&&(Y={mimeType:z[1],charset:z[2],data:A[1]})}return Y},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(j){return O()&&j instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(j){return O()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(j){for(var A=j.length,Y=new Uint8Array(A),z=0;z<A;z++)Y[z]=j.charCodeAt(z);return Y},N=t.__addimage__.arrayBufferToBinaryString=function(j){for(var A="",Y=I(j)?j:new Uint8Array(j),z=0;z<Y.length;z+=8192)A+=String.fromCharCode.apply(null,Y.subarray(z,z+8192));return A};t.addImage=function(){var j,A,Y,z,ne,G,W,H,V;if(typeof arguments[1]=="number"?(A=e,Y=arguments[1],z=arguments[2],ne=arguments[3],G=arguments[4],W=arguments[5],H=arguments[6],V=arguments[7]):(A=arguments[1],Y=arguments[2],z=arguments[3],ne=arguments[4],G=arguments[5],W=arguments[6],H=arguments[7],V=arguments[8]),Mt(j=arguments[0])==="object"&&!h(j)&&"imageData"in j){var re=j;j=re.imageData,A=re.format||A||e,Y=re.x||Y||0,z=re.y||z||0,ne=re.w||re.width||ne,G=re.h||re.height||G,W=re.alias||W,H=re.compression||H,V=re.rotation||re.angle||V}var Z=this.internal.getFilters();if(H===void 0&&Z.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(Y)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=E.call(this,j,A,W,H);return w.call(this,Y,z,ne,G,C,V),this};var E=function(j,A,Y,z){var ne,G,W;if(typeof j=="string"&&r(j)===e){j=unescape(j);var H=M(j,!1);(H!==""||(H=t.loadFile(j,!0))!==void 0)&&(j=H)}if(h(j)&&(j=p(j,A)),A=r(j,A),!u(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((W=Y)==null||W.length===0)&&(Y=function(V){return typeof V=="string"||I(V)?b(V):I(V.data)?b(V.data):null}(j)),(ne=f.call(this,Y))||(O()&&(j instanceof Uint8Array||A==="RGBA"||(G=j,j=T(j))),ne=this["process"+A.toUpperCase()](j,c.call(this),Y,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in t.image_compression?V:y.NONE}(z),G)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},M=t.__addimage__.convertBase64ToBinaryString=function(j,A){var Y;A=typeof A!="boolean"||A;var z,ne="";if(typeof j=="string"){z=(Y=P(j))!==null?Y.data:j;try{ne=Bu(z)}catch(G){if(A)throw S(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(j){var A,Y,z="";if(h(j)&&(j=p(j)),typeof j=="string"&&r(j)===e&&((z=M(j,!1))===""&&(z=t.loadFile(j)||""),j=z),Y=r(j),!u(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!O()||j instanceof Uint8Array||(j=T(j)),!(A=this["process"+Y.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=Y,A}})(et.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};et.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(w.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(b))+") >>",w.content=s;var S=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(w.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var I=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(et.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(w){var k=0,y=n,b="",S=0;for(k=0;k<w.length;k+=1)y[w.charCodeAt(k)]!==void 0?(S++,typeof(y=y[w.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(y),y=n,S=0),k===w.length-1&&(y=n,b+=w.charAt(k-(S-1)),k-=S-1,S=0)):(y=n,b+=w.charAt(k-S),k-=S,S=0);return b};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(w,k,y){return a(w)?s(w)===!1?-1:!c(w)||!a(k)&&!a(y)||!a(y)&&o(k)||o(w)&&!a(k)||o(w)&&l(k)||o(w)&&o(k)?0:u(w)&&a(k)&&!o(k)&&a(y)&&c(y)?3:o(w)||!a(y)?1:2:-1},f=function(w){var k=0,y=0,b=0,S="",P="",O="",I=(w=w||"").split("\\s+"),T=[];for(k=0;k<I.length;k+=1){for(T.push(""),y=0;y<I[k].length;y+=1)S=I[k][y],P=I[k][y-1],O=I[k][y+1],a(S)?(b=p(S,P,O),T[k]+=b!==-1?String.fromCharCode(e[S.charCodeAt(0)][b]):S):T[k]+=S;T[k]=h(T[k])}return T.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var w,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var b=0;for(y=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?y.push([f(k[b][0]),k[b][1],k[b][2]]):y.push([f(k[b])]);w=y}else w=f(k);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",v])}(et.API),et.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(et.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,v=0,w=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,P){return S.concat(k.splitTextToSize(P,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)f<(w=this.getStringUnitWidth(l[b],{font:h})*u)&&(f=w);return f!==0&&(v=l.length),{w:f/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,v,w,k,y=[],b=[],S=[],P={},O={},I=[],T=[],N=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,j=p.margins||Object.assign({width:this.getPageWidth()},e),A=typeof p.padding=="number"?p.padding:3,Y=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=z,this.setFontSize(M),h==null)b=y=Object.keys(u[0]),S=y.map(function(){return"left"});else if(Array.isArray(h)&&Mt(h[0])==="object")for(y=h.map(function(re){return re.name}),b=h.map(function(re){return re.prompt||re.name||""}),S=h.map(function(re){return re.align||"left"}),f=0;f<h.length;f+=1)O[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(b=y=h,S=y.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(P[k=y[f]]=u.map(function(re){return re[k]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=P[k],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)I.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[k]=Math.max.apply(null,I)+A+A,I=[]}if(E){var ne={};for(f=0;f<y.length;f+=1)ne[y[f]]={},ne[y[f]].text=b[f],ne[y[f]].align=S[f];var G=o.call(this,ne,O);T=y.map(function(re){return new s(l,c,O[re],G,ne[re].text,void 0,ne[re].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var W=h.reduce(function(re,Z){return re[Z.name]=Z.align,re},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var H=o.call(this,u[f],O);for(w=0;w<y.length;w+=1){var V=u[f][y[w]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:w,data:V},this),a.call(this,new s(l,c,O[y[w]],H,V,f+2,W[y[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(et.API);var g4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R1=p4(m4),y4=[100,200,300,400,500,600,700,800,900],DL=p4(y4);function D1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return g4[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof R1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function J5(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var FL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},K5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function IL(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},FL,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=D1(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+X5(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var u=R1[l],h=u<=R1.normal?-1:1,p=J5(c,m4,u,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=g4[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=DL[l],h=J5(c,y4,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+X5(s)+"'.");return a}function Q5(t){return t.trimLeft()}function BL(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function zL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qd,Z5,ex,Ym=["times"];(function(t){var e,n,r,i,s,a,o,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=C;Object.defineProperty(this,"pdf",{get:function(){return D}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ae){K=!!ae}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(ae){B=!!ae}});var U=0;Object.defineProperty(this,"posX",{get:function(){return U},set:function(ae){isNaN(ae)||(U=ae)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ae){isNaN(ae)||(ie=ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ae){var Q;typeof ae=="number"?Q=[ae,ae,ae,ae]:((Q=new Array(4))[0]=ae[0],Q[1]=ae.length>=2?ae[1]:Q[0],Q[2]=ae.length>=3?ae[2]:Q[0],Q[3]=ae.length>=4?ae[3]:Q[1]),c.margin=Q}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(ae){se=ae}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ae){le=ae}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(ae){ve=ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ae){ae instanceof u&&(c=ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ae){c.path=ae}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(ae){ye=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var Q;Q=p(ae),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var Q=p(ae);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var Ce=null;function ue(ae,Q){if(Ce===null){var Ge=function(je){var Se=[];return Object.keys(je).forEach(function(Oe){je[Oe].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Oe,weight:"bold"};break;case"italic":Me={family:Oe,style:"italic"};break;case"bolditalic":Me={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Oe}}Me!==null&&(Me.ref={name:Oe,style:De},Se.push(Me))})}),Se}(ae.getFontList());Ce=function(je){for(var Se={},Oe=0;Oe<je.length;++Oe){var De=D1(je[Oe]),Me=De.family,Ve=De.stretch,Ye=De.style,Ke=De.weight;Se[Me]=Se[Me]||{},Se[Me][Ve]=Se[Me][Ve]||{},Se[Me][Ve][Ye]=Se[Me][Ve][Ye]||{},Se[Me][Ve][Ye][Ke]=De}return Se}(Ge.concat(Q))}return Ce}var xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(ae){Ce=null,xe=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var Q;if(this.ctx.font=ae,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var Ge=Q[1],je=(Q[2],Q[3]),Se=Q[4],Oe=(Q[5],Q[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(De==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Me=function(Qe){var ut,Re,ke=[],Fe=Qe.trim();if(Fe==="")return Ym;if(Fe in K5)return[K5[Fe]];for(;Fe!=="";){switch(Re=null,ut=(Fe=Q5(Fe)).charAt(0)){case'"':case"'":Re=BL(Fe.substring(1),ut);break;default:Re=zL(Fe)}if(Re===null||(ke.push(Re[0]),(Fe=Q5(Re[1]))!==""&&Fe.charAt(0)!==","))return Ym;Fe=Fe.replace(/^,/,"")}return ke}(Oe);if(this.fontFaces){var Ve=IL(ue(this.pdf,this.fontFaces),Me.map(function(Qe){return{family:Qe,stretch:"normal",weight:je,style:Ge}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Ye="";(je==="bold"||parseInt(je,10)>=700||Ge==="bold")&&(Ye="bold"),Ge==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var Ke="",Je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Me.length;tt++){if(this.pdf.internal.getFont(Me[tt],Ye,{noFallback:!0,disableWarning:!0})!==void 0){Ke=Me[tt];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Me[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=Me[tt],Ye="bold";else if(this.pdf.internal.getFont(Me[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=Me[tt],Ye="normal";break}}if(Ke===""){for(var vt=0;vt<Me.length;vt++)if(Je[Me[vt]]){Ke=Je[Me[vt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};h.prototype.setLineDash=function(C){this.lineDash=C},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(C,D){if(isNaN(C)||isNaN(D))throw zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new a(C,D));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(C,D)},h.prototype.closePath=function(){var C=new a(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Mt(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){C=new a(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},h.prototype.lineTo=function(C,D){if(isNaN(C)||isNaN(D))throw zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new a(C,D));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(C,D,K,B){if(isNaN(K)||isNaN(B)||isNaN(C)||isNaN(D))throw zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var U=this.ctx.transform.applyToPoint(new a(K,B)),ie=this.ctx.transform.applyToPoint(new a(C,D));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.bezierCurveTo=function(C,D,K,B,U,ie){if(isNaN(U)||isNaN(ie)||isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B))throw zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new a(U,ie)),le=this.ctx.transform.applyToPoint(new a(C,D)),ve=this.ctx.transform.applyToPoint(new a(K,B));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ve.x,y2:ve.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},h.prototype.arc=function(C,D,K,B,U,ie){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B)||isNaN(U))throw zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new a(C,D));C=se.x,D=se.y;var le=this.ctx.transform.applyToPoint(new a(0,K)),ve=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(le.x-ve.x,2)+Math.pow(le.y-ve.y,2))}Math.abs(U-B)>=2*Math.PI&&(B=0,U=2*Math.PI),this.path.push({type:"arc",x:C,y:D,radius:K,startAngle:B,endAngle:U,counterclockwise:ie})},h.prototype.arcTo=function(C,D,K,B,U){throw new Error("arcTo not implemented.")},h.prototype.rect=function(C,D,K,B){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B))throw zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,D),this.lineTo(C+K,D),this.lineTo(C+K,D+B),this.lineTo(C,D+B),this.lineTo(C,D),this.lineTo(C+K,D),this.lineTo(C,D)},h.prototype.fillRect=function(C,D,K,B){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B))throw zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var U={};this.lineCap!=="butt"&&(U.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(U.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,D,K,B),this.fill(),U.hasOwnProperty("lineCap")&&(this.lineCap=U.lineCap),U.hasOwnProperty("lineJoin")&&(this.lineJoin=U.lineJoin)}},h.prototype.strokeRect=function(C,D,K,B){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B))throw zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(C,D,K,B),this.stroke())},h.prototype.clearRect=function(C,D,K,B){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B))throw zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,D,K,B))},h.prototype.save=function(C){C=typeof C!="boolean"||C;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},h.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(D),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(C){var D,K,B,U;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))D=0,K=0,B=0,U=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ie!==null)D=parseInt(ie[1]),K=parseInt(ie[2]),B=parseInt(ie[3]),U=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)D=parseInt(ie[1]),K=parseInt(ie[2]),B=parseInt(ie[3]),U=parseFloat(ie[4]);else{if(U=1,typeof C=="string"&&C.charAt(0)!=="#"){var se=new l4(C);C=se.ok?se.toHex():"#000000"}C.length===4?(D=C.substring(1,2),D+=D,K=C.substring(2,3),K+=K,B=C.substring(3,4),B+=B):(D=C.substring(1,3),K=C.substring(3,5),B=C.substring(5,7)),D=parseInt(D,16),K=parseInt(K,16),B=parseInt(B,16)}}return{r:D,g:K,b:B,a:U,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(C,D,K,B){if(isNaN(D)||isNaN(K)||typeof C!="string")throw zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!f.call(this)){var U=H(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;A.call(this,{text:C,x:D,y:K,scale:ie,angle:U,align:this.textAlign,maxWidth:B})}},h.prototype.strokeText=function(C,D,K,B){if(isNaN(D)||isNaN(K)||typeof C!="string")throw zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){B=isNaN(B)?void 0:B;var U=H(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;A.call(this,{text:C,x:D,y:K,scale:ie,renderingMode:"stroke",angle:U,align:this.textAlign,maxWidth:B})}},h.prototype.measureText=function(C){if(typeof C!="string")throw zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,K=this.pdf.internal.scaleFactor,B=D.internal.getFontSize(),U=D.getStringUnitWidth(C)*B/D.internal.scaleFactor,ie=function(se){var le=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ie({width:U*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(C,D){if(isNaN(C)||isNaN(D))throw zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(C,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(C){if(isNaN(C))throw zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},h.prototype.translate=function(C,D){if(isNaN(C)||isNaN(D))throw zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,C,D);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(C,D,K,B,U,ie){if(isNaN(C)||isNaN(D)||isNaN(K)||isNaN(B)||isNaN(U)||isNaN(ie))throw zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new l(C,D,K,B,U,ie);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.setTransform=function(C,D,K,B,U,ie){C=isNaN(C)?1:C,D=isNaN(D)?0:D,K=isNaN(K)?0:K,B=isNaN(B)?1:B,U=isNaN(U)?0:U,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(C,D,K,B,U,ie)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(C,D,K,B,U,ie,se,le,ve){var ye=this.pdf.getImageProperties(C),Ce=1,ue=1,xe=1,ae=1;B!==void 0&&le!==void 0&&(xe=le/B,ae=ve/U,Ce=ye.width/B*le/B,ue=ye.height/U*ve/U),ie===void 0&&(ie=D,se=K,D=0,K=0),B!==void 0&&le===void 0&&(le=B,ve=U),B===void 0&&le===void 0&&(le=ye.width,ve=ye.height);for(var Q,Ge=this.ctx.transform.decompose(),je=H(Ge.rotate.shx),Se=new l,Oe=(Se=(Se=(Se=Se.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new o(ie-D*xe,se-K*ae,B*Ce,U*ue)),De=k.call(this,Oe),Me=[],Ve=0;Ve<De.length;Ve+=1)Me.indexOf(De[Ve])===-1&&Me.push(De[Ve]);if(S(Me),this.autoPaging)for(var Ye=Me[0],Ke=Me[Me.length-1],Je=Ye;Je<Ke+1;Je++){this.pdf.setPage(Je);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Je===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=Je===1?0:Qe+(Je-2)*ut;if(this.ctx.clip_path.length!==0){var ke=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-Re+vt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=ke}var Fe=JSON.parse(JSON.stringify(Oe));Fe=b([Fe],this.posX+this.margin[3],-Re+vt+this.ctx.prevPageLastElemOffset)[0];var ht=(Je>Ye||Je<Ke)&&w.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,ut,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,je),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,je)};var k=function(C,D,K){var B=[];D=D||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var U=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":B.push(Math.floor((C.y+U)/K)+1);break;case"arc":B.push(Math.floor((C.y+U-C.radius)/K)+1),B.push(Math.floor((C.y+U+C.radius)/K)+1);break;case"qct":var ie=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);B.push(Math.floor((ie.y+U)/K)+1),B.push(Math.floor((ie.y+ie.h+U)/K)+1);break;case"bct":var se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);B.push(Math.floor((se.y+U)/K)+1),B.push(Math.floor((se.y+se.h+U)/K)+1);break;case"rect":B.push(Math.floor((C.y+U)/K)+1),B.push(Math.floor((C.y+C.h+U)/K)+1)}for(var le=0;le<B.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<B[le];)y.call(this);return B},y=function(){var C=this.fillStyle,D=this.strokeStyle,K=this.font,B=this.lineCap,U=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=D,this.font=K,this.lineCap=B,this.lineWidth=U,this.lineJoin=ie},b=function(C,D,K){for(var B=0;B<C.length;B++)switch(C[B].type){case"bct":C[B].x2+=D,C[B].y2+=K;case"qct":C[B].x1+=D,C[B].y1+=K;case"mt":case"lt":case"arc":default:C[B].x+=D,C[B].y+=K}return C},S=function(C){return C.sort(function(D,K){return D-K})},P=function(C,D){for(var K,B,U=this.fillStyle,ie=this.strokeStyle,se=this.lineCap,le=this.lineWidth,ve=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),ue=JSON.parse(JSON.stringify(this.path)),xe=[],ae=0;ae<ue.length;ae++)if(ue[ae].x!==void 0)for(var Q=k.call(this,ue[ae]),Ge=0;Ge<Q.length;Ge+=1)xe.indexOf(Q[Ge])===-1&&xe.push(Q[Ge]);for(var je=0;je<xe.length;je++)for(;this.pdf.internal.getNumberOfPages()<xe[je];)y.call(this);if(S(xe),this.autoPaging)for(var Se=xe[0],Oe=xe[xe.length-1],De=Se;De<Oe+1;De++){this.pdf.setPage(De),this.fillStyle=U,this.strokeStyle=ie,this.lineCap=se,this.lineWidth=ve,this.lineJoin=ye;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=De===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=De===1?0:Ye+(De-2)*Ke;if(this.ctx.clip_path.length!==0){var tt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset),O.call(this,C,!0),this.path=tt}if(B=JSON.parse(JSON.stringify(Ce)),this.path=b(B,this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset),D===!1||De===0){var vt=(De>Se||De<Oe)&&w.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ke,null).clip().discardPath()),O.call(this,C,D),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=ve,O.call(this,C,D),this.lineWidth=le;this.path=Ce},O=function(C,D){if((C!=="stroke"||D||!v.call(this))&&(C==="stroke"||D||!f.call(this))){for(var K,B,U=[],ie=this.path,se=0;se<ie.length;se++){var le=ie[se];switch(le.type){case"begin":U.push({begin:!0});break;case"close":U.push({close:!0});break;case"mt":U.push({start:le,deltas:[],abs:[]});break;case"lt":var ve=U.length;if(ie[se-1]&&!isNaN(ie[se-1].x)&&(K=[le.x-ie[se-1].x,le.y-ie[se-1].y],ve>0)){for(;ve>=0;ve--)if(U[ve-1].close!==!0&&U[ve-1].begin!==!0){U[ve-1].deltas.push(K),U[ve-1].abs.push(le);break}}break;case"bct":K=[le.x1-ie[se-1].x,le.y1-ie[se-1].y,le.x2-ie[se-1].x,le.y2-ie[se-1].y,le.x-ie[se-1].x,le.y-ie[se-1].y],U[U.length-1].deltas.push(K);break;case"qct":var ye=ie[se-1].x+2/3*(le.x1-ie[se-1].x),Ce=ie[se-1].y+2/3*(le.y1-ie[se-1].y),ue=le.x+2/3*(le.x1-le.x),xe=le.y+2/3*(le.y1-le.y),ae=le.x,Q=le.y;K=[ye-ie[se-1].x,Ce-ie[se-1].y,ue-ie[se-1].x,xe-ie[se-1].y,ae-ie[se-1].x,Q-ie[se-1].y],U[U.length-1].deltas.push(K);break;case"arc":U.push({deltas:[],abs:[],arc:!0}),Array.isArray(U[U.length-1].abs)&&U[U.length-1].abs.push(le)}}B=D?null:C==="stroke"?"stroke":"fill";for(var Ge=!1,je=0;je<U.length;je++)if(U[je].arc)for(var Se=U[je].abs,Oe=0;Oe<Se.length;Oe++){var De=Se[Oe];De.type==="arc"?N.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,D,!Ge):Y.call(this,De.x,De.y),Ge=!0}else if(U[je].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(U[je].begin!==!0){var Me=U[je].start.x,Ve=U[je].start.y;z.call(this,U[je].deltas,Me,Ve),Ge=!0}B&&E.call(this,B),D&&M.call(this)}},I=function(C){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-K;case"top":return C+D-K;case"hanging":return C+D-2*K;case"middle":return C+D/2-K;case"ideographic":return C;case"alphabetic":default:return C}},T=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(D,K){this.colorStops.push([D,K])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(C,D,K,B,U,ie,se,le,ve){for(var ye=G.call(this,K,B,U,ie),Ce=0;Ce<ye.length;Ce++){var ue=ye[Ce];Ce===0&&(ve?j.call(this,ue.x1+C,ue.y1+D):Y.call(this,ue.x1+C,ue.y1+D)),ne.call(this,C,D,ue.x2,ue.y2,ue.x3,ue.y3,ue.x4,ue.y4)}le?M.call(this):E.call(this,se)},E=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(C,D){this.pdf.internal.out(n(C)+" "+r(D)+" m")},A=function(C){var D;switch(C.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var K=this.pdf.getTextDimensions(C.text),B=I.call(this,C.y),U=T.call(this,B)-K.h,ie=this.ctx.transform.applyToPoint(new a(C.x,B)),se=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var ve,ye,Ce,ue=this.ctx.transform.applyToRectangle(new o(C.x,B,K.w,K.h)),xe=le.applyToRectangle(new o(C.x,U,K.w,K.h)),ae=k.call(this,xe),Q=[],Ge=0;Ge<ae.length;Ge+=1)Q.indexOf(ae[Ge])===-1&&Q.push(ae[Ge]);if(S(Q),this.autoPaging)for(var je=Q[0],Se=Q[Q.length-1],Oe=je;Oe<Se+1;Oe++){this.pdf.setPage(Oe);var De=Oe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ye=Ve-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Je=Ke-this.margin[3],tt=Oe===1?0:Me+(Oe-2)*Ye;if(this.ctx.clip_path.length!==0){var vt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ve,this.posX+this.margin[3],-1*tt+De),O.call(this,"fill",!0),this.path=vt}var Qe=b([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*C.scale),Ce=this.lineWidth,this.lineWidth=Ce*C.scale);var ut=this.autoPaging!=="text";if(ut||Qe.y+Qe.h<=Ve){if(ut||Qe.y>=De&&Qe.x<=Ke){var Re=ut?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ke-Qe.x)[0],ke=b([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset)[0],Fe=ut&&(Oe>je||Oe<Se)&&w.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Ye,null).clip().discardPath()),this.pdf.text(Re,ke.x,ke.y,{angle:C.angle,align:D,renderingMode:C.renderingMode}),Fe&&this.pdf.restoreGraphicsState()}}else Qe.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Qe.y);C.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)}else C.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*C.scale),Ce=this.lineWidth,this.lineWidth=Ce*C.scale),this.pdf.text(C.text,ie.x+this.posX,ie.y+this.posY,{angle:C.angle,align:D,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)},Y=function(C,D,K,B){K=K||0,B=B||0,this.pdf.internal.out(n(C+K)+" "+r(D+B)+" l")},z=function(C,D,K){return this.pdf.lines(C,D,K,null,null)},ne=function(C,D,K,B,U,ie,se,le){this.pdf.internal.out([e(i(K+C)),e(s(B+D)),e(i(U+C)),e(s(ie+D)),e(i(se+C)),e(s(le+D)),"c"].join(" "))},G=function(C,D,K,B){for(var U=2*Math.PI,ie=Math.PI/2;D>K;)D-=U;var se=Math.abs(K-D);se<U&&B&&(se=U-se);for(var le=[],ve=B?-1:1,ye=D;se>1e-5;){var Ce=ye+ve*Math.min(se,ie);le.push(W.call(this,C,ye,Ce)),se-=Math.abs(Ce-ye),ye=Ce}return le},W=function(C,D,K){var B=(K-D)/2,U=C*Math.cos(B),ie=C*Math.sin(B),se=U,le=-ie,ve=se*se+le*le,ye=ve+se*U+le*ie,Ce=4/3*(Math.sqrt(2*ve*ye)-ye)/(se*ie-le*U),ue=se-Ce*le,xe=le+Ce*se,ae=ue,Q=-xe,Ge=B+D,je=Math.cos(Ge),Se=Math.sin(Ge);return{x1:C*Math.cos(D),y1:C*Math.sin(D),x2:ue*je-xe*Se,y2:ue*Se+xe*je,x3:ae*je-Q*Se,y3:ae*Se+Q*je,x4:C*Math.cos(K),y4:C*Math.sin(K)}},H=function(C){return 180*C/Math.PI},V=function(C,D,K,B,U,ie){var se=C+.5*(K-C),le=D+.5*(B-D),ve=U+.5*(K-U),ye=ie+.5*(B-ie),Ce=Math.min(C,U,se,ve),ue=Math.max(C,U,se,ve),xe=Math.min(D,ie,le,ye),ae=Math.max(D,ie,le,ye);return new o(Ce,xe,ue-Ce,ae-xe)},re=function(C,D,K,B,U,ie,se,le){var ve,ye,Ce,ue,xe,ae,Q,Ge,je,Se,Oe,De,Me,Ve,Ye=K-C,Ke=B-D,Je=U-K,tt=ie-B,vt=se-U,Qe=le-ie;for(ye=0;ye<41;ye++)je=(Q=(Ce=C+(ve=ye/40)*Ye)+ve*((xe=K+ve*Je)-Ce))+ve*(xe+ve*(U+ve*vt-xe)-Q),Se=(Ge=(ue=D+ve*Ke)+ve*((ae=B+ve*tt)-ue))+ve*(ae+ve*(ie+ve*Qe-ae)-Ge),ye==0?(Oe=je,De=Se,Me=je,Ve=Se):(Oe=Math.min(Oe,je),De=Math.min(De,Se),Me=Math.max(Me,je),Ve=Math.max(Ve,Se));return new o(Math.round(Oe),Math.round(De),Math.round(Me-Oe),Math.round(Ve-De))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,D,K=(C=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:D}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(et.API),function(t){var e=function(s){var a,o,l,c,u,h,p,f,v,w;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(w=u%85))/85)-(v=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,o.push(h+33,p+33,f+33,v+33,w+33)):o.push(122);return function(k,y){for(var b=y;b>0;b--)k.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,u,h=String,p="length",f=255,v="charCodeAt",w="slice",k="replace";for(s[w](-2),s=s[w](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[w](s[p]%5||5))[p];u>c;c+=5)o=52200625*(s[v](c)-33)+614125*(s[v](c+1)-33)+7225*(s[v](c+2)-33)+85*(s[v](c+3)-33)+(s[v](c+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(y,b){for(var S=b;S>0;S--)y.pop()}(l,a[p]),h.fromCharCode.apply(h,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=L1(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(et.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(v){var w=v.length,k=[],y=String.fromCharCode;for(p=0;p<w;p+=1)k.push(y(255&v.charCodeAt(p)));return k.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(et.API),function(t){function e(){return(it.html2canvas?Promise.resolve(it.html2canvas):us(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):us(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Mt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],v=f.src.find(function(w){return w.format==="truetype"});v&&l.addFont(v.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,et.getPageSize=function(a,o,l){if(Mt(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,v=0,w=0;if(p.hasOwnProperty(h))v=p[h][1]/u,w=p[h][0]/u;else try{v=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>v&&(f=w,w=v,v=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",v>w&&(f=w,w=v,v=f)}return{width:w,height:v,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(D1):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(et.API),et.API.addJS=function(t){return ex=t,this.internal.events.subscribe("postPutResources",function(){Qd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ex+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qd!==void 0&&Z5!==void 0&&this.internal.out("/Names <</JavaScript "+Qd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=n.internal.newObject();u.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(et.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,w={width:0,height:0,numcomponents:1},k=4;k<v;k+=2){if(k+=f,e.indexOf(h.charCodeAt(k+1))!==-1){p=256*h.charCodeAt(k+5)+h.charCodeAt(k+6),w={width:256*h.charCodeAt(k+7)+h.charCodeAt(k+8),height:p,numcomponents:h.charCodeAt(k+9)};break}f=256*h.charCodeAt(k+2)+h.charCodeAt(k+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(et.API);var Al,Zd,tx,nx,rx,$L=function(){var t,e,n;function r(s){var a,o,l,c,u,h,p,f,v,w,k,y,b,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),v=(function(){var P,O;for(O=[],P=0;P<4;++P)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(k=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,k.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,k.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,p,f,v){var w,k,y,b,S,P,O,I,T,N,E,M,j,A,Y,z,ne,G,W,H,V,re=Math.ceil((c.width-h)/f),Z=Math.ceil((c.height-p)/v),C=c.width==re&&c.height==Z;for(A=a*re,M=C?o:new Uint8Array(A*Z),P=s.length,j=0,k=0;j<Z&&l<P;){switch(s[l++]){case 0:for(b=ne=0;ne<A;b=ne+=1)M[k++]=s[l++];break;case 1:for(b=G=0;G<A;b=G+=1)w=s[l++],S=b<a?0:M[k-a],M[k++]=(w+S)%256;break;case 2:for(b=W=0;W<A;b=W+=1)w=s[l++],y=(b-b%a)/a,Y=j&&M[(j-1)*A+y*a+b%a],M[k++]=(Y+w)%256;break;case 3:for(b=H=0;H<A;b=H+=1)w=s[l++],y=(b-b%a)/a,S=b<a?0:M[k-a],Y=j&&M[(j-1)*A+y*a+b%a],M[k++]=(w+Math.floor((S+Y)/2))%256;break;case 4:for(b=V=0;V<A;b=V+=1)w=s[l++],y=(b-b%a)/a,S=b<a?0:M[k-a],j===0?Y=z=0:(Y=M[(j-1)*A+y*a+b%a],z=y&&M[(j-1)*A+(y-1)*a+b%a]),O=S+Y-z,I=Math.abs(O-S),N=Math.abs(O-Y),E=Math.abs(O-z),T=I<=N&&I<=E?S:N<=E?Y:z,M[k++]=(w+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var D=((p+j*v)*c.width+h)*a,K=j*A;for(b=0;b<re;b+=1){for(var B=0;B<a;B+=1)o[D++]=M[K++];D+=(f-1)*a}}j++}}return s=vL(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,u,h,p,f;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=h=0,p=o.length;h<p;a=h+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,u,h,p,f,v,w,k,y;if(l=this.colors,w=null,o=this.hasAlphaChannel,this.palette.length&&(w=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),v=(c=s.data||s).length,h=w||a,u=p=0,l===1)for(;u<v;)f=w?4*a[u/4]:p,k=h[f++],c[u++]=k,c[u++]=k,c[u++]=k,c[u++]=o?h[f++]:255,p=f;else for(;u<v;)f=w?4*a[u/4]:p,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=o?h[f++]:255,p=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(it)==="[object Window]"){try{e=it.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,u,h,p,f;if(this.animation){for(f=[],o=u=0,h=(p=this.animation.frames).length;u<h;o=++u)a=p[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,f.push(a.image=t(l));return f}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,u,h,p=this;return o=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(a=function(){var f,v;if(f=o++%c,v=l[f],p.renderFrame(s,f),c>1&&o/c<u)return p.animation._timeout=setTimeout(a,v.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function UL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],h=0,p=null,f=0,v=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&w)&&(p=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,P=t[e++],O=P>>6&1,I=1<<(7&P)+1,T=o,N=l,E=!1;P>>7&&(E=!0,T=e,N=I,e+=3*I);var M=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}u.push({x:k,y,width:b,height:S,has_local_palette:E,palette_offset:T,palette_size:N,data_offset:M,data_length:e-M,transparent_index:p,interlaced:!!O,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(A){if(A<0||A>=u.length)throw new Error("Frame index out of range.");return u[A]},this.decodeAndBlitFrameBGRA=function(A,Y){var z=this.frameInfo(A),ne=z.width*z.height,G=new Uint8Array(ne);ix(t,z.data_offset,G,ne);var W=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var V=z.width,re=n-V,Z=V,C=4*(z.y*n+z.x),D=4*((z.y+z.height)*n+z.x),K=C,B=4*re;z.interlaced===!0&&(B+=4*n*7);for(var U=8,ie=0,se=G.length;ie<se;++ie){var le=G[ie];if(Z===0&&(Z=V,(K+=B)>=D&&(B=4*re+4*n*(U-1),K=C+(V+re)*(U<<1),U>>=1)),le===H)K+=4;else{var ve=t[W+3*le],ye=t[W+3*le+1],Ce=t[W+3*le+2];Y[K++]=Ce,Y[K++]=ye,Y[K++]=ve,Y[K++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(A,Y){var z=this.frameInfo(A),ne=z.width*z.height,G=new Uint8Array(ne);ix(t,z.data_offset,G,ne);var W=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var V=z.width,re=n-V,Z=V,C=4*(z.y*n+z.x),D=4*((z.y+z.height)*n+z.x),K=C,B=4*re;z.interlaced===!0&&(B+=4*n*7);for(var U=8,ie=0,se=G.length;ie<se;++ie){var le=G[ie];if(Z===0&&(Z=V,(K+=B)>=D&&(B=4*re+4*n*(U-1),K=C+(V+re)*(U<<1),U>>=1)),le===H)K+=4;else{var ve=t[W+3*le],ye=t[W+3*le+1],Ce=t[W+3*le+2];Y[K++]=ve,Y[K++]=ye,Y[K++]=Ce,Y[K++]=255}--Z}}}function ix(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=t[e++],v=new Int32Array(4096),w=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var k=h&c;if(h>>=l,u-=l,k!==s){if(k===a)break;for(var y=k<o?k:w,b=0,S=y;S>s;)S=v[S]>>8,++b;var P=S;if(p+b+(y!==k?1:0)>r)return void zt.log("Warning, gif stream longer than expected.");n[p++]=P;var O=p+=b;for(y!==k&&(n[p++]=P),S=y;b--;)S=v[S],n[--O]=255&S,S>>=8;w!==null&&o<4096&&(v[o++]=w<<8|P,o>=c+1&&l<12&&(++l,c=c<<1|1)),w=k}else o=a+1,c=(1<<(l=i+1))-1,w=null}return p!==r&&zt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gm(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),w=[],k=0,y=7,b=new Array(64),S=new Array(64),P=new Array(64),O=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(C,D){for(var K=0,B=0,U=new Array,ie=1;ie<=16;ie++){for(var se=1;se<=C[ie];se++)U[D[B]]=[],U[D[B]][0]=K,U[D[B]][1]=ie,B++,K++;K*=2}return U}function W(C){for(var D=C[0],K=C[1]-1;K>=0;)D&1<<K&&(k|=1<<y),K--,--y<0&&(k==255?(H(255),H(0)):H(k),y=7,k=0)}function H(C){w.push(C)}function V(C){H(C>>8&255),H(255&C)}function re(C,D,K,B,U){for(var ie,se=U[0],le=U[240],ve=function(Se,Oe){var De,Me,Ve,Ye,Ke,Je,tt,vt,Qe,ut,Re=0;for(Qe=0;Qe<8;++Qe){De=Se[Re],Me=Se[Re+1],Ve=Se[Re+2],Ye=Se[Re+3],Ke=Se[Re+4],Je=Se[Re+5],tt=Se[Re+6];var ke=De+(vt=Se[Re+7]),Fe=De-vt,ht=Me+tt,rt=Me-tt,kt=Ve+Je,Jn=Ve-Je,dt=Ye+Ke,Dr=Ye-Ke,It=ke+dt,Pn=ke-dt,Mn=ht+kt,jt=ht-kt;Se[Re]=It+Mn,Se[Re+4]=It-Mn;var st=.707106781*(jt+Pn);Se[Re+2]=Pn+st,Se[Re+6]=Pn-st;var at=.382683433*((It=Dr+Jn)-(jt=rt+Fe)),Rn=.5411961*It+at,hn=1.306562965*jt+at,$i=.707106781*(Mn=Jn+rt),Ui=Fe+$i,nt=Fe-$i;Se[Re+5]=nt+Rn,Se[Re+3]=nt-Rn,Se[Re+1]=Ui+hn,Se[Re+7]=Ui-hn,Re+=8}for(Re=0,Qe=0;Qe<8;++Qe){De=Se[Re],Me=Se[Re+8],Ve=Se[Re+16],Ye=Se[Re+24],Ke=Se[Re+32],Je=Se[Re+40],tt=Se[Re+48];var pi=De+(vt=Se[Re+56]),Wi=De-vt,xr=Me+tt,An=Me-tt,wn=Ve+Je,Fr=Ve-Je,Yo=Ye+Ke,ds=Ye-Ke,gi=pi+Yo,mi=pi-Yo,yi=xr+wn,Hi=xr-wn;Se[Re]=gi+yi,Se[Re+32]=gi-yi;var Zr=.707106781*(Hi+mi);Se[Re+16]=mi+Zr,Se[Re+48]=mi-Zr;var qi=.382683433*((gi=ds+Fr)-(Hi=An+Wi)),Ya=.5411961*gi+qi,Go=1.306562965*Hi+qi,Jo=.707106781*(yi=Fr+An),Ko=Wi+Jo,Xo=Wi-Jo;Se[Re+40]=Xo+Ya,Se[Re+24]=Xo-Ya,Se[Re+8]=Ko+Go,Se[Re+56]=Ko-Go,Re++}for(Qe=0;Qe<64;++Qe)ut=Se[Qe]*Oe[Qe],f[Qe]=ut>0?ut+.5|0:ut-.5|0;return f}(C,D),ye=0;ye<64;++ye)v[T[ye]]=ve[ye];var Ce=v[0]-K;K=v[0],Ce==0?W(B[0]):(W(B[p[ie=32767+Ce]]),W(h[ie]));for(var ue=63;ue>0&&v[ue]==0;)ue--;if(ue==0)return W(se),K;for(var xe,ae=1;ae<=ue;){for(var Q=ae;v[ae]==0&&ae<=ue;)++ae;var Ge=ae-Q;if(Ge>=16){xe=Ge>>4;for(var je=1;je<=xe;++je)W(le);Ge&=15}ie=32767+v[ae],W(U[(Ge<<4)+p[ie]]),W(h[ie]),ae++}return ue!=63&&W(se),K}function Z(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(D){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var U=a((K[B]*D+50)/100);U=Math.min(Math.max(U,1),255),o[T[B]]=U}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var le=a((ie[se]*D+50)/100);le=Math.min(Math.max(le,1),255),l[T[se]]=le}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Ce=0;Ce<8;Ce++)for(var ue=0;ue<8;ue++)c[ye]=1/(o[T[ye]]*ve[Ce]*ve[ue]*8),u[ye]=1/(l[T[ye]]*ve[Ce]*ve[ue]*8),ye++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,D){D&&Z(D),w=new Array,k=0,y=7,V(65496),V(65504),V(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),V(1),V(1),H(0),H(0),function(){V(65499),V(132),H(0);for(var Me=0;Me<64;Me++)H(o[Me]);H(1);for(var Ve=0;Ve<64;Ve++)H(l[Ve])}(),function(Me,Ve){V(65472),V(17),H(8),V(Ve),V(Me),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(C.width,C.height),function(){V(65476),V(418),H(0);for(var Me=0;Me<16;Me++)H(N[Me+1]);for(var Ve=0;Ve<=11;Ve++)H(E[Ve]);H(16);for(var Ye=0;Ye<16;Ye++)H(M[Ye+1]);for(var Ke=0;Ke<=161;Ke++)H(j[Ke]);H(1);for(var Je=0;Je<16;Je++)H(A[Je+1]);for(var tt=0;tt<=11;tt++)H(Y[tt]);H(17);for(var vt=0;vt<16;vt++)H(z[vt+1]);for(var Qe=0;Qe<=161;Qe++)H(ne[Qe])}(),V(65498),V(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var K=0,B=0,U=0;k=0,y=7,this.encode.displayName="_encode_";for(var ie,se,le,ve,ye,Ce,ue,xe,ae,Q=C.data,Ge=C.width,je=C.height,Se=4*Ge,Oe=0;Oe<je;){for(ie=0;ie<Se;){for(ye=Se*Oe+ie,ue=-1,xe=0,ae=0;ae<64;ae++)Ce=ye+(xe=ae>>3)*Se+(ue=4*(7&ae)),Oe+xe>=je&&(Ce-=Se*(Oe+1+xe-je)),ie+ue>=Se&&(Ce-=ie+ue-Se+4),se=Q[Ce++],le=Q[Ce++],ve=Q[Ce++],b[ae]=(I[se]+I[le+256>>0]+I[ve+512>>0]>>16)-128,S[ae]=(I[se+768>>0]+I[le+1024>>0]+I[ve+1280>>0]>>16)-128,P[ae]=(I[se+1280>>0]+I[le+1536>>0]+I[ve+1792>>0]>>16)-128;K=re(b,c,K,e,r),B=re(S,u,B,n,i),U=re(P,u,U,n,i),ie+=32}Oe+=8}if(y>=0){var De=[];De[1]=y+1,De[0]=(1<<y+1)-1,W(De)}return V(65497),new Uint8Array(w)},t=t||50,function(){for(var C=String.fromCharCode,D=0;D<256;D++)O[D]=C(D)}(),e=G(N,E),n=G(A,Y),r=G(M,j),i=G(z,ne),function(){for(var C=1,D=2,K=1;K<=15;K++){for(var B=C;B<D;B++)p[32767+B]=K,h[32767+B]=[],h[32767+B][1]=K,h[32767+B][0]=B;for(var U=-(D-1);U<=-C;U++)p[32767+U]=K,h[32767+U]=[],h[32767+U][1]=K,h[32767+U][0]=D-1+U;C<<=1,D<<=1}}(),function(){for(var C=0;C<256;C++)I[C]=19595*C,I[C+256>>0]=38470*C,I[C+512>>0]=7471*C+32768,I[C+768>>0]=-11059*C,I[C+1024>>0]=-21709*C,I[C+1280>>0]=32768*C+8421375,I[C+1536>>0]=-27439*C,I[C+1792>>0]=-5329*C}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sx(t){function e(N){if(!N)throw Error("assert :P")}function n(N,E,M){for(var j=0;4>j;j++)if(N[E+j]!=M.charCodeAt(j))return!0;return!1}function r(N,E,M,j,A){for(var Y=0;Y<A;Y++)N[E+Y]=M[j+Y]}function i(N,E,M,j){for(var A=0;A<j;A++)N[E+A]=M}function s(N){return new Int32Array(N)}function a(N,E){for(var M=[],j=0;j<N;j++)M.push(new E);return M}function o(N,E){var M=[];return function j(A,Y,z){for(var ne=z[Y],G=0;G<ne&&(A.push(z.length>Y+1?[]:new E),!(z.length<Y+1));G++)j(A[G],Y+1,z)}(M,0,N),M}var l=function(){var N=this;function E(d,g){for(var _=1<<g-1>>>0;d&_;)_>>>=1;return _?(d&_-1)+_:d}function M(d,g,_,L,R){e(!(L%_));do d[g+(L-=_)]=R;while(0<L)}function j(d,g,_,L,R){if(e(2328>=R),512>=R)var $=s(512);else if(($=s(R))==null)return 0;return function(q,J,X,ee,ce,ge){var me,fe,Ae=J,be=1<<X,he=s(16),de=s(16);for(e(ce!=0),e(ee!=null),e(q!=null),e(0<X),fe=0;fe<ce;++fe){if(15<ee[fe])return 0;++he[ee[fe]]}if(he[0]==ce)return 0;for(de[1]=0,me=1;15>me;++me){if(he[me]>1<<me)return 0;de[me+1]=de[me]+he[me]}for(fe=0;fe<ce;++fe)me=ee[fe],0<ee[fe]&&(ge[de[me]++]=fe);if(de[15]==1)return(ee=new A).g=0,ee.value=ge[0],M(q,Ae,1,be,ee),be;var Ne,Le=-1,Pe=be-1,We=0,ze=1,Ze=1,$e=1<<X;for(fe=0,me=1,ce=2;me<=X;++me,ce<<=1){if(ze+=Ze<<=1,0>(Ze-=he[me]))return 0;for(;0<he[me];--he[me])(ee=new A).g=me,ee.value=ge[fe++],M(q,Ae+We,ce,$e,ee),We=E(We,me)}for(me=X+1,ce=2;15>=me;++me,ce<<=1){if(ze+=Ze<<=1,0>(Ze-=he[me]))return 0;for(;0<he[me];--he[me]){if(ee=new A,(We&Pe)!=Le){for(Ae+=$e,Ne=1<<(Le=me)-X;15>Le&&!(0>=(Ne-=he[Le]));)++Le,Ne<<=1;be+=$e=1<<(Ne=Le-X),q[J+(Le=We&Pe)].g=Ne+X,q[J+Le].value=Ae-J-Le}ee.g=me-X,ee.value=ge[fe++],M(q,Ae+(We>>X),ce,$e,ee),We=E(We,me)}}return ze!=2*de[15]-1?0:be}(d,g,_,L,R,$)}function A(){this.value=this.g=0}function Y(){this.value=this.g=0}function z(){this.G=a(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Hn,Y)}function ne(d,g,_,L){e(d!=null),e(g!=null),e(2147483648>L),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=_,d.Jd=g,d.Yc=_+L,d.Zc=4<=L?_+L-4+1:_,ie(d)}function G(d,g){for(var _=0;0<g--;)_|=le(d,128)<<g;return _}function W(d,g){var _=G(d,g);return se(d)?-_:_}function H(d,g,_,L){var R,$=0;for(e(d!=null),e(g!=null),e(4294967288>L),d.Sb=L,d.Ra=0,d.u=0,d.h=0,4<L&&(L=4),R=0;R<L;++R)$+=g[_+R]<<8*R;d.Ra=$,d.bb=L,d.oa=g,d.pa=_}function V(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<dl-8>>>0,++d.bb,d.u-=8;K(d)&&(d.h=1,d.u=0)}function re(d,g){if(e(0<=g),!d.h&&g<=hl){var _=D(d)&ul[g];return d.u+=g,V(d),_}return d.h=1,d.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(d){return d.Ra>>>(d.u&dl-1)>>>0}function K(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>dl}function B(d,g){d.u=g,d.h=K(d)}function U(d){d.u>=Bc&&(e(d.u>=Bc),V(d))}function ie(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function se(d){return G(d,1)}function le(d,g){var _=d.Ca;0>d.b&&ie(d);var L=d.b,R=_*g>>>8,$=(d.I>>>L>R)+0;for($?(_-=R,d.I-=R+1<<L>>>0):_=R+1,L=_,R=0;256<=L;)R+=8,L>>=8;return L=7^R+wr[L],d.b-=L,d.Ca=(_<<L)-1,$}function ve(d,g,_){d[g+0]=_>>24&255,d[g+1]=_>>16&255,d[g+2]=_>>8&255,d[g+3]=_>>0&255}function ye(d,g){return d[g+0]<<0|d[g+1]<<8}function Ce(d,g){return ye(d,g)|d[g+2]<<16}function ue(d,g){return ye(d,g)|ye(d,g+2)<<16}function xe(d,g){var _=1<<g;return e(d!=null),e(0<g),d.X=s(_),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function ae(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function Ge(d,g,_,L){e(_!=null),e(L!=null);var R=_[0],$=L[0];return R==0&&(R=(d*$+g/2)/g),$==0&&($=(g*R+d/2)/d),0>=R||0>=$?0:(_[0]=R,L[0]=$,1)}function je(d,g){return d+(1<<g)-1>>>g}function Se(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Oe(d,g){N[g]=function(_,L,R,$,q,J,X){var ee;for(ee=0;ee<q;++ee){var ce=N[d](J[X+ee-1],R,$+ee);J[X+ee]=Se(_[L+ee],ce)}}}function De(){this.ud=this.hd=this.jd=0}function Me(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Ve(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Ye(d,g){return Ve(d+(d-g+.5>>1))}function Ke(d,g,_){return Math.abs(g-_)-Math.abs(d-_)}function Je(d,g,_,L,R,$,q){for(L=$[q-1],_=0;_<R;++_)$[q+_]=L=Se(d[g+_],L)}function tt(d,g,_,L,R){var $;for($=0;$<_;++$){var q=d[g+$],J=q>>8&255,X=16711935&(X=(X=16711935&q)+((J<<16)+J));L[R+$]=(4278255360&q)+X>>>0}}function vt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function Qe(d,g,_,L,R,$){var q;for(q=0;q<L;++q){var J=g[_+q],X=J>>>8,ee=J,ce=255&(ce=(ce=J>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));ee=255&(ee=(ee=ee+((d.hd<<24>>24)*(X<<24>>24)>>>5))+((d.ud<<24>>24)*(ce<<24>>24)>>>5)),R[$+q]=(4278255360&J)+(ce<<16)+ee}}function ut(d,g,_,L,R){N[g]=function($,q,J,X,ee,ce,ge,me,fe){for(X=ge;X<me;++X)for(ge=0;ge<fe;++ge)ee[ce++]=R(J[L($[q++])])},N[d]=function($,q,J,X,ee,ce,ge){var me=8>>$.b,fe=$.Ea,Ae=$.K[0],be=$.w;if(8>me)for($=(1<<$.b)-1,be=(1<<me)-1;q<J;++q){var he,de=0;for(he=0;he<fe;++he)he&$||(de=L(X[ee++])),ce[ge++]=R(Ae[de&be]),de>>=me}else N["VP8LMapColor"+_](X,ee,Ae,be,ce,ge,q,J,fe)}}function Re(d,g,_,L,R){for(_=g+_;g<_;){var $=d[g++];L[R++]=$>>16&255,L[R++]=$>>8&255,L[R++]=$>>0&255}}function ke(d,g,_,L,R){for(_=g+_;g<_;){var $=d[g++];L[R++]=$>>16&255,L[R++]=$>>8&255,L[R++]=$>>0&255,L[R++]=$>>24&255}}function Fe(d,g,_,L,R){for(_=g+_;g<_;){var $=(q=d[g++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;L[R++]=$,L[R++]=q}}function ht(d,g,_,L,R){for(_=g+_;g<_;){var $=(q=d[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;L[R++]=$,L[R++]=q}}function rt(d,g,_,L,R){for(_=g+_;g<_;){var $=d[g++];L[R++]=$>>0&255,L[R++]=$>>8&255,L[R++]=$>>16&255}}function kt(d,g,_,L,R,$){if($==0)for(_=g+_;g<_;)ve(L,(($=d[g++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),R+=32;else r(L,R,d,g,_)}function Jn(d,g){N[g][0]=N[d+"0"],N[g][1]=N[d+"1"],N[g][2]=N[d+"2"],N[g][3]=N[d+"3"],N[g][4]=N[d+"4"],N[g][5]=N[d+"5"],N[g][6]=N[d+"6"],N[g][7]=N[d+"7"],N[g][8]=N[d+"8"],N[g][9]=N[d+"9"],N[g][10]=N[d+"10"],N[g][11]=N[d+"11"],N[g][12]=N[d+"12"],N[g][13]=N[d+"13"],N[g][14]=N[d+"0"],N[g][15]=N[d+"0"]}function dt(d){return d==Hg||d==qg||d==pd||d==Vg}function Dr(){this.eb=[],this.size=this.A=this.fb=0}function It(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dr,this.f.kb=new It,this.sd=null}function Mn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function at(d,g){var _=d.T,L=g.ba.f.RGBA,R=L.eb,$=L.fb+d.ka*L.A,q=si[g.ba.S],J=d.y,X=d.O,ee=d.f,ce=d.N,ge=d.ea,me=d.W,fe=g.cc,Ae=g.dc,be=g.Mc,he=g.Nc,de=d.ka,Ne=d.ka+d.T,Le=d.U,Pe=Le+1>>1;for(de==0?q(J,X,null,null,ee,ce,ge,me,ee,ce,ge,me,R,$,null,null,Le):(q(g.ec,g.fc,J,X,fe,Ae,be,he,ee,ce,ge,me,R,$-L.A,R,$,Le),++_);de+2<Ne;de+=2)fe=ee,Ae=ce,be=ge,he=me,ce+=d.Rc,me+=d.Rc,$+=2*L.A,q(J,(X+=2*d.fa)-d.fa,J,X,fe,Ae,be,he,ee,ce,ge,me,R,$-L.A,R,$,Le);return X+=d.fa,d.j+Ne<d.o?(r(g.ec,g.fc,J,X,Le),r(g.cc,g.dc,ee,ce,Pe),r(g.Mc,g.Nc,ge,me,Pe),_--):1&Ne||q(J,X,null,null,ee,ce,ge,me,ee,ce,ge,me,R,$+L.A,null,null,Le),_}function Rn(d,g,_){var L=d.F,R=[d.J];if(L!=null){var $=d.U,q=g.ba.S,J=q==fd||q==pd;g=g.ba.f.RGBA;var X=[0],ee=d.ka;X[0]=d.T,d.Kb&&(ee==0?--X[0]:(--ee,R[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-ee));var ce=g.eb;ee=g.fb+ee*g.A,d=Ut(L,R[0],d.width,$,X,ce,ee+(J?0:3),g.A),e(_==X),d&&dt(q)&&ri(ce,ee,J,$,X,g.A)}return 0}function hn(d){var g=d.ma,_=g.ba.S,L=11>_,R=_==hd||_==dd||_==fd||_==Wg||_==12||dt(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Fc(g.Oa,d,R?11:12))return 0;if(R&&dt(_)&&Ee(),d.da)alert("todo:use_scaling");else{if(L){if(g.Ib=st,d.Kb){if(_=d.U+1>>1,g.memory=s(d.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=at,Ee()}}else alert("todo:EmitYUV");R&&(g.Jb=Rn,L&&pe())}if(L&&!z2){for(d=0;256>d;++d)WS[d]=89858*(d-128)+md>>gd,VS[d]=-22014*(d-128)+md,qS[d]=-45773*(d-128),HS[d]=113618*(d-128)+md>>gd;for(d=Vc;d<Jg;++d)g=76283*(d-16)+md>>gd,YS[d-Vc]=Ir(g,255),GS[d-Vc]=Ir(g+8>>4,15);z2=1}return 1}function $i(d){var g=d.ma,_=d.U,L=d.T;return e(!(1&d.ka)),0>=_||0>=L?0:(_=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,_),g.Dc+=_,1)}function Ui(d){d.ma.memory=null}function nt(d,g,_,L){return re(d,8)!=47?0:(g[0]=re(d,14)+1,_[0]=re(d,14)+1,L[0]=re(d,1),re(d,3)!=0?0:!d.h)}function pi(d,g){if(4>d)return d+1;var _=d-2>>1;return(2+(1&d)<<_)+re(g,_)+1}function Wi(d,g){return 120<g?g-120:1<=(_=((_=jS[g-1])>>4)*d+(8-(15&_)))?_:1;var _}function xr(d,g,_){var L=D(_),R=d[g+=255&L].g-8;return 0<R&&(B(_,_.u+8),L=D(_),g+=d[g].value,g+=L&(1<<R)-1),B(_,_.u+d[g].g),d[g].value}function An(d,g,_){return _.g+=d.g,_.value+=d.value<<g>>>0,e(8>=_.g),d.g}function wn(d,g,_){var L=d.xc;return e((g=L==0?0:d.vc[d.md*(_>>L)+(g>>L)])<d.Wb),d.Ya[g]}function Fr(d,g,_,L){var R=d.ab,$=d.c*g,q=d.C;g=q+g;var J=_,X=L;for(L=d.Ta,_=d.Ua;0<R--;){var ee=d.gc[R],ce=q,ge=g,me=J,fe=X,Ae=(X=L,J=_,ee.Ea);switch(e(ce<ge),e(ge<=ee.nc),ee.hc){case 2:id(me,fe,(ge-ce)*Ae,X,J);break;case 0:var be=ce,he=ge,de=X,Ne=J,Le=($e=ee).Ea;be==0&&($g(me,fe,null,null,1,de,Ne),Je(me,fe+1,0,0,Le-1,de,Ne+1),fe+=Le,Ne+=Le,++be);for(var Pe=1<<$e.b,We=Pe-1,ze=je(Le,$e.b),Ze=$e.K,$e=$e.w+(be>>$e.b)*ze;be<he;){var Ct=Ze,Lt=$e,Pt=1;for(zc(me,fe,de,Ne-Le,1,de,Ne);Pt<Le;){var wt=(Pt&~We)+Pe;wt>Le&&(wt=Le),(0,qs[Ct[Lt++]>>8&15])(me,fe+ +Pt,de,Ne+Pt-Le,wt-Pt,de,Ne+Pt),Pt=wt}fe+=Le,Ne+=Le,++be&We||($e+=ze)}ge!=ee.nc&&r(X,J-Ae,X,J+(ge-ce-1)*Ae,Ae);break;case 1:for(Ae=me,he=fe,Le=(me=ee.Ea)-(Ne=me&~(de=(fe=1<<ee.b)-1)),be=je(me,ee.b),Pe=ee.K,ee=ee.w+(ce>>ee.b)*be;ce<ge;){for(We=Pe,ze=ee,Ze=new De,$e=he+Ne,Ct=he+me;he<$e;)vt(We[ze++],Ze),Qa(Ze,Ae,he,fe,X,J),he+=fe,J+=fe;he<Ct&&(vt(We[ze++],Ze),Qa(Ze,Ae,he,Le,X,J),he+=Le,J+=Le),++ce&de||(ee+=be)}break;case 3:if(me==X&&fe==J&&0<ee.b){for(he=X,me=Ae=J+(ge-ce)*Ae-(Ne=(ge-ce)*je(ee.Ea,ee.b)),fe=X,de=J,be=[],Ne=(Le=Ne)-1;0<=Ne;--Ne)be[Ne]=fe[de+Ne];for(Ne=Le-1;0<=Ne;--Ne)he[me+Ne]=be[Ne];ei(ee,ce,ge,X,Ae,X,J)}else ei(ee,ce,ge,me,fe,X,J)}J=L,X=_}X!=_&&r(L,_,J,X,$)}function Yo(d,g){var _=d.V,L=d.Ba+d.c*d.C,R=g-d.C;if(e(g<=d.l.o),e(16>=R),0<R){var $=d.l,q=d.Ta,J=d.Ua,X=$.width;if(Fr(d,R,_,L),R=J=[J],e((_=d.C)<(L=g)),e($.v<$.va),L>$.o&&(L=$.o),_<$.j){var ee=$.j-_;_=$.j,R[0]+=ee*X}if(_>=L?_=0:(R[0]+=4*$.v,$.ka=_-$.j,$.U=$.va-$.v,$.T=L-_,_=1),_){if(J=J[0],11>(_=d.ca).S){var ce=_.f.RGBA,ge=(L=_.S,R=$.U,$=$.T,ee=ce.eb,ce.A),me=$;for(ce=ce.fb+d.Ma*ce.A;0<me--;){var fe=q,Ae=J,be=R,he=ee,de=ce;switch(L){case ud:_r(fe,Ae,be,he,de);break;case hd:hr(fe,Ae,be,he,de);break;case Hg:hr(fe,Ae,be,he,de),ri(he,de,0,be,1,0);break;case E2:ms(fe,Ae,be,he,de);break;case dd:kt(fe,Ae,be,he,de,1);break;case qg:kt(fe,Ae,be,he,de,1),ri(he,de,0,be,1,0);break;case fd:kt(fe,Ae,be,he,de,0);break;case pd:kt(fe,Ae,be,he,de,0),ri(he,de,1,be,1,0);break;case Wg:Vs(fe,Ae,be,he,de);break;case Vg:Vs(fe,Ae,be,he,de),$t(he,de,be,1,0);break;case T2:gs(fe,Ae,be,he,de);break;default:e(0)}J+=X,ce+=ge}d.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=_.height)}}d.C=g,e(d.C<=d.i)}function ds(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var _=d.Ya[g].G,L=d.Ya[g].H;if(0<_[1][L[1]+0].g||0<_[2][L[2]+0].g||0<_[3][L[3]+0].g)return 0}return 1}function gi(d,g,_,L,R,$){if(d.Z!=0){var q=d.qd,J=d.rd;for(e(Ks[d.Z]!=null);g<_;++g)Ks[d.Z](q,J,L,R,L,R,$),q=L,J=R,R+=$;d.qd=q,d.rd=J}}function mi(d,g){var _=d.l.ma,L=_.Z==0||_.Z==1?d.l.j:d.C;if(L=d.C<L?L:d.C,e(g<=d.l.o),g>L){var R=d.l.width,$=_.ca,q=_.tb+R*L,J=d.V,X=d.Ba+d.c*L,ee=d.gc;e(d.ab==1),e(ee[0].hc==3),sd(ee[0],L,g,J,X,$,q),gi(_,L,g,$,q,R)}d.C=d.Ma=g}function yi(d,g,_,L,R,$,q){var J=d.$/L,X=d.$%L,ee=d.m,ce=d.s,ge=_+d.$,me=ge;R=_+L*R;var fe=_+L*$,Ae=280+ce.ua,be=d.Pb?J:16777216,he=0<ce.ua?ce.Wa:null,de=ce.wc,Ne=ge<fe?wn(ce,X,J):null;e(d.C<$),e(fe<=R);var Le=!1;e:for(;;){for(;Le||ge<fe;){var Pe=0;if(J>=be){var We=ge-_;e((be=d).Pb),be.wd=be.m,be.xd=We,0<be.s.ua&&ae(be.s.Wa,be.s.vb),be=J+ES}if(X&de||(Ne=wn(ce,X,J)),e(Ne!=null),Ne.Qb&&(g[ge]=Ne.qb,Le=!0),!Le)if(U(ee),Ne.jc){Pe=ee,We=g;var ze=ge,Ze=Ne.pd[D(Pe)&Hn-1];e(Ne.jc),256>Ze.g?(B(Pe,Pe.u+Ze.g),We[ze]=Ze.value,Pe=0):(B(Pe,Pe.u+Ze.g-256),e(256<=Ze.value),Pe=Ze.value),Pe==0&&(Le=!0)}else Pe=xr(Ne.G[0],Ne.H[0],ee);if(ee.h)break;if(Le||256>Pe){if(!Le)if(Ne.nd)g[ge]=(Ne.qb|Pe<<8)>>>0;else{if(U(ee),Le=xr(Ne.G[1],Ne.H[1],ee),U(ee),We=xr(Ne.G[2],Ne.H[2],ee),ze=xr(Ne.G[3],Ne.H[3],ee),ee.h)break;g[ge]=(ze<<24|Le<<16|Pe<<8|We)>>>0}if(Le=!1,++ge,++X>=L&&(X=0,++J,q!=null&&J<=$&&!(J%16)&&q(d,J),he!=null))for(;me<ge;)Pe=g[me++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe}else if(280>Pe){if(Pe=pi(Pe-256,ee),We=xr(Ne.G[4],Ne.H[4],ee),U(ee),We=Wi(L,We=pi(We,ee)),ee.h)break;if(ge-_<We||R-ge<Pe)break e;for(ze=0;ze<Pe;++ze)g[ge+ze]=g[ge+ze-We];for(ge+=Pe,X+=Pe;X>=L;)X-=L,++J,q!=null&&J<=$&&!(J%16)&&q(d,J);if(e(ge<=R),X&de&&(Ne=wn(ce,X,J)),he!=null)for(;me<ge;)Pe=g[me++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe}else{if(!(Pe<Ae))break e;for(Le=Pe-280,e(he!=null);me<ge;)Pe=g[me++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe;Pe=ge,e(!(Le>>>(We=he).Xa)),g[Pe]=We.X[Le],Le=!0}Le||e(ee.h==K(ee))}if(d.Pb&&ee.h&&ge<R)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ae(d.s.vb,d.s.Wa);else{if(ee.h)break e;q!=null&&q(d,J>$?$:J),d.a=0,d.$=ge-_}return 1}return d.a=3,0}function Hi(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function Zr(){var d=new zg;return d==null?null:(d.a=0,d.xb=R2,Jn("Predictor","VP8LPredictors"),Jn("Predictor","VP8LPredictors_C"),Jn("PredictorAdd","VP8LPredictorsAdd"),Jn("PredictorAdd","VP8LPredictorsAdd_C"),id=tt,Qa=Qe,_r=Re,hr=ke,Vs=Fe,gs=ht,ms=rt,N.VP8LMapColor32b=fl,N.VP8LMapColor8b=ad,d)}function qi(d,g,_,L,R){var $=1,q=[d],J=[g],X=L.m,ee=L.s,ce=null,ge=0;e:for(;;){if(_)for(;$&&re(X,1);){var me=q,fe=J,Ae=L,be=1,he=Ae.m,de=Ae.gc[Ae.ab],Ne=re(he,2);if(Ae.Oc&1<<Ne)$=0;else{switch(Ae.Oc|=1<<Ne,de.hc=Ne,de.Ea=me[0],de.nc=fe[0],de.K=[null],++Ae.ab,e(4>=Ae.ab),Ne){case 0:case 1:de.b=re(he,3)+2,be=qi(je(de.Ea,de.b),je(de.nc,de.b),0,Ae,de.K),de.K=de.K[0];break;case 3:var Le,Pe=re(he,8)+1,We=16<Pe?0:4<Pe?1:2<Pe?2:3;if(me[0]=je(de.Ea,We),de.b=We,Le=be=qi(Pe,1,0,Ae,de.K)){var ze,Ze=Pe,$e=de,Ct=1<<(8>>$e.b),Lt=s(Ct);if(Lt==null)Le=0;else{var Pt=$e.K[0],wt=$e.w;for(Lt[0]=$e.K[0][0],ze=1;ze<1*Ze;++ze)Lt[ze]=Se(Pt[wt+ze],Lt[ze-1]);for(;ze<4*Ct;++ze)Lt[ze]=0;$e.K[0]=null,$e.K[0]=Lt,Le=1}}be=Le;break;case 2:break;default:e(0)}$=be}}if(q=q[0],J=J[0],$&&re(X,1)&&!($=1<=(ge=re(X,4))&&11>=ge)){L.a=3;break e}var Bt;if(Bt=$)t:{var Ft,pt,Sn,Sr=L,kn=q,kr=J,Et=ge,zr=_,$r=Sr.m,Fn=Sr.s,qn=[null],fr=1,ai=0,Ji=LS[Et];n:for(;;){if(zr&&re($r,1)){var In=re($r,3)+2,bs=je(kn,In),ro=je(kr,In),vl=bs*ro;if(!qi(bs,ro,0,Sr,qn))break n;for(qn=qn[0],Fn.xc=In,Ft=0;Ft<vl;++Ft){var Xs=qn[Ft]>>8&65535;qn[Ft]=Xs,Xs>=fr&&(fr=Xs+1)}}if($r.h)break n;for(pt=0;5>pt;++pt){var on=O2[pt];!pt&&0<Et&&(on+=1<<Et),ai<on&&(ai=on)}var Kg=a(fr*Ji,A),W2=fr,H2=a(W2,z);if(H2==null)var vd=null;else e(65536>=W2),vd=H2;var Yc=s(ai);if(vd==null||Yc==null||Kg==null){Sr.a=1;break n}var xd=Kg;for(Ft=Sn=0;Ft<fr;++Ft){var _i=vd[Ft],xl=_i.G,bl=_i.H,q2=0,bd=1,V2=0;for(pt=0;5>pt;++pt){on=O2[pt],xl[pt]=xd,bl[pt]=Sn,!pt&&0<Et&&(on+=1<<Et);i:{var wd,Xg=on,_d=Sr,Gc=Yc,XS=xd,QS=Sn,Qg=0,Qs=_d.m,ZS=re(Qs,1);if(i(Gc,0,0,Xg),ZS){var ek=re(Qs,1)+1,tk=re(Qs,1),Y2=re(Qs,tk==0?1:8);Gc[Y2]=1,ek==2&&(Gc[Y2=re(Qs,8)]=1);var Sd=1}else{var G2=s(19),J2=re(Qs,4)+4;if(19<J2){_d.a=3;var kd=0;break i}for(wd=0;wd<J2;++wd)G2[CS[wd]]=re(Qs,3);var Zg=void 0,Jc=void 0,K2=_d,nk=G2,Nd=Xg,X2=Gc,em=0,Zs=K2.m,Q2=8,Z2=a(128,A);r:for(;j(Z2,0,7,nk,19);){if(re(Zs,1)){var rk=2+2*re(Zs,3);if((Zg=2+re(Zs,rk))>Nd)break r}else Zg=Nd;for(Jc=0;Jc<Nd&&Zg--;){U(Zs);var ev=Z2[0+(127&D(Zs))];B(Zs,Zs.u+ev.g);var wl=ev.value;if(16>wl)X2[Jc++]=wl,wl!=0&&(Q2=wl);else{var ik=wl==16,tv=wl-16,sk=PS[tv],nv=re(Zs,NS[tv])+sk;if(Jc+nv>Nd)break r;for(var ak=ik?Q2:0;0<nv--;)X2[Jc++]=ak}}em=1;break r}em||(K2.a=3),Sd=em}(Sd=Sd&&!Qs.h)&&(Qg=j(XS,QS,8,Gc,Xg)),Sd&&Qg!=0?kd=Qg:(_d.a=3,kd=0)}if(kd==0)break n;if(bd&&AS[pt]==1&&(bd=xd[Sn].g==0),q2+=xd[Sn].g,Sn+=kd,3>=pt){var Kc,tm=Yc[0];for(Kc=1;Kc<on;++Kc)Yc[Kc]>tm&&(tm=Yc[Kc]);V2+=tm}}if(_i.nd=bd,_i.Qb=0,bd&&(_i.qb=(xl[3][bl[3]+0].value<<24|xl[1][bl[1]+0].value<<16|xl[2][bl[2]+0].value)>>>0,q2==0&&256>xl[0][bl[0]+0].value&&(_i.Qb=1,_i.qb+=xl[0][bl[0]+0].value<<8)),_i.jc=!_i.Qb&&6>V2,_i.jc){var Pd,ws=_i;for(Pd=0;Pd<Hn;++Pd){var ea=Pd,ta=ws.pd[ea],Ad=ws.G[0][ws.H[0]+ea];256<=Ad.value?(ta.g=Ad.g+256,ta.value=Ad.value):(ta.g=0,ta.value=0,ea>>=An(Ad,8,ta),ea>>=An(ws.G[1][ws.H[1]+ea],16,ta),ea>>=An(ws.G[2][ws.H[2]+ea],0,ta),An(ws.G[3][ws.H[3]+ea],24,ta))}}}Fn.vc=qn,Fn.Wb=fr,Fn.Ya=vd,Fn.yc=Kg,Bt=1;break t}Bt=0}if(!($=Bt)){L.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!xe(ee.Wa,ge)){L.a=1,$=0;break e}}else ee.ua=0;var nm=L,rv=q,ok=J,rm=nm.s,im=rm.xc;if(nm.c=rv,nm.i=ok,rm.md=je(rv,im),rm.wc=im==0?-1:(1<<im)-1,_){L.xb=IS;break e}if((ce=s(q*J))==null){L.a=1,$=0;break e}$=($=yi(L,ce,0,q,J,J,null))&&!X.h;break e}return $?(R!=null?R[0]=ce:(e(ce==null),e(_)),L.$=0,_||Hi(ee)):Hi(ee),$}function Ya(d,g){var _=d.c*d.i,L=_+g+16*g;return e(d.c<=g),d.V=s(L),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+_+g,1)}function Go(d,g){var _=d.C,L=g-_,R=d.V,$=d.Ba+d.c*_;for(e(g<=d.l.o);0<L;){var q=16<L?16:L,J=d.l.ma,X=d.l.width,ee=X*q,ce=J.ca,ge=J.tb+X*_,me=d.Ta,fe=d.Ua;Fr(d,q,R,$),pn(me,fe,ce,ge,ee),gi(J,_,_+q,ce,ge,X),L-=q,R+=q*d.c,_+=q}e(_==g),d.C=d.Ma=g}function Jo(){this.ub=this.yd=this.td=this.Rb=0}function Ko(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ih(){this.Yb=function(){var d=[];return function g(_,L,R){for(var $=R[L],q=0;q<$&&(_.push(R.length>L+1?[]:0),!(R.length<L+1));q++)g(_[q],L+1,R)}(d,0,[3,11]),d}()}function yg(){this.jb=s(3),this.Wc=o([4,8],Ih),this.Xc=o([4,17],Ih)}function vg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Qo(){this.ld=this.La=this.dd=this.tc=0}function Bh(){this.Na=this.la=0}function xg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qo),this.Y=0,this.ya=Array(new wc),this.aa=0,this.l=new Zo}function zh(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wg(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new Jo,this.Kc=new Ko,this.ed=new vg,this.Qa=new Xo,this.Ic=this.$c=this.Aa=0,this.D=new bg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Z),this.ia=0,this.pb=a(4,xg),this.Pa=new yg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zh),this.Hd=0,this.rb=Array(new Bh),this.sb=0,this.wa=Array(new Qo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wc),this.L=this.aa=0,this.gd=o([4,2],Qo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _g(){var d=new wg;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,qc||(qc=Wh)),d}function dn(d,g,_){return d.a==0&&(d.a=g,d.sc=_,d.cb=0),0}function $h(d,g,_){return 3<=_&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function Uh(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return dn(d,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,L=g.w,R=g.ha;if(4>R)return dn(d,7,"Truncated header.");var $=_[L+0]|_[L+1]<<8|_[L+2]<<16,q=d.Od;if(q.Rb=!(1&$),q.td=$>>1&7,q.yd=$>>4&1,q.ub=$>>5,3<q.td)return dn(d,3,"Incorrect keyframe parameters.");if(!q.yd)return dn(d,4,"Frame not displayable.");L+=3,R-=3;var J=d.Kc;if(q.Rb){if(7>R)return dn(d,7,"cannot parse picture header");if(!$h(_,L,R))return dn(d,3,"Bad code word");J.c=16383&(_[L+4]<<8|_[L+3]),J.Td=_[L+4]>>6,J.i=16383&(_[L+6]<<8|_[L+5]),J.Ud=_[L+6]>>6,L+=7,R-=7,d.za=J.c+15>>4,d.Ub=J.i+15>>4,g.width=J.c,g.height=J.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i(($=d.Pa).jb,0,255,$.jb.length),e(($=d.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(q.ub>R)return dn(d,7,"bad partition length");ne($=d.m,_,L,q.ub),L+=q.ub,R-=q.ub,q.Rb&&(J.Ld=se($),J.Kd=se($)),J=d.Qa;var X,ee=d.Pa;if(e($!=null),e(J!=null),J.Cb=se($),J.Cb){if(J.Bb=se($),se($)){for(J.Fb=se($),X=0;4>X;++X)J.Zb[X]=se($)?W($,7):0;for(X=0;4>X;++X)J.Lb[X]=se($)?W($,6):0}if(J.Bb)for(X=0;3>X;++X)ee.jb[X]=se($)?G($,8):255}else J.Bb=0;if($.Ka)return dn(d,3,"cannot parse segment header");if((J=d.ed).zd=se($),J.Tb=G($,6),J.wb=G($,3),J.Pc=se($),J.Pc&&se($)){for(ee=0;4>ee;++ee)se($)&&(J.vd[ee]=W($,6));for(ee=0;4>ee;++ee)se($)&&(J.od[ee]=W($,6))}if(d.L=J.Tb==0?0:J.zd?1:2,$.Ka)return dn(d,3,"cannot parse filter header");var ce=R;if(R=X=L,L=X+ce,J=ce,d.Xb=(1<<G(d.m,2))-1,ce<3*(ee=d.Xb))_=7;else{for(X+=3*ee,J-=3*ee,ce=0;ce<ee;++ce){var ge=_[R+0]|_[R+1]<<8|_[R+2]<<16;ge>J&&(ge=J),ne(d.Jc[+ce],_,X,ge),X+=ge,J-=ge,R+=3}ne(d.Jc[+ee],_,X,J),_=X<L?0:5}if(_!=0)return dn(d,_,"cannot parse partitions");for(_=G(X=d.m,7),R=se(X)?W(X,4):0,L=se(X)?W(X,4):0,J=se(X)?W(X,4):0,ee=se(X)?W(X,4):0,X=se(X)?W(X,4):0,ce=d.Qa,ge=0;4>ge;++ge){if(ce.Cb){var me=ce.Zb[ge];ce.Fb||(me+=_)}else{if(0<ge){d.pb[ge]=d.pb[0];continue}me=_}var fe=d.pb[ge];fe.Sc[0]=Yg[Ir(me+R,127)],fe.Sc[1]=Gg[Ir(me+0,127)],fe.Eb[0]=2*Yg[Ir(me+L,127)],fe.Eb[1]=101581*Gg[Ir(me+J,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=Yg[Ir(me+ee,117)],fe.Qc[1]=Gg[Ir(me+X,127)],fe.lc=me+X}if(!q.Rb)return dn(d,4,"Not a key frame.");for(se($),q=d.Pa,_=0;4>_;++_){for(R=0;8>R;++R)for(L=0;3>L;++L)for(J=0;11>J;++J)ee=le($,DS[_][R][L][J])?G($,8):MS[_][R][L][J],q.Wc[_][R].Yb[L][J]=ee;for(R=0;17>R;++R)q.Xc[_][R]=q.Wc[_][FS[R]]}return d.kc=se($),d.kc&&(d.Bd=G($,8)),d.cb=1}function Wh(d,g,_,L,R,$,q){var J=g[R].Yb[_];for(_=0;16>R;++R){if(!le(d,J[_+0]))return R;for(;!le(d,J[_+1]);)if(J=g[++R].Yb[0],_=0,R==16)return 16;var X=g[R+1].Yb;if(le(d,J[_+2])){var ee=d,ce=0;if(le(ee,(me=J)[(ge=_)+3]))if(le(ee,me[ge+6])){for(J=0,ge=2*(ce=le(ee,me[ge+8]))+(me=le(ee,me[ge+9+ce])),ce=0,me=TS[ge];me[J];++J)ce+=ce+le(ee,me[J]);ce+=3+(8<<ge)}else le(ee,me[ge+7])?(ce=7+2*le(ee,165),ce+=le(ee,145)):ce=5+le(ee,159);else ce=le(ee,me[ge+4])?3+le(ee,me[ge+5]):2;J=X[2]}else ce=1,J=X[1];X=q+OS[R],0>(ee=d).b&&ie(ee);var ge,me=ee.b,fe=(ge=ee.Ca>>1)-(ee.I>>me)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(ge+1&fe)<<me,$[X]=((ce^fe)-fe)*L[(0<R)+0]}return 16}function _c(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Sg(d,g){if(d==null)return 0;if(g==null)return dn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Uh(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var _=yd[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-_>>4,d.zb=g.j-_>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+_>>4,d.Hb=g.va+15+_>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var L=d.ed;for(_=0;4>_;++_){var R;if(d.Qa.Cb){var $=d.Qa.Lb[_];d.Qa.Fb||($+=L.Tb)}else $=L.Tb;for(R=0;1>=R;++R){var q=d.gd[_][R],J=$;if(L.Pc&&(J+=L.vd[0],R&&(J+=L.od[0])),0<(J=0>J?0:63<J?63:J)){var X=J;0<L.wb&&(X=4<L.wb?X>>2:X>>1)>9-L.wb&&(X=9-L.wb),1>X&&(X=1),q.dd=X,q.tc=2*J+X,q.ld=40<=J?2:15<=J?1:0}else q.tc=0;q.La=R}}}_=0}else dn(d,6,"Frame setup failed"),_=d.a;if(_=_==0){if(_){d.$c=0,0<d.Aa||(d.Ic=KS);e:{_=d.Ic,L=4*(X=d.za);var ee=32*X,ce=X+1,ge=0<d.L?X*(0<d.Aa?2:1):0,me=(d.Aa==2?2:1)*X;if((q=L+832+(R=3*(16*_+yd[d.L])/2*ee)+($=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=q)_=0;else{if(q>d.Vb){if(d.Vb=0,d.Ec=s(q),d.Fc=0,d.Ec==null){_=dn(d,1,"no memory during frame initialization.");break e}d.Vb=q}q=d.Ec,J=d.Fc,d.Ac=q,d.Bc=J,J+=L,d.Gd=a(ee,zh),d.Hd=0,d.rb=a(ce+1,Bh),d.sb=1,d.wa=ge?a(ge,Qo):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=X),e(!0),d.oc=q,d.pc=J,J+=832,d.ya=a(me,wc),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=X),d.R=16*X,d.B=8*X,X=(ee=yd[d.L])*d.R,ee=ee/2*d.B,d.sa=q,d.ta=J+X,d.qa=d.sa,d.ra=d.ta+16*_*d.R+ee,d.Ha=d.qa,d.Ia=d.ra+8*_*d.B+ee,d.$c=0,J+=R,d.mb=$?q:null,d.nb=$?J:null,e(J+$<=d.Fc+d.Vb),_c(d),i(d.Ac,d.Bc,0,L),_=1}}if(_){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!ld){for(_=-255;255>=_;++_)Cn[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)vs[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Hc[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)yl[255+_]=0>_?0:255<_?255:_;ld=1}pl=Pg,ys=kg,$c=qh,dr=Ng,ti=Vh,fn=Hh,gl=Cc,od=Ka,Uc=Bg,Za=jc,eo=Ig,Ys=sl,to=Lc,ml=td,no=ed,Gs=Yi,Wc=ps,ni=Fg,wi[0]=Vi,wi[1]=Ag,wi[2]=Eg,wi[3]=Tg,wi[4]=Jh,wi[5]=rl,wi[6]=Kh,wi[7]=Nc,wi[8]=Mg,wi[9]=Og,Js[0]=Yh,Js[1]=jg,Js[2]=fs,Js[3]=tl,Js[4]=Kn,Js[5]=Lg,Js[6]=Gh,xs[0]=Us,xs[1]=Cg,xs[2]=Rg,xs[3]=Pc,xs[4]=Ja,xs[5]=Dg,xs[6]=Ac,_=1}else _=0}_&&(_=function(fe,Ae){for(fe.M=0;fe.M<fe.Va;++fe.M){var be,he=fe.Jc[fe.M&fe.Xb],de=fe.m,Ne=fe;for(be=0;be<Ne.za;++be){var Le=de,Pe=Ne,We=Pe.Ac,ze=Pe.Bc+4*be,Ze=Pe.zc,$e=Pe.ya[Pe.aa+be];if(Pe.Qa.Bb?$e.$b=le(Le,Pe.Pa.jb[0])?2+le(Le,Pe.Pa.jb[2]):le(Le,Pe.Pa.jb[1]):$e.$b=0,Pe.kc&&($e.Ad=le(Le,Pe.Bd)),$e.Za=!le(Le,145)+0,$e.Za){var Ct=$e.Ob,Lt=0;for(Pe=0;4>Pe;++Pe){var Pt,wt=Ze[0+Pe];for(Pt=0;4>Pt;++Pt){wt=RS[We[ze+Pt]][wt];for(var Bt=M2[le(Le,wt[0])];0<Bt;)Bt=M2[2*Bt+le(Le,wt[Bt])];wt=-Bt,We[ze+Pt]=wt}r(Ct,Lt,We,ze,4),Lt+=4,Ze[0+Pe]=wt}}else wt=le(Le,156)?le(Le,128)?1:3:le(Le,163)?2:0,$e.Ob[0]=wt,i(We,ze,wt,4),i(Ze,0,wt,4);$e.Dd=le(Le,142)?le(Le,114)?le(Le,183)?1:3:2:0}if(Ne.m.Ka)return dn(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(Ne=he,Le=(de=fe).rb[de.sb-1],We=de.rb[de.sb+de.ja],be=de.ya[de.aa+de.ja],ze=de.kc?be.Ad:0)Le.la=We.la=0,be.Za||(Le.Na=We.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Ft,pt;if(Le=We,We=Ne,ze=de.Pa.Xc,Ze=de.ya[de.aa+de.ja],$e=de.pb[Ze.$b],Pe=Ze.ad,Ct=0,Lt=de.rb[de.sb-1],wt=Pt=0,i(Pe,Ct,0,384),Ze.Za)var Sn=0,Sr=ze[3];else{Bt=s(16);var kn=Le.Na+Lt.Na;if(kn=qc(We,ze[1],kn,$e.Eb,0,Bt,0),Le.Na=Lt.Na=(0<kn)+0,1<kn)pl(Bt,0,Pe,Ct);else{var kr=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)Pe[Ct+Bt]=kr}Sn=1,Sr=ze[0]}var Et=15&Le.la,zr=15&Lt.la;for(Bt=0;4>Bt;++Bt){var $r=1&zr;for(kr=pt=0;4>kr;++kr)Et=Et>>1|($r=(kn=qc(We,Sr,kn=$r+(1&Et),$e.Sc,Sn,Pe,Ct))>Sn)<<7,pt=pt<<2|(3<kn?3:1<kn?2:Pe[Ct+0]!=0),Ct+=16;Et>>=4,zr=zr>>1|$r<<7,Pt=(Pt<<8|pt)>>>0}for(Sr=Et,Sn=zr>>4,Ft=0;4>Ft;Ft+=2){for(pt=0,Et=Le.la>>4+Ft,zr=Lt.la>>4+Ft,Bt=0;2>Bt;++Bt){for($r=1&zr,kr=0;2>kr;++kr)kn=$r+(1&Et),Et=Et>>1|($r=0<(kn=qc(We,ze[2],kn,$e.Qc,0,Pe,Ct)))<<3,pt=pt<<2|(3<kn?3:1<kn?2:Pe[Ct+0]!=0),Ct+=16;Et>>=2,zr=zr>>1|$r<<5}wt|=pt<<4*Ft,Sr|=Et<<4<<Ft,Sn|=(240&zr)<<Ft}Le.la=Sr,Lt.la=Sn,Ze.Hc=Pt,Ze.Gc=wt,Ze.ia=43690&wt?0:$e.ia,ze=!(Pt|wt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[be.$b][be.Za],de.wa[de.Y+de.ja].La|=!ze),Ne.Ka)return dn(fe,7,"Premature end-of-file encountered.")}if(_c(fe),de=Ae,Ne=1,be=(he=fe).D,Le=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(be.M=he.M,be.uc=Le,Dc(he,be),Ne=1,be=(pt=he.D).Nb,Le=(wt=yd[he.L])*he.R,We=wt/2*he.B,Bt=16*be*he.R,kr=8*be*he.B,ze=he.sa,Ze=he.ta-Le+Bt,$e=he.qa,Pe=he.ra-We+kr,Ct=he.Ha,Lt=he.Ia-We+kr,zr=(Et=pt.M)==0,Pt=Et>=he.Va-1,he.Aa==2&&Dc(he,pt),pt.uc)for($r=(kn=he).D.M,e(kn.D.uc),pt=kn.yb;pt<kn.Hb;++pt){Sn=pt,Sr=$r;var Fn=(qn=(on=kn).D).Nb;Ft=on.R;var qn=qn.wa[qn.Y+Sn],fr=on.sa,ai=on.ta+16*Fn*Ft+16*Sn,Ji=qn.dd,In=qn.tc;if(In!=0)if(e(3<=In),on.L==1)0<Sn&&Gs(fr,ai,Ft,In+4),qn.La&&ni(fr,ai,Ft,In),0<Sr&&no(fr,ai,Ft,In+4),qn.La&&Wc(fr,ai,Ft,In);else{var bs=on.B,ro=on.qa,vl=on.ra+8*Fn*bs+8*Sn,Xs=on.Ha,on=on.Ia+8*Fn*bs+8*Sn;Fn=qn.ld,0<Sn&&(od(fr,ai,Ft,In+4,Ji,Fn),Za(ro,vl,Xs,on,bs,In+4,Ji,Fn)),qn.La&&(Ys(fr,ai,Ft,In,Ji,Fn),ml(ro,vl,Xs,on,bs,In,Ji,Fn)),0<Sr&&(gl(fr,ai,Ft,In+4,Ji,Fn),Uc(ro,vl,Xs,on,bs,In+4,Ji,Fn)),qn.La&&(eo(fr,ai,Ft,In,Ji,Fn),to(ro,vl,Xs,on,bs,In,Ji,Fn))}}if(he.ia&&alert("todo:DitherRow"),de.put!=null){if(pt=16*Et,Et=16*(Et+1),zr?(de.y=he.sa,de.O=he.ta+Bt,de.f=he.qa,de.N=he.ra+kr,de.ea=he.Ha,de.W=he.Ia+kr):(pt-=wt,de.y=ze,de.O=Ze,de.f=$e,de.N=Pe,de.ea=Ct,de.W=Lt),Pt||(Et-=wt),Et>de.o&&(Et=de.o),de.F=null,de.J=null,he.Fa!=null&&0<he.Fa.length&&pt<Et&&(de.J=Mc(he,de,pt,Et-pt),de.F=he.mb,de.F==null&&de.F.length==0)){Ne=dn(he,3,"Could not decode alpha data.");break e}pt<de.j&&(wt=de.j-pt,pt=de.j,e(!(1&wt)),de.O+=he.R*wt,de.N+=he.B*(wt>>1),de.W+=he.B*(wt>>1),de.F!=null&&(de.J+=de.width*wt)),pt<Et&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=pt-de.j,de.U=de.va-de.v,de.T=Et-pt,Ne=de.put(de))}be+1!=he.Ic||Pt||(r(he.sa,he.ta-Le,ze,Ze+16*he.R,Le),r(he.qa,he.ra-We,$e,Pe+8*he.B,We),r(he.Ha,he.Ia-We,Ct,Lt+8*he.B,We))}if(!Ne)return dn(fe,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),_&=1}return _?(d.cb=0,_):0}function vi(d,g,_,L,R){R=d[g+_+32*L]+(R>>3),d[g+_+32*L]=-256&R?0>R?0:255:R}function el(d,g,_,L,R,$){vi(d,g,0,_,L+R),vi(d,g,1,_,L+$),vi(d,g,2,_,L-$),vi(d,g,3,_,L-R)}function br(d){return(20091*d>>16)+d}function Sc(d,g,_,L){var R,$=0,q=s(16);for(R=0;4>R;++R){var J=d[g+0]+d[g+8],X=d[g+0]-d[g+8],ee=(35468*d[g+4]>>16)-br(d[g+12]),ce=br(d[g+4])+(35468*d[g+12]>>16);q[$+0]=J+ce,q[$+1]=X+ee,q[$+2]=X-ee,q[$+3]=J-ce,$+=4,g++}for(R=$=0;4>R;++R)J=(d=q[$+0]+4)+q[$+8],X=d-q[$+8],ee=(35468*q[$+4]>>16)-br(q[$+12]),vi(_,L,0,0,J+(ce=br(q[$+4])+(35468*q[$+12]>>16))),vi(_,L,1,0,X+ee),vi(_,L,2,0,X-ee),vi(_,L,3,0,J-ce),$++,L+=32}function Hh(d,g,_,L){var R=d[g+0]+4,$=35468*d[g+4]>>16,q=br(d[g+4]),J=35468*d[g+1]>>16;el(_,L,0,R+q,d=br(d[g+1]),J),el(_,L,1,R+$,d,J),el(_,L,2,R-$,d,J),el(_,L,3,R-q,d,J)}function kg(d,g,_,L,R){Sc(d,g,_,L),R&&Sc(d,g+16,_,L+4)}function qh(d,g,_,L){ys(d,g+0,_,L,1),ys(d,g+32,_,L+128,1)}function Ng(d,g,_,L){var R;for(d=d[g+0]+4,R=0;4>R;++R)for(g=0;4>g;++g)vi(_,L,g,R,d)}function Vh(d,g,_,L){d[g+0]&&dr(d,g+0,_,L),d[g+16]&&dr(d,g+16,_,L+4),d[g+32]&&dr(d,g+32,_,L+128),d[g+48]&&dr(d,g+48,_,L+128+4)}function Pg(d,g,_,L){var R,$=s(16);for(R=0;4>R;++R){var q=d[g+0+R]+d[g+12+R],J=d[g+4+R]+d[g+8+R],X=d[g+4+R]-d[g+8+R],ee=d[g+0+R]-d[g+12+R];$[0+R]=q+J,$[8+R]=q-J,$[4+R]=ee+X,$[12+R]=ee-X}for(R=0;4>R;++R)q=(d=$[0+4*R]+3)+$[3+4*R],J=$[1+4*R]+$[2+4*R],X=$[1+4*R]-$[2+4*R],ee=d-$[3+4*R],_[L+0]=q+J>>3,_[L+16]=ee+X>>3,_[L+32]=q-J>>3,_[L+48]=ee-X>>3,L+=64}function kc(d,g,_){var L,R=g-32,$=Br,q=255-d[R-1];for(L=0;L<_;++L){var J,X=$,ee=q+d[g-1];for(J=0;J<_;++J)d[g+J]=X[ee+d[R+J]];g+=32}}function Ag(d,g){kc(d,g,4)}function Cg(d,g){kc(d,g,8)}function jg(d,g){kc(d,g,16)}function fs(d,g){var _;for(_=0;16>_;++_)r(d,g+32*_,d,g-32,16)}function tl(d,g){var _;for(_=16;0<_;--_)i(d,g,d[g-1],16),g+=32}function nl(d,g,_){var L;for(L=0;16>L;++L)i(g,_+32*L,d,16)}function Yh(d,g){var _,L=16;for(_=0;16>_;++_)L+=d[g-1+32*_]+d[g+_-32];nl(L>>5,d,g)}function Kn(d,g){var _,L=8;for(_=0;16>_;++_)L+=d[g-1+32*_];nl(L>>4,d,g)}function Lg(d,g){var _,L=8;for(_=0;16>_;++_)L+=d[g+_-32];nl(L>>4,d,g)}function Gh(d,g){nl(128,d,g)}function ot(d,g,_){return d+2*g+_+2>>2}function Eg(d,g){var _,L=g-32;for(L=new Uint8Array([ot(d[L-1],d[L+0],d[L+1]),ot(d[L+0],d[L+1],d[L+2]),ot(d[L+1],d[L+2],d[L+3]),ot(d[L+2],d[L+3],d[L+4])]),_=0;4>_;++_)r(d,g+32*_,L,0,L.length)}function Tg(d,g){var _=d[g-1],L=d[g-1+32],R=d[g-1+64],$=d[g-1+96];ve(d,g+0,16843009*ot(d[g-1-32],_,L)),ve(d,g+32,16843009*ot(_,L,R)),ve(d,g+64,16843009*ot(L,R,$)),ve(d,g+96,16843009*ot(R,$,$))}function Vi(d,g){var _,L=4;for(_=0;4>_;++_)L+=d[g+_-32]+d[g-1+32*_];for(L>>=3,_=0;4>_;++_)i(d,g+32*_,L,4)}function Jh(d,g){var _=d[g-1+0],L=d[g-1+32],R=d[g-1+64],$=d[g-1-32],q=d[g+0-32],J=d[g+1-32],X=d[g+2-32],ee=d[g+3-32];d[g+0+96]=ot(L,R,d[g-1+96]),d[g+1+96]=d[g+0+64]=ot(_,L,R),d[g+2+96]=d[g+1+64]=d[g+0+32]=ot($,_,L),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=ot(q,$,_),d[g+3+64]=d[g+2+32]=d[g+1+0]=ot(J,q,$),d[g+3+32]=d[g+2+0]=ot(X,J,q),d[g+3+0]=ot(ee,X,J)}function Kh(d,g){var _=d[g+1-32],L=d[g+2-32],R=d[g+3-32],$=d[g+4-32],q=d[g+5-32],J=d[g+6-32],X=d[g+7-32];d[g+0+0]=ot(d[g+0-32],_,L),d[g+1+0]=d[g+0+32]=ot(_,L,R),d[g+2+0]=d[g+1+32]=d[g+0+64]=ot(L,R,$),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=ot(R,$,q),d[g+3+32]=d[g+2+64]=d[g+1+96]=ot($,q,J),d[g+3+64]=d[g+2+96]=ot(q,J,X),d[g+3+96]=ot(J,X,X)}function rl(d,g){var _=d[g-1+0],L=d[g-1+32],R=d[g-1+64],$=d[g-1-32],q=d[g+0-32],J=d[g+1-32],X=d[g+2-32],ee=d[g+3-32];d[g+0+0]=d[g+1+64]=$+q+1>>1,d[g+1+0]=d[g+2+64]=q+J+1>>1,d[g+2+0]=d[g+3+64]=J+X+1>>1,d[g+3+0]=X+ee+1>>1,d[g+0+96]=ot(R,L,_),d[g+0+64]=ot(L,_,$),d[g+0+32]=d[g+1+96]=ot(_,$,q),d[g+1+32]=d[g+2+96]=ot($,q,J),d[g+2+32]=d[g+3+96]=ot(q,J,X),d[g+3+32]=ot(J,X,ee)}function Nc(d,g){var _=d[g+0-32],L=d[g+1-32],R=d[g+2-32],$=d[g+3-32],q=d[g+4-32],J=d[g+5-32],X=d[g+6-32],ee=d[g+7-32];d[g+0+0]=_+L+1>>1,d[g+1+0]=d[g+0+64]=L+R+1>>1,d[g+2+0]=d[g+1+64]=R+$+1>>1,d[g+3+0]=d[g+2+64]=$+q+1>>1,d[g+0+32]=ot(_,L,R),d[g+1+32]=d[g+0+96]=ot(L,R,$),d[g+2+32]=d[g+1+96]=ot(R,$,q),d[g+3+32]=d[g+2+96]=ot($,q,J),d[g+3+64]=ot(q,J,X),d[g+3+96]=ot(J,X,ee)}function Og(d,g){var _=d[g-1+0],L=d[g-1+32],R=d[g-1+64],$=d[g-1+96];d[g+0+0]=_+L+1>>1,d[g+2+0]=d[g+0+32]=L+R+1>>1,d[g+2+32]=d[g+0+64]=R+$+1>>1,d[g+1+0]=ot(_,L,R),d[g+3+0]=d[g+1+32]=ot(L,R,$),d[g+3+32]=d[g+1+64]=ot(R,$,$),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=$}function Mg(d,g){var _=d[g-1+0],L=d[g-1+32],R=d[g-1+64],$=d[g-1+96],q=d[g-1-32],J=d[g+0-32],X=d[g+1-32],ee=d[g+2-32];d[g+0+0]=d[g+2+32]=_+q+1>>1,d[g+0+32]=d[g+2+64]=L+_+1>>1,d[g+0+64]=d[g+2+96]=R+L+1>>1,d[g+0+96]=$+R+1>>1,d[g+3+0]=ot(J,X,ee),d[g+2+0]=ot(q,J,X),d[g+1+0]=d[g+3+32]=ot(_,q,J),d[g+1+32]=d[g+3+64]=ot(L,_,q),d[g+1+64]=d[g+3+96]=ot(R,L,_),d[g+1+96]=ot($,R,L)}function Rg(d,g){var _;for(_=0;8>_;++_)r(d,g+32*_,d,g-32,8)}function Pc(d,g){var _;for(_=0;8>_;++_)i(d,g,d[g-1],8),g+=32}function Ga(d,g,_){var L;for(L=0;8>L;++L)i(g,_+32*L,d,8)}function Us(d,g){var _,L=8;for(_=0;8>_;++_)L+=d[g+_-32]+d[g-1+32*_];Ga(L>>4,d,g)}function Dg(d,g){var _,L=4;for(_=0;8>_;++_)L+=d[g+_-32];Ga(L>>3,d,g)}function Ja(d,g){var _,L=4;for(_=0;8>_;++_)L+=d[g-1+32*_];Ga(L>>3,d,g)}function Ac(d,g){Ga(128,d,g)}function il(d,g,_){var L=d[g-_],R=d[g+0],$=3*(R-L)+Ug[1020+d[g-2*_]-d[g+_]],q=cd[112+($+4>>3)];d[g-_]=Br[255+L+cd[112+($+3>>3)]],d[g+0]=Br[255+R-q]}function Xh(d,g,_,L){var R=d[g+0],$=d[g+_];return ii[255+d[g-2*_]-d[g-_]]>L||ii[255+$-R]>L}function Qh(d,g,_,L){return 4*ii[255+d[g-_]-d[g+0]]+ii[255+d[g-2*_]-d[g+_]]<=L}function Zh(d,g,_,L,R){var $=d[g-3*_],q=d[g-2*_],J=d[g-_],X=d[g+0],ee=d[g+_],ce=d[g+2*_],ge=d[g+3*_];return 4*ii[255+J-X]+ii[255+q-ee]>L?0:ii[255+d[g-4*_]-$]<=R&&ii[255+$-q]<=R&&ii[255+q-J]<=R&&ii[255+ge-ce]<=R&&ii[255+ce-ee]<=R&&ii[255+ee-X]<=R}function ed(d,g,_,L){var R=2*L+1;for(L=0;16>L;++L)Qh(d,g+L,_,R)&&il(d,g+L,_)}function Yi(d,g,_,L){var R=2*L+1;for(L=0;16>L;++L)Qh(d,g+L*_,1,R)&&il(d,g+L*_,1)}function ps(d,g,_,L){var R;for(R=3;0<R;--R)ed(d,g+=4*_,_,L)}function Fg(d,g,_,L){var R;for(R=3;0<R;--R)Yi(d,g+=4,_,L)}function Ws(d,g,_,L,R,$,q,J){for($=2*$+1;0<R--;){if(Zh(d,g,_,$,q))if(Xh(d,g,_,J))il(d,g,_);else{var X=d,ee=g,ce=_,ge=X[ee-2*ce],me=X[ee-ce],fe=X[ee+0],Ae=X[ee+ce],be=X[ee+2*ce],he=27*(Ne=Ug[1020+3*(fe-me)+Ug[1020+ge-Ae]])+63>>7,de=18*Ne+63>>7,Ne=9*Ne+63>>7;X[ee-3*ce]=Br[255+X[ee-3*ce]+Ne],X[ee-2*ce]=Br[255+ge+de],X[ee-ce]=Br[255+me+he],X[ee+0]=Br[255+fe-he],X[ee+ce]=Br[255+Ae-de],X[ee+2*ce]=Br[255+be-Ne]}g+=L}}function xi(d,g,_,L,R,$,q,J){for($=2*$+1;0<R--;){if(Zh(d,g,_,$,q))if(Xh(d,g,_,J))il(d,g,_);else{var X=d,ee=g,ce=_,ge=X[ee-ce],me=X[ee+0],fe=X[ee+ce],Ae=cd[112+((be=3*(me-ge))+4>>3)],be=cd[112+(be+3>>3)],he=Ae+1>>1;X[ee-2*ce]=Br[255+X[ee-2*ce]+he],X[ee-ce]=Br[255+ge+be],X[ee+0]=Br[255+me-Ae],X[ee+ce]=Br[255+fe-he]}g+=L}}function Cc(d,g,_,L,R,$){Ws(d,g,_,1,16,L,R,$)}function Ka(d,g,_,L,R,$){Ws(d,g,1,_,16,L,R,$)}function Ig(d,g,_,L,R,$){var q;for(q=3;0<q;--q)xi(d,g+=4*_,_,1,16,L,R,$)}function sl(d,g,_,L,R,$){var q;for(q=3;0<q;--q)xi(d,g+=4,1,_,16,L,R,$)}function Bg(d,g,_,L,R,$,q,J){Ws(d,g,R,1,8,$,q,J),Ws(_,L,R,1,8,$,q,J)}function jc(d,g,_,L,R,$,q,J){Ws(d,g,1,R,8,$,q,J),Ws(_,L,1,R,8,$,q,J)}function Lc(d,g,_,L,R,$,q,J){xi(d,g+4*R,R,1,8,$,q,J),xi(_,L+4*R,R,1,8,$,q,J)}function td(d,g,_,L,R,$,q,J){xi(d,g+4,1,R,8,$,q,J),xi(_,L+4,1,R,8,$,q,J)}function al(){this.ba=new Pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ec(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nd(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new A}function zg(){this.xb=this.a=0,this.l=new Zo,this.ca=new Pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nd,this.ab=0,this.gc=a(4,Tc),this.Oc=0}function ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xa(d,g,_,L,R,$,q){for(d=d==null?0:d[g+0],g=0;g<q;++g)R[$+g]=d+_[L+g]&255,d=R[$+g]}function Oc(d,g,_,L,R,$,q){var J;if(d==null)Xa(null,null,_,L,R,$,q);else for(J=0;J<q;++J)R[$+J]=d[g+J]+_[L+J]&255}function Hs(d,g,_,L,R,$,q){if(d==null)Xa(null,null,_,L,R,$,q);else{var J,X=d[g+0],ee=X,ce=X;for(J=0;J<q;++J)ee=ce+(X=d[g+J])-ee,ce=_[L+J]+(-256&ee?0>ee?0:255:ee)&255,ee=X,R[$+J]=ce}}function Mc(d,g,_,L){var R=g.width,$=g.o;if(e(d!=null&&g!=null),0>_||0>=L||_+L>$)return null;if(!d.Cc){if(d.ga==null){var q;if(d.ga=new ol,(q=d.ga==null)||(q=g.width*g.o,e(d.Gb.length==0),d.Gb=s(q),d.Uc=0,d.Gb==null?q=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,q=1),q=!q),!q){q=d.ga;var J=d.Fa,X=d.P,ee=d.qc,ce=d.mb,ge=d.nb,me=X+1,fe=ee-1,Ae=q.l;if(e(J!=null&&ce!=null&&g!=null),Ks[0]=null,Ks[1]=Xa,Ks[2]=Oc,Ks[3]=Hs,q.ca=ce,q.tb=ge,q.c=g.width,q.i=g.height,e(0<q.c&&0<q.i),1>=ee)g=0;else if(q.$a=J[X+0]>>0&3,q.Z=J[X+0]>>2&3,q.Lc=J[X+0]>>4&3,X=J[X+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||X)g=0;else if(Ae.put=$i,Ae.ac=hn,Ae.bc=Ui,Ae.ma=q,Ae.width=g.width,Ae.height=g.height,Ae.Da=g.Da,Ae.v=g.v,Ae.va=g.va,Ae.j=g.j,Ae.o=g.o,q.$a)e:{e(q.$a==1),g=Zr();t:for(;;){if(g==null){g=0;break e}if(e(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,H(g.m,J,me,fe),!qi(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ds(g.s)?(q.ic=1,J=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(J),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=Ya(g,q.c)),!g))break t;g=1;break e}q.mc=null,g=0}else g=fe>=q.c*q.i;q=!g}if(q)return null;d.ga.Lc!=1?d.Ga=0:L=$-_}e(d.ga!=null),e(_+L<=$);e:{if(g=(J=d.ga).c,$=J.l.o,J.$a==0){if(me=d.rc,fe=d.Vc,Ae=d.Fa,X=d.P+1+_*g,ee=d.mb,ce=d.nb+_*g,e(X<=d.P+d.qc),J.Z!=0)for(e(Ks[J.Z]!=null),q=0;q<L;++q)Ks[J.Z](me,fe,Ae,X,ee,ce,g),me=ee,fe=ce,ce+=g,X+=g;else for(q=0;q<L;++q)r(ee,ce,Ae,X,g),me=ee,fe=ce,ce+=g,X+=g;d.rc=me,d.Vc=fe}else{if(e(J.mc!=null),g=_+L,e((q=J.mc)!=null),e(g<=q.i),q.C>=g)g=1;else if(J.ic||pe(),J.ic){J=q.V,me=q.Ba,fe=q.c;var be=q.i,he=(Ae=1,X=q.$/fe,ee=q.$%fe,ce=q.m,ge=q.s,q.$),de=fe*be,Ne=fe*g,Le=ge.wc,Pe=he<Ne?wn(ge,ee,X):null;e(he<=de),e(g<=be),e(ds(ge));t:for(;;){for(;!ce.h&&he<Ne;){if(ee&Le||(Pe=wn(ge,ee,X)),e(Pe!=null),U(ce),256>(be=xr(Pe.G[0],Pe.H[0],ce)))J[me+he]=be,++he,++ee>=fe&&(ee=0,++X<=g&&!(X%16)&&mi(q,X));else{if(!(280>be)){Ae=0;break t}be=pi(be-256,ce);var We,ze=xr(Pe.G[4],Pe.H[4],ce);if(U(ce),!(he>=(ze=Wi(fe,ze=pi(ze,ce)))&&de-he>=be)){Ae=0;break t}for(We=0;We<be;++We)J[me+he+We]=J[me+he+We-ze];for(he+=be,ee+=be;ee>=fe;)ee-=fe,++X<=g&&!(X%16)&&mi(q,X);he<Ne&&ee&Le&&(Pe=wn(ge,ee,X))}e(ce.h==K(ce))}mi(q,X>g?g:X);break t}!Ae||ce.h&&he<de?(Ae=0,q.a=ce.h?5:3):q.$=he,g=Ae}else g=yi(q,q.V,q.Ba,q.c,q.i,g,Go);if(!g){L=0;break e}}_+L>=$&&(d.Cc=1),L=1}if(!L)return null;if(d.Cc&&((L=d.ga)!=null&&(L.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+_*R}function x(d,g,_,L,R,$){for(;0<R--;){var q,J=d,X=g+(_?1:0),ee=d,ce=g+(_?0:3);for(q=0;q<L;++q){var ge=ee[ce+4*q];ge!=255&&(ge*=32897,J[X+4*q+0]=J[X+4*q+0]*ge>>23,J[X+4*q+1]=J[X+4*q+1]*ge>>23,J[X+4*q+2]=J[X+4*q+2]*ge>>23)}g+=$}}function F(d,g,_,L,R){for(;0<L--;){var $;for($=0;$<_;++$){var q=d[g+2*$+0],J=15&(ee=d[g+2*$+1]),X=4369*J,ee=(240&ee|ee>>4)*X>>16;d[g+2*$+0]=(240&q|q>>4)*X>>16&240|(15&q|q<<4)*X>>16>>4&15,d[g+2*$+1]=240&ee|J}g+=R}}function te(d,g,_,L,R,$,q,J){var X,ee,ce=255;for(ee=0;ee<R;++ee){for(X=0;X<L;++X){var ge=d[g+X];$[q+4*X]=ge,ce&=ge}g+=_,q+=J}return ce!=255}function oe(d,g,_,L,R){var $;for($=0;$<R;++$)_[L+$]=d[g+$]>>8}function pe(){ri=x,$t=F,Ut=te,pn=oe}function we(d,g,_){N[d]=function(L,R,$,q,J,X,ee,ce,ge,me,fe,Ae,be,he,de,Ne,Le){var Pe,We=Le-1>>1,ze=J[X+0]|ee[ce+0]<<16,Ze=ge[me+0]|fe[Ae+0]<<16;e(L!=null);var $e=3*ze+Ze+131074>>2;for(g(L[R+0],255&$e,$e>>16,be,he),$!=null&&($e=3*Ze+ze+131074>>2,g($[q+0],255&$e,$e>>16,de,Ne)),Pe=1;Pe<=We;++Pe){var Ct=J[X+Pe]|ee[ce+Pe]<<16,Lt=ge[me+Pe]|fe[Ae+Pe]<<16,Pt=ze+Ct+Ze+Lt+524296,wt=Pt+2*(Ct+Ze)>>3;$e=wt+ze>>1,ze=(Pt=Pt+2*(ze+Lt)>>3)+Ct>>1,g(L[R+2*Pe-1],255&$e,$e>>16,be,he+(2*Pe-1)*_),g(L[R+2*Pe-0],255&ze,ze>>16,be,he+(2*Pe-0)*_),$!=null&&($e=Pt+Ze>>1,ze=wt+Lt>>1,g($[q+2*Pe-1],255&$e,$e>>16,de,Ne+(2*Pe-1)*_),g($[q+2*Pe+0],255&ze,ze>>16,de,Ne+(2*Pe+0)*_)),ze=Ct,Ze=Lt}1&Le||($e=3*ze+Ze+131074>>2,g(L[R+Le-1],255&$e,$e>>16,be,he+(Le-1)*_),$!=null&&($e=3*Ze+ze+131074>>2,g($[q+Le-1],255&$e,$e>>16,de,Ne+(Le-1)*_)))}}function Ee(){si[ud]=BS,si[hd]=D2,si[E2]=zS,si[dd]=F2,si[fd]=I2,si[Wg]=B2,si[T2]=$S,si[Hg]=D2,si[qg]=F2,si[pd]=I2,si[Vg]=B2}function Ue(d){return d&-16384?0>d?0:255:d>>US}function Xe(d,g){return Ue((19077*d>>8)+(26149*g>>8)-14234)}function ft(d,g,_){return Ue((19077*d>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function lt(d,g){return Ue((19077*d>>8)+(33050*g>>8)-17685)}function Nt(d,g,_,L,R){L[R+0]=Xe(d,_),L[R+1]=ft(d,g,_),L[R+2]=lt(d,g)}function tn(d,g,_,L,R){L[R+0]=lt(d,g),L[R+1]=ft(d,g,_),L[R+2]=Xe(d,_)}function an(d,g,_,L,R){var $=ft(d,g,_);g=$<<3&224|lt(d,g)>>3,L[R+0]=248&Xe(d,_)|$>>5,L[R+1]=g}function _n(d,g,_,L,R){var $=240&lt(d,g)|15;L[R+0]=240&Xe(d,_)|ft(d,g,_)>>4,L[R+1]=$}function Xn(d,g,_,L,R){L[R+0]=255,Nt(d,g,_,L,R+1)}function Dn(d,g,_,L,R){tn(d,g,_,L,R),L[R+3]=255}function bi(d,g,_,L,R){Nt(d,g,_,L,R),L[R+3]=255}function Ir(d,g){return 0>d?0:d>g?g:d}function Gi(d,g,_){N[d]=function(L,R,$,q,J,X,ee,ce,ge){for(var me=ce+(-2&ge)*_;ce!=me;)g(L[R+0],$[q+0],J[X+0],ee,ce),g(L[R+1],$[q+0],J[X+0],ee,ce+_),R+=2,++q,++X,ce+=2*_;1&ge&&g(L[R+0],$[q+0],J[X+0],ee,ce)}}function rd(d,g,_){return _==0?d==0?g==0?6:5:g==0?4:0:_}function Rc(d,g,_,L,R){switch(d>>>30){case 3:ys(g,_,L,R,0);break;case 2:fn(g,_,L,R);break;case 1:dr(g,_,L,R)}}function Dc(d,g){var _,L,R=g.M,$=g.Nb,q=d.oc,J=d.pc+40,X=d.oc,ee=d.pc+584,ce=d.oc,ge=d.pc+600;for(_=0;16>_;++_)q[J+32*_-1]=129;for(_=0;8>_;++_)X[ee+32*_-1]=129,ce[ge+32*_-1]=129;for(0<R?q[J-1-32]=X[ee-1-32]=ce[ge-1-32]=129:(i(q,J-32-1,127,21),i(X,ee-32-1,127,9),i(ce,ge-32-1,127,9)),L=0;L<d.za;++L){var me=g.ya[g.aa+L];if(0<L){for(_=-1;16>_;++_)r(q,J+32*_-4,q,J+32*_+12,4);for(_=-1;8>_;++_)r(X,ee+32*_-4,X,ee+32*_+4,4),r(ce,ge+32*_-4,ce,ge+32*_+4,4)}var fe=d.Gd,Ae=d.Hd+L,be=me.ad,he=me.Hc;if(0<R&&(r(q,J-32,fe[Ae].y,0,16),r(X,ee-32,fe[Ae].f,0,8),r(ce,ge-32,fe[Ae].ea,0,8)),me.Za){var de=q,Ne=J-32+16;for(0<R&&(L>=d.za-1?i(de,Ne,fe[Ae].y[15],4):r(de,Ne,fe[Ae+1].y,0,4)),_=0;4>_;_++)de[Ne+128+_]=de[Ne+256+_]=de[Ne+384+_]=de[Ne+0+_];for(_=0;16>_;++_,he<<=2)de=q,Ne=J+$2[_],wi[me.Ob[_]](de,Ne),Rc(he,be,16*+_,de,Ne)}else if(de=rd(L,R,me.Ob[0]),Js[de](q,J),he!=0)for(_=0;16>_;++_,he<<=2)Rc(he,be,16*+_,q,J+$2[_]);for(_=me.Gc,de=rd(L,R,me.Dd),xs[de](X,ee),xs[de](ce,ge),he=be,de=X,Ne=ee,255&(me=_>>0)&&(170&me?$c(he,256,de,Ne):ti(he,256,de,Ne)),me=ce,he=ge,255&(_>>=8)&&(170&_?$c(be,320,me,he):ti(be,320,me,he)),R<d.Ub-1&&(r(fe[Ae].y,0,q,J+480,16),r(fe[Ae].f,0,X,ee+224,8),r(fe[Ae].ea,0,ce,ge+224,8)),_=8*$*d.B,fe=d.sa,Ae=d.ta+16*L+16*$*d.R,be=d.qa,me=d.ra+8*L+_,he=d.Ha,de=d.Ia+8*L+_,_=0;16>_;++_)r(fe,Ae+_*d.R,q,J+32*_,16);for(_=0;8>_;++_)r(be,me+_*d.B,X,ee+32*_,8),r(he,de+_*d.B,ce,ge+32*_,8)}}function ll(d,g,_,L,R,$,q,J,X){var ee=[0],ce=[0],ge=0,me=X!=null?X.kd:0,fe=X??new Ec;if(d==null||12>_)return 7;fe.data=d,fe.w=g,fe.ha=_,g=[g],_=[_],fe.gb=[fe.gb];e:{var Ae=g,be=_,he=fe.gb;if(e(d!=null),e(be!=null),e(he!=null),he[0]=0,12<=be[0]&&!n(d,Ae[0],"RIFF")){if(n(d,Ae[0]+8,"WEBP")){he=3;break e}var de=ue(d,Ae[0]+4);if(12>de||4294967286<de){he=3;break e}if(me&&de>be[0]-8){he=7;break e}he[0]=de,Ae[0]+=12,be[0]-=12}he=0}if(he!=0)return he;for(de=0<fe.gb[0],_=_[0];;){e:{var Ne=d;be=g,he=_;var Le=ee,Pe=ce,We=Ae=[0];if(($e=ge=[ge])[0]=0,8>he[0])he=7;else{if(!n(Ne,be[0],"VP8X")){if(ue(Ne,be[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var ze=ue(Ne,be[0]+8),Ze=1+Ce(Ne,be[0]+12);if(2147483648<=Ze*(Ne=1+Ce(Ne,be[0]+15))){he=3;break e}We!=null&&(We[0]=ze),Le!=null&&(Le[0]=Ze),Pe!=null&&(Pe[0]=Ne),be[0]+=18,he[0]-=18,$e[0]=1}he=0}}if(ge=ge[0],Ae=Ae[0],he!=0)return he;if(be=!!(2&Ae),!de&&ge)return 3;if($!=null&&($[0]=!!(16&Ae)),q!=null&&(q[0]=be),J!=null&&(J[0]=0),q=ee[0],Ae=ce[0],ge&&be&&X==null){he=0;break}if(4>_){he=7;break}if(de&&ge||!de&&!ge&&!n(d,g[0],"ALPH")){_=[_],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{ze=d,he=g,de=_;var $e=fe.gb;Le=fe.na,Pe=fe.P,We=fe.Sa,Ze=22,e(ze!=null),e(de!=null),Ne=he[0];var Ct=de[0];for(e(Le!=null),e(We!=null),Le[0]=null,Pe[0]=null,We[0]=0;;){if(he[0]=Ne,de[0]=Ct,8>Ct){he=7;break e}var Lt=ue(ze,Ne+4);if(4294967286<Lt){he=3;break e}var Pt=8+Lt+1&-2;if(Ze+=Pt,0<$e&&Ze>$e){he=3;break e}if(!n(ze,Ne,"VP8 ")||!n(ze,Ne,"VP8L")){he=0;break e}if(Ct[0]<Pt){he=7;break e}n(ze,Ne,"ALPH")||(Le[0]=ze,Pe[0]=Ne+8,We[0]=Lt),Ne+=Pt,Ct-=Pt}}if(_=_[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],he!=0)break}_=[_],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if($e=d,he=g,de=_,Le=fe.gb[0],Pe=fe.Ja,We=fe.xa,ze=he[0],Ne=!n($e,ze,"VP8 "),Ze=!n($e,ze,"VP8L"),e($e!=null),e(de!=null),e(Pe!=null),e(We!=null),8>de[0])he=7;else{if(Ne||Ze){if($e=ue($e,ze+4),12<=Le&&$e>Le-12){he=3;break e}if(me&&$e>de[0]-8){he=7;break e}Pe[0]=$e,he[0]+=8,de[0]-=8,We[0]=Ze}else We[0]=5<=de[0]&&$e[ze+0]==47&&!($e[ze+4]>>5),Pe[0]=de[0];he=0}if(_=_[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],g=g[0],he!=0)break;if(4294967286<fe.Ja)return 3;if(J==null||be||(J[0]=fe.xa?2:1),q=[q],Ae=[Ae],fe.xa){if(5>_){he=7;break}J=q,me=Ae,be=$,d==null||5>_?d=0:5<=_&&d[g+0]==47&&!(d[g+4]>>5)?(de=[0],$e=[0],Le=[0],H(Pe=new C,d,g,_),nt(Pe,de,$e,Le)?(J!=null&&(J[0]=de[0]),me!=null&&(me[0]=$e[0]),be!=null&&(be[0]=Le[0]),d=1):d=0):d=0}else{if(10>_){he=7;break}J=Ae,d==null||10>_||!$h(d,g+3,_-3)?d=0:(me=d[g+0]|d[g+1]<<8|d[g+2]<<16,be=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=fe.Ja||!be||!d?d=0:(q&&(q[0]=be),J&&(J[0]=d),d=1))}if(!d||(q=q[0],Ae=Ae[0],ge&&(ee[0]!=q||ce[0]!=Ae)))return 3;X!=null&&(X[0]=fe,X.offset=g-X.w,e(4294967286>g-X.w),e(X.offset==X.ha-_));break}return he==0||he==7&&ge&&X==null?($!=null&&($[0]|=fe.na!=null&&0<fe.na.length),L!=null&&(L[0]=q),R!=null&&(R[0]=Ae),0):he}function Fc(d,g,_){var L=g.width,R=g.height,$=0,q=0,J=L,X=R;if(g.Da=d!=null&&0<d.Da,g.Da&&(J=d.cd,X=d.bd,$=d.v,q=d.j,11>_||($&=-2,q&=-2),0>$||0>q||0>=J||0>=X||$+J>L||q+X>R))return 0;if(g.v=$,g.j=q,g.va=$+J,g.o=q+X,g.U=J,g.T=X,g.da=d!=null&&0<d.da,g.da){if(!Ge(J,X,_=[d.ib],$=[d.hb]))return 0;g.ib=_[0],g.hb=$[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*L/4&&g.hb<3*R/4,g.Kb=0),1}function Ic(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function cl(d,g,_,L){if(L==null||0>=d||0>=g)return 2;if(_!=null){if(_.Da){var R=_.cd,$=_.bd,q=-2&_.v,J=-2&_.j;if(0>q||0>J||0>=R||0>=$||q+R>d||J+$>g)return 2;d=R,g=$}if(_.da){if(!Ge(d,g,R=[_.ib],$=[_.hb]))return 2;d=R[0],g=$[0]}}L.width=d,L.height=g;e:{var X=L.width,ee=L.height;if(d=L.S,0>=X||0>=ee||!(d>=ud&&13>d))d=2;else{if(0>=L.Rd&&L.sd==null){q=$=R=g=0;var ce=(J=X*U2[d])*ee;if(11>d||($=(ee+1)/2*(g=(X+1)/2),d==12&&(q=(R=X)*ee)),(ee=s(ce+2*$+q))==null){d=1;break e}L.sd=ee,11>d?((X=L.f.RGBA).eb=ee,X.fb=0,X.A=J,X.size=ce):((X=L.f.kb).y=ee,X.O=0,X.fa=J,X.Fd=ce,X.f=ee,X.N=0+ce,X.Ab=g,X.Cd=$,X.ea=ee,X.W=0+ce+$,X.Db=g,X.Ed=$,d==12&&(X.F=ee,X.J=0+ce+2*$),X.Tc=q,X.lb=R)}if(g=1,R=L.S,$=L.width,q=L.height,R>=ud&&13>R)if(11>R)d=L.f.RGBA,g&=(J=Math.abs(d.A))*(q-1)+$<=d.size,g&=J>=$*U2[R],g&=d.eb!=null;else{d=L.f.kb,J=($+1)/2,ce=(q+1)/2,X=Math.abs(d.fa),ee=Math.abs(d.Ab);var ge=Math.abs(d.Db),me=Math.abs(d.lb),fe=me*(q-1)+$;g&=X*(q-1)+$<=d.Fd,g&=ee*(ce-1)+J<=d.Cd,g=(g&=ge*(ce-1)+J<=d.Ed)&X>=$&ee>=J&ge>=J,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,R==12&&(g&=me>=$,g&=fe<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||_!=null&&_.fd&&(d=Ic(L)),d}var Hn=64,ul=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hl=24,dl=32,Bc=8,wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(d){return d},N.Predictor2=function(d,g,_){return g[_+0]},N.Predictor3=function(d,g,_){return g[_+1]},N.Predictor4=function(d,g,_){return g[_-1]},N.Predictor5=function(d,g,_){return Me(Me(d,g[_+1]),g[_+0])},N.Predictor6=function(d,g,_){return Me(d,g[_-1])},N.Predictor7=function(d,g,_){return Me(d,g[_+0])},N.Predictor8=function(d,g,_){return Me(g[_-1],g[_+0])},N.Predictor9=function(d,g,_){return Me(g[_+0],g[_+1])},N.Predictor10=function(d,g,_){return Me(Me(d,g[_-1]),Me(g[_+0],g[_+1]))},N.Predictor11=function(d,g,_){var L=g[_+0];return 0>=Ke(L>>24&255,d>>24&255,(g=g[_-1])>>24&255)+Ke(L>>16&255,d>>16&255,g>>16&255)+Ke(L>>8&255,d>>8&255,g>>8&255)+Ke(255&L,255&d,255&g)?L:d},N.Predictor12=function(d,g,_){var L=g[_+0];return(Ve((d>>24&255)+(L>>24&255)-((g=g[_-1])>>24&255))<<24|Ve((d>>16&255)+(L>>16&255)-(g>>16&255))<<16|Ve((d>>8&255)+(L>>8&255)-(g>>8&255))<<8|Ve((255&d)+(255&L)-(255&g)))>>>0},N.Predictor13=function(d,g,_){var L=g[_-1];return(Ye((d=Me(d,g[_+0]))>>24&255,L>>24&255)<<24|Ye(d>>16&255,L>>16&255)<<16|Ye(d>>8&255,L>>8&255)<<8|Ye(d>>0&255,L>>0&255))>>>0};var $g=N.PredictorAdd0;N.PredictorAdd1=Je,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var zc=N.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var id,ei=N.ColorIndexInverseTransform,fl=N.MapARGB,sd=N.VP8LColorIndexInverseTransformAlpha,ad=N.MapAlpha,qs=N.VP8LPredictorsAdd=[];qs.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Qa,_r,hr,Vs,gs,ms,pl,ys,fn,$c,dr,ti,gl,od,Uc,Za,eo,Ys,to,ml,no,Gs,Wc,ni,ri,$t,Ut,pn,Cn=s(511),vs=s(2041),Hc=s(225),yl=s(767),ld=0,Ug=vs,cd=Hc,Br=yl,ii=Cn,ud=0,hd=1,E2=2,dd=3,fd=4,Wg=5,T2=6,Hg=7,qg=8,pd=9,Vg=10,NS=[2,3,7],PS=[3,3,11],O2=[280,256,256,256,40],AS=[0,1,1,1,0],CS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ES=8,Yg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qc=null,TS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],OS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],DS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Js=[],wi=[],xs=[],IS=1,R2=2,Ks=[],si=[];we("UpsampleRgbLinePair",Nt,3),we("UpsampleBgrLinePair",tn,3),we("UpsampleRgbaLinePair",bi,4),we("UpsampleBgraLinePair",Dn,4),we("UpsampleArgbLinePair",Xn,4),we("UpsampleRgba4444LinePair",_n,2),we("UpsampleRgb565LinePair",an,2);var BS=N.UpsampleRgbLinePair,zS=N.UpsampleBgrLinePair,D2=N.UpsampleRgbaLinePair,F2=N.UpsampleBgraLinePair,I2=N.UpsampleArgbLinePair,B2=N.UpsampleRgba4444LinePair,$S=N.UpsampleRgb565LinePair,gd=16,md=1<<gd-1,Vc=-227,Jg=482,US=6,z2=0,WS=s(256),HS=s(256),qS=s(256),VS=s(256),YS=s(Jg-Vc),GS=s(Jg-Vc);Gi("YuvToRgbRow",Nt,3),Gi("YuvToBgrRow",tn,3),Gi("YuvToRgbaRow",bi,4),Gi("YuvToBgraRow",Dn,4),Gi("YuvToArgbRow",Xn,4),Gi("YuvToRgba4444Row",_n,2),Gi("YuvToRgb565Row",an,2);var $2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yd=[0,2,8],JS=[8,7,6,4,4,2,2,2,1,1,1,1],KS=1;this.WebPDecodeRGBA=function(d,g,_,L,R){var $=hd,q=new al,J=new Pn;q.ba=J,J.S=$,J.width=[J.width],J.height=[J.height];var X=J.width,ee=J.height,ce=new Mn;if(ce==null||d==null)var ge=2;else e(ce!=null),ge=ll(d,g,_,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ge!=0?X=0:(X!=null&&(X[0]=ce.width[0]),ee!=null&&(ee[0]=ce.height[0]),X=1),X){J.width=J.width[0],J.height=J.height[0],L!=null&&(L[0]=J.width),R!=null&&(R[0]=J.height);e:{if(L=new Zo,(R=new Ec).data=d,R.w=g,R.ha=_,R.kd=1,g=[0],e(R!=null),((d=ll(R.data,R.w,R.ha,null,null,null,g,null,R))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(q!=null),L.data=R.data,L.w=R.w+R.offset,L.ha=R.ha-R.offset,L.put=$i,L.ac=hn,L.bc=Ui,L.ma=q,R.xa){if((d=Zr())==null){q=1;break e}if(function(me,fe){var Ae=[0],be=[0],he=[0];t:for(;;){if(me==null)return 0;if(fe==null)return me.a=2,0;if(me.l=fe,me.a=0,H(me.m,fe.data,fe.w,fe.ha),!nt(me.m,Ae,be,he)){me.a=3;break t}if(me.xb=R2,fe.width=Ae[0],fe.height=be[0],!qi(Ae[0],be[0],1,me,null))break t;return 1}return e(me.a!=0),0}(d,L)){if(L=(g=cl(L.width,L.height,q.Oa,q.ba))==0){t:{L=d;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((_=L.l)!=null),e((R=_.ma)!=null),L.xb!=0){if(L.ca=R.ba,L.tb=R.tb,e(L.ca!=null),!Fc(R.Oa,_,dd)){L.a=2;break n}if(!Ya(L,_.width)||_.da)break n;if((_.da||dt(L.ca.S))&&pe(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&pe()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!xe(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!yi(L,L.V,L.Ba,L.c,L.i,_.o,Yo))break n;R.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(g=d.a)}else g=d.a}else{if((d=new _g)==null){q=1;break e}if(d.Fa=R.na,d.P=R.P,d.qc=R.Sa,Uh(d,L)){if((g=cl(L.width,L.height,q.Oa,q.ba))==0){if(d.Aa=0,_=q.Oa,e((R=d)!=null),_!=null){if(0<(X=0>(X=_.Md)?0:100<X?255:255*X/100)){for(ee=ce=0;4>ee;++ee)12>(ge=R.pb[ee]).lc&&(ge.ia=X*JS[0>ge.lc?0:ge.lc]>>3),ce|=ge.ia;ce&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=_.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Sg(d,L)||(g=d.a)}}else g=d.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=Ic(q.ba))}q=g}$=q!=0?null:11>$?J.f.RGBA.eb:J.f.kb.y}else $=null;return $};var U2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,E){for(var M="",j=0;j<4;j++)M+=String.fromCharCode(N[E++]);return M}function u(N,E){return(N[E+0]<<0|N[E+1]<<8|N[E+2]<<16)>>>0}function h(N,E){return(N[E+0]<<0|N[E+1]<<8|N[E+2]<<16|N[E+3]<<24)>>>0}new l;var p=[0],f=[0],v=[],w=new l,k=t,y=function(N,E){var M={},j=0,A=!1,Y=0,z=0;if(M.frames=[],!function(D,K,B,U){for(var ie=0;ie<U;ie++)if(D[K+ie]!=B.charCodeAt(ie))return!0;return!1}(N,E,"RIFF",4)){var ne,G;for(h(N,E+=4),E+=8;E<N.length;){var W=c(N,E),H=h(N,E+=4);E+=4;var V=H+(1&H);switch(W){case"VP8 ":case"VP8L":M.frames[j]===void 0&&(M.frames[j]={}),(C=M.frames[j]).src_off=A?z:E-8,C.src_size=Y+H+8,j++,A&&(A=!1,Y=0,z=0);break;case"VP8X":(C=M.header={}).feature_flags=N[E];var re=E+4;C.canvas_width=1+u(N,re),re+=3,C.canvas_height=1+u(N,re),re+=3;break;case"ALPH":A=!0,Y=V+8,z=E-8;break;case"ANIM":(C=M.header).bgcolor=h(N,E),re=E+4,C.loop_count=(ne=N)[(G=re)+0]<<0|ne[G+1]<<8,re+=2;break;case"ANMF":var Z,C;(C=M.frames[j]={}).offset_x=2*u(N,E),E+=3,C.offset_y=2*u(N,E),E+=3,C.width=1+u(N,E),E+=3,C.height=1+u(N,E),E+=3,C.duration=u(N,E),E+=3,Z=N[E++],C.dispose=1&Z,C.blend=Z>>1&1}W!="ANMF"&&(E+=V)}return M}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,S=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],f=[b.canvas_width];for(var P=0;P<S.length&&S[P].blend!=0;P++);}var O=S[0],I=w.WebPDecodeRGBA(k,O.src_off,O.src_size,f,p);O.rgba=I,O.imgwidth=f[0],O.imgheight=p[0];for(var T=0;T<f[0]*p[0]*4;T++)v[T]=I[T];return this.width=f,this.height=p,this.data=v,this}(function(t){var e=function(){return typeof L1=="function"},n=function(p,f,v,w){var k=4,y=a;switch(w){case t.image_compression.FAST:k=1,y=s;break;case t.image_compression.MEDIUM:k=6,y=o;break;case t.image_compression.SLOW:k=9,y=l}p=r(p,f,v,y);var b=L1(p,{level:k});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(p,f,v,w){for(var k,y,b,S=p.length/f,P=new Uint8Array(p.length+S),O=u(),I=0;I<S;I+=1){if(b=I*f,k=p.subarray(b,b+f),w)P.set(w(k,v,y),b+I);else{for(var T,N=O.length,E=[];T<N;T+=1)E[T]=O[T](k,v,y);var M=h(E.concat());P.set(E[M],b+I)}y=k}return P},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var v,w=[],k=p.length;w[0]=1;for(var y=0;y<k;y+=1)v=p[y-f]||0,w[y+1]=p[y]-v+256&255;return w},a=function(p,f,v){var w,k=[],y=p.length;k[0]=2;for(var b=0;b<y;b+=1)w=v&&v[b]||0,k[b+1]=p[b]-w+256&255;return k},o=function(p,f,v){var w,k,y=[],b=p.length;y[0]=3;for(var S=0;S<b;S+=1)w=p[S-f]||0,k=v&&v[S]||0,y[S+1]=p[S]+256-(w+k>>>1)&255;return y},l=function(p,f,v){var w,k,y,b,S=[],P=p.length;S[0]=4;for(var O=0;O<P;O+=1)w=p[O-f]||0,k=v&&v[O]||0,y=v&&v[O-f]||0,b=c(w,k,y),S[O+1]=p[O]-b+256&255;return S},c=function(p,f,v){if(p===f&&f===v)return p;var w=Math.abs(f-v),k=Math.abs(p-v),y=Math.abs(p+f-v-v);return w<=k&&w<=y?p:k<=y?f:v},u=function(){return[i,s,a,o,l]},h=function(p){var f=p.map(function(v){return v.reduce(function(w,k){return w+Math.abs(k)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,v,w){var k,y,b,S,P,O,I,T,N,E,M,j,A,Y,z,ne=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(b=new $L(p)).imgData,y=b.bits,k=b.colorSpace,P=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){N=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,M=new Uint8Array(N*b.colors),E=new Uint8Array(N);var W,H=b.pixelBitlength-b.bits;for(Y=0,z=0;Y<N;Y++){for(A=T[Y],W=0;W<H;)M[z++]=A>>>W&255,W+=b.bits;E[Y]=A>>>W&255}}if(b.bits===16){N=(T=new Uint32Array(b.decodePixels().buffer)).length,M=new Uint8Array(N*(32/b.pixelBitlength)*b.colors),E=new Uint8Array(N*(32/b.pixelBitlength)),j=b.colors>1,Y=0,z=0;for(var V=0;Y<N;)A=T[Y++],M[z++]=A>>>0&255,j&&(M[z++]=A>>>16&255,A=T[Y++],M[z++]=A>>>0&255),E[V++]=A>>>16&255;y=8}w!==t.image_compression.NONE&&e()?(p=n(M,b.width*b.colors,b.colors,w),I=n(E,b.width,1,w)):(p=M,I=E,ne=void 0)}if(b.colorType===3&&(k=this.color_spaces.INDEXED,O=b.palette,b.transparency.indexed)){var re=b.transparency.indexed,Z=0;for(Y=0,N=re.length;Y<N;++Y)Z+=re[Y];if((Z/=255)===N-1&&re.indexOf(0)!==-1)S=[re.indexOf(0)];else if(Z!==N){for(T=b.decodePixels(),E=new Uint8Array(T.length),Y=0,N=T.length;Y<N;Y++)E[Y]=re[T[Y]];I=n(E,b.width,1)}}var C=function(D){var K;switch(D){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(w);return ne===this.decode.FLATE_DECODE&&(G="/Predictor "+C+" "),G+="/Colors "+P+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:v,data:p,index:f,filter:ne,decodeParameters:G,transparency:S,palette:O,sMask:I,predictor:C,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:k}}}})(et.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new UL(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new Gm(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(et.API),Pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){zt.log("bit decode error:"+n)}},Pi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Pi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Pi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Pi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Pi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Pi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Pi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Pi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Pi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(et.API),sx.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new sx(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(et.API),et.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],f=r[c+3];s[o++]=u,s[o++]=h,s[o++]=p,a[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},et.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Al=et.API,Zd=Al.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,v=0,w=o[0]||l,k=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=h&&Mt(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,k.push((o[r]||w)/l+p)),v=r;return k},tx=Al.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Al.processArabic&&(t=Al.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Zd.apply(this,arguments).reduce(function(s,a){return s+a},0)},nx=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},rx=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],h=[u],p=n.textIndent||0,f=0,v=0,w=t.split(" "),k=Zd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),b=[];w.map(function(P){(P=P.split(/\s*\n/)).length>1?b=b.concat(P.map(function(O,I){return(I&&O.length?`
`:"")+O})):b.push(P[0])}),w=b,l=tx.apply(this,[y,n])}for(s=0,a=w.length;s<a;s++){var S=0;if(r=w[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),p+f+(v=(i=Zd.apply(this,[r,n])).reduce(function(P,O){return P+O},0))>e||S){if(v>e){for(o=nx.apply(this,[r,i,e-(p+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(P,O){return P+O},0)}else u=[r];h.push(u),p=v+l,f=k}else u.push(r),p+=f+v,f=k}return c=l?function(P,O){return(O?y:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(c)},Al.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(rx.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var p,f,v,w,k=["{"];for(var y in h){if(p=h[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),w="-"):(v=s(p).slice(2),w=""),v=w+v.slice(0,-1)+r[v.slice(-1)];else{if(Mt(p)!=="object")throw new Error("Don't know what to do with value type "+Mt(p)+".");v=a(p)}k.push(f+v)}return k.push("}"),k.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,v,w,k={},y=1,b=k,S=[],P="",O="",I=h.length-1,T=1;T<I;T+=1)(w=h[T])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(S.push([b,v]),b={},v=void 0):w=="}"?((f=S.pop())[0][f[1]]=b,v=void 0,b=f[0]):w=="-"?y=-1:v===void 0?n.hasOwnProperty(w)?(P+=n[w],v=parseInt(P,16)*y,y=1,P=""):P+=w:n.hasOwnProperty(w)?(O+=n[w],b[v]=parseInt(O,16)*y,y=1,v=void 0,O=""):O+=w;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var v=c.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(et.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Bu(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(et),function(t){function e(){return(it.canvg?Promise.resolve(it.canvg):us(()=>import("./index.es-DjP8sjAA.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}et.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(v){return v.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),et.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},et.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function p(v,w){var k,y=!1;for(k=0;k<v.length;k+=1)v[k]===w&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Mt(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?w.push("/"+v+" /"+n[v].value):w.push("/"+v+" "+n[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(et.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(s).sort(function(f,v){return f-v})).length;h<p;h++)a=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var w=c();u({data:f,addLength1:!0,objectId:w}),l("endobj");var k=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ol(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ol(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+Ol(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var w=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ol(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Ol(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,w=f,k="",y=0,b="",S=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(b=o,w=f,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)v[w].metadata.hasOwnProperty("cmap")&&(a=v[w].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),a||b[y].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?k+=b[y]:k+="";var P="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?P=p(k,w).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(P=n(k,v[w])),h.isHex=!0,{text:P,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(et),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(et.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var P=function(j){var A=j.charCodeAt(),Y=A>>8,z=w[Y];return z!==void 0?h[256*z+(255&A)]:Y===252||Y===253?"AL":y.test(Y)?"L":Y===8?"R":"N"},O=function(j){for(var A,Y=0;Y<j.length;Y++){if((A=P(j.charAt(Y)))==="L")return!1;if(A==="R")return!0}return!1},I=function(j,A,Y,z){var ne,G,W,H,V=A[z];switch(V){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(V="AN");break;case"AL":b=!0,V="R";break;case"WS":V="N";break;case"CS":z<1||z+1>=A.length||(ne=Y[z-1])!=="EN"&&ne!=="AN"||(G=A[z+1])!=="EN"&&G!=="AN"?V="N":b&&(G="AN"),V=G===ne?G:"N";break;case"ES":V=(ne=z>0?Y[z-1]:"B")==="EN"&&z+1<A.length&&A[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&Y[z-1]==="EN"){V="EN";break}if(b){V="N";break}for(W=z+1,H=A.length;W<H&&A[W]==="ET";)W++;V=W<H&&A[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(H=A.length,W=z+1;W<H&&A[W]==="NSM";)W++;if(W<H){var re=j[z],Z=re>=1425&&re<=2303||re===64286;if(ne=A[W],Z&&(ne==="R"||ne==="AL")){V="R";break}}}V=z<1||(ne=A[z-1])==="B"?"N":Y[z-1];break;case"B":b=!1,i=!0,V=S;break;case"S":s=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":V="N"}return V},T=function(j,A,Y){var z=j.split("");return Y&&N(z,Y,{hiLevel:S}),z.reverse(),A&&A.reverse(),z.join("")},N=function(j,A,Y){var z,ne,G,W,H,V=-1,re=j.length,Z=0,C=[],D=S?f:p,K=[];for(b=!1,i=!1,s=!1,ne=0;ne<re;ne++)K[ne]=P(j[ne]);for(G=0;G<re;G++){if(H=Z,C[G]=I(j,K,C,G),z=240&(Z=D[H][v[C[G]]]),Z&=15,A[G]=W=D[Z][5],z>0)if(z===16){for(ne=V;ne<G;ne++)A[ne]=1;V=-1}else V=-1;if(D[Z][6])V===-1&&(V=G);else if(V>-1){for(ne=V;ne<G;ne++)A[ne]=W;V=-1}K[G]==="B"&&(A[G]=0),Y.hiLevel|=W}s&&function(B,U,ie){for(var se=0;se<ie;se++)if(B[se]==="S"){U[se]=S;for(var le=se-1;le>=0&&B[le]==="WS";le--)U[le]=S}}(K,A,re)},E=function(j,A,Y,z,ne){if(!(ne.hiLevel<j)){if(j===1&&S===1&&!i)return A.reverse(),void(Y&&Y.reverse());for(var G,W,H,V,re=A.length,Z=0;Z<re;){if(z[Z]>=j){for(H=Z+1;H<re&&z[H]>=j;)H++;for(V=Z,W=H-1;V<W;V++,W--)G=A[V],A[V]=A[W],A[W]=G,Y&&(G=Y[V],Y[V]=Y[W],Y[W]=G);Z=H}Z++}}},M=function(j,A,Y){var z=j.split(""),ne={hiLevel:S};return Y||(Y=[]),N(z,Y,ne),function(G,W,H){if(H.hiLevel!==0&&u)for(var V,re=0;re<G.length;re++)W[re]===1&&(V=k.indexOf(G[re]))>=0&&(G[re]=k[V+1])}(z,Y,ne),E(2,z,A,Y,ne),E(1,z,A,Y,ne),z.join("")};return this.__bidiEngine__.doBidiReorder=function(j,A,Y){if(function(ne,G){if(G)for(var W=0;W<ne.length;W++)G[W]=W;o===void 0&&(o=O(ne)),c===void 0&&(c=O(ne))}(j,A),a||!l||c)if(a&&l&&o^c)S=o?1:0,j=T(j,A,Y);else if(!a&&l&&c)S=o?1:0,j=M(j,A,Y),j=T(j,A);else if(!a||o||l||c){if(a&&!l&&o^c)j=T(j,A),o?(S=0,j=M(j,A,Y)):(S=1,j=M(j,A,Y),j=T(j,A));else if(a&&o&&!l&&c)S=1,j=M(j,A,Y),j=T(j,A);else if(!a&&!l&&o^c){var z=u;o?(S=1,j=M(j,A,Y),S=0,u=!1,j=M(j,A,Y),u=z):(S=0,j=M(j,A,Y),j=T(j,A),S=1,u=!1,j=M(j,A,Y),u=z,j=T(j,A))}}else S=0,j=M(j,A,Y);else S=o?1:0,j=M(j,A,Y);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,c=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new r8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new WL(this.contents),this.head=new qL(this),this.name=new KL(this),this.cmap=new v4(this),this.toUnicode={},this.hhea=new VL(this),this.maxp=new XL(this),this.hmtx=new QL(this),this.post=new GL(this),this.os2=new YL(this),this.loca=new n8(this),this.glyf=new ZL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Bi,Fa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),WL=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,h,p,f,v,w;for(w in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),a=Math.floor(h/l),u=16*f-h,(i=new Fa).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(a),i.writeShort(u),s=16*f,c=i.pos+s,o=null,v=[],n)for(p=n[w],i.writeString(w),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),v=v.concat(p),w==="head"&&(o=c),c+=p.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=x4.call(n);n.length%4;)n.push(0);for(s=new Fa(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),HL={}.hasOwnProperty,hs=function(t,e){for(var n in e)HL.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Bi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var qL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Fa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),ax=function(){function t(e,n){var r,i,s,a,o,l,c,u,h,p,f,v,w,k,y,b,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(e.readUInt16());return O}(),e.pos+=2,w=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(e.readUInt16());return O}(),c=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(e.readUInt16());return O}(),u=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,o=function(){var P,O;for(O=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)O.push(e.readUInt16());return O}(),l=y=0,S=s.length;y<S;l=++y)for(k=s[l],r=b=v=w[l];v<=k?b<=k:b>=k;r=v<=k?++b:--b)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-v)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=h}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,h,p,f,v,w,k,y,b,S,P,O,I,T,N,E,M,j,A,Y,z,ne,G,W,H,V,re,Z,C,D,K,B,U,ie,se,le,ve,ye,Ce;switch(z=new Fa,a=Object.keys(e).sort(function(ue,xe){return ue-xe}),n){case"macroman":for(w=0,k=function(){var ue=[];for(v=0;v<256;++v)ue.push(0);return ue}(),b={0:0},s={},ne=0,V=a.length;ne<V;ne++)b[le=e[i=a[ne]]]==null&&(b[le]=++w),s[i]={old:e[i],new:b[e[i]]},k[i]=b[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(k),{charMap:s,subtable:z.data,maxGlyphID:w+1};case"unicode":for(A=[],h=[],S=0,b={},r={},y=c=null,G=0,re=a.length;G<re;G++)b[O=e[i=a[G]]]==null&&(b[O]=++S),r[i]={old:O,new:b[O]},o=b[O]-i,y!=null&&o===c||(y&&h.push(y),A.push(i),c=o),y=i;for(y&&h.push(y),h.push(65535),A.push(65535),M=2*(E=A.length),N=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,T=2*E-N,l=[],I=[],f=[],v=W=0,Z=A.length;W<Z;v=++W){if(j=A[v],u=h[v],j===65535){l.push(0),I.push(0);break}if(j-(Y=r[j].new)>=32768)for(l.push(0),I.push(2*(f.length+E-v)),i=H=j;j<=u?H<=u:H>=u;i=j<=u?++H:--H)f.push(r[i].new);else l.push(Y-j),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*E+2*f.length),z.writeUInt16(0),z.writeUInt16(M),z.writeUInt16(N),z.writeUInt16(p),z.writeUInt16(T),ie=0,C=h.length;ie<C;ie++)i=h[ie],z.writeUInt16(i);for(z.writeUInt16(0),se=0,D=A.length;se<D;se++)i=A[se],z.writeUInt16(i);for(ve=0,K=l.length;ve<K;ve++)o=l[ve],z.writeUInt16(o);for(ye=0,B=I.length;ye<B;ye++)P=I[ye],z.writeUInt16(P);for(Ce=0,U=f.length;Ce<U;Ce++)w=f[Ce],z.writeUInt16(w);return{charMap:r,subtable:z.data,maxGlyphID:S+1}}},t}(),v4=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new ax(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=ax.encode(n,r),(s=new Fa).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),VL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),YL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),GL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}).call(this)}},e}(),JL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},KL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,u,h,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=h=0,p=i.length;h<p;a=++h)s=i[a],n.pos=s.offset,u=n.readString(s.length),o=new JL(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),XL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),QL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(n.readInt16());return h}(),this.widths=(function(){var u,h,p,f;for(f=[],u=0,h=(p=this.metrics).length;u<h;u++)a=p[u],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),x4=[].slice,ZL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,u,h,p;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Fa(r.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=o===-1?new t8(l,u,p,c,h):new e8(l,o,u,p,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),e8=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),t8=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Fa(x4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),n8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return hs(e,Bi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),r8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,h,p,f,v,w,k,y;for(i in r=v4.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(v in p=r.maxGlyphID,a)v in f||(f[v]=p++);return u=function(b){var S,P;for(S in P={},b)P[b[S]]=S;return P}(f),h=Object.keys(u).sort(function(b,S){return b-S}),w=function(){var b,S,P;for(P=[],b=0,S=h.length;b<S;b++)o=h[b],P.push(u[o]);return P}(),s=this.font.glyf.encode(a,w,f),c=this.font.loca.encode(s.offsets,w),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();et.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const i8=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:RL,AcroFormAppearance:qe,AcroFormButton:Ln,AcroFormCheckBox:Uu,AcroFormChoiceField:Co,AcroFormComboBox:Lo,AcroFormEditBox:zu,AcroFormListBox:jo,AcroFormPasswordField:Wu,AcroFormPushButton:$u,AcroFormRadioButton:Eo,AcroFormTextField:Ta,GState:yh,ShadingPattern:pa,TilingPattern:ko,default:et,jsPDF:et},Symbol.toStringTag,{value:"Module"}));var s8={exports:{}};const a8=Ib(i8);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return a8}catch{}}())})(typeof globalThis<"u"?globalThis:typeof lr<"u"?lr:typeof window<"u"?window:typeof self<"u"?self:lr,function(n){return function(){var r={172:function(o,l){var c=this&&this.__extends||function(){var p=function(f,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,k){w.__proto__=k}||function(w,k){for(var y in k)Object.prototype.hasOwnProperty.call(k,y)&&(w[y]=k[y])},p(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(f,v);function w(){this.constructor=f}f.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var u=function(){function p(f,v,w){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=w,this.doc=f.getDocument()}return p}();l.HookData=u;var h=function(p){c(f,p);function f(v,w,k,y,b,S){var P=p.call(this,v,w,S)||this;return P.cell=k,P.row=y,P.column=b,P.section=y.section,P}return f}(u);l.CellHookData=h},340:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0});var u=c(4),h=c(136),p=c(744),f=c(776),v=c(664),w=c(972);function k(y){y.API.autoTable=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];var P;b.length===1?P=b[0]:(console.error("Use of deprecated autoTable initiation"),P=b[2]||{},P.columns=b[0],P.body=b[1]);var O=(0,f.parseInput)(this,P),I=(0,w.createTable)(this,O);return(0,v.drawTable)(this,I),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(b,S,P,O){(0,h.default)(b,S,P,O,this)},y.API.autoTableSetDefaults=function(b){return p.DocHandler.setDefaults(b,this),this},y.autoTableSetDefaults=function(b,S){p.DocHandler.setDefaults(b,S)},y.API.autoTableHtmlToJson=function(b,S){var P;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var O=new p.DocHandler(this),I=(0,u.parseHtml)(O,b,window,S,!1),T=I.head,N=I.body,E=((P=T[0])===null||P===void 0?void 0:P.map(function(M){return M.content}))||[];return{columns:E,rows:N,data:N}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},y.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=b,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=k},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function c(u,h,p,f,v){f=f||{};var w=1.15,k=v.internal.scaleFactor,y=v.internal.getFontSize()/k,b=v.getLineHeightFactor?v.getLineHeightFactor():w,S=y*b,P=/\r\n|\r|\n/g,O="",I=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(O=typeof u=="string"?u.split(P):u,I=O.length||1),p+=y*(2-w),f.valign==="middle"?p-=I/2*S:f.valign==="bottom"&&(p-=I*S),f.halign==="center"||f.halign==="right"){var T=y;if(f.halign==="center"&&(T*=.5),O&&I>=1){for(var N=0;N<O.length;N++)v.text(O[N],h-v.getStringUnitWidth(O[N])*T,p),p+=S;return v}h-=v.getStringUnitWidth(u)*T}return f.halign==="justify"?v.text(u,h,p,{maxWidth:f.maxWidth||100,align:"justify"}):v.text(u,h,p),v}l.default=c},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(v,w,k){k.applyStyles(w,!0);var y=Array.isArray(v)?v:[v],b=y.map(function(S){return k.getTextWidth(S)}).reduce(function(S,P){return Math.max(S,P)},0);return b}l.getStringWidth=c;function u(v,w,k,y){var b=w.settings.tableLineWidth,S=w.settings.tableLineColor;v.applyStyles({lineWidth:b,lineColor:S});var P=h(b,!1);P&&v.rect(k.x,k.y,w.getWidth(v.pageSize().width),y.y-k.y,P)}l.addTableBorder=u;function h(v,w){var k=v>0,y=w||w===0;return k&&y?"DF":k?"S":y?"F":null}l.getFillStyle=h;function p(v,w){var k,y,b,S;if(v=v||w,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=w}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(k=v.left)!==null&&k!==void 0?k:w,top:(y=v.top)!==null&&y!==void 0?y:w,right:(b=v.right)!==null&&b!==void 0?b:w,bottom:(S=v.bottom)!==null&&S!==void 0?S:w}):(typeof v!="number"&&(v=w),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=p;function f(v,w){var k=p(w.settings.margin,0);return v.pageSize().width-(k.left+k.right)}l.getPageAvailableWidth=f},796:function(o,l){var c=this&&this.__extends||function(){var f=function(v,w){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,y){k.__proto__=y}||function(k,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(k[b]=y[b])},f(v,w)};return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");f(v,w);function k(){this.constructor=v}v.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var u=function(f){c(v,f);function v(w){var k=f.call(this)||this;return k._element=w,k}return v}(Array);l.HtmlRowInput=u;function h(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function p(f){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[f]}l.getTheme=p},903:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var u=c(420);function h(k,y,b,S,P){var O={},I=1.3333333333333333,T=f(y,function(V){return P.getComputedStyle(V).backgroundColor});T!=null&&(O.fillColor=T);var N=f(y,function(V){return P.getComputedStyle(V).color});N!=null&&(O.textColor=N);var E=w(S,b);E&&(O.cellPadding=E);var M="borderTopColor",j=I*b,A=S.borderTopWidth;if(S.borderBottomWidth===A&&S.borderRightWidth===A&&S.borderLeftWidth===A){var Y=(parseFloat(A)||0)/j;Y&&(O.lineWidth=Y)}else O.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/j,right:(parseFloat(S.borderRightWidth)||0)/j,bottom:(parseFloat(S.borderBottomWidth)||0)/j,left:(parseFloat(S.borderLeftWidth)||0)/j},O.lineWidth.top||(O.lineWidth.right?M="borderRightColor":O.lineWidth.bottom?M="borderBottomColor":O.lineWidth.left&&(M="borderLeftColor"));var z=f(y,function(V){return P.getComputedStyle(V)[M]});z!=null&&(O.lineColor=z);var ne=["left","right","center","justify"];ne.indexOf(S.textAlign)!==-1&&(O.halign=S.textAlign),ne=["middle","bottom","top"],ne.indexOf(S.verticalAlign)!==-1&&(O.valign=S.verticalAlign);var G=parseInt(S.fontSize||"");isNaN(G)||(O.fontSize=G/I);var W=p(S);W&&(O.fontStyle=W);var H=(S.fontFamily||"").toLowerCase();return k.indexOf(H)!==-1&&(O.font=H),O}l.parseCss=h;function p(k){var y="";return(k.fontWeight==="bold"||k.fontWeight==="bolder"||parseInt(k.fontWeight)>=700)&&(y="bold"),(k.fontStyle==="italic"||k.fontStyle==="oblique")&&(y+="italic"),y}function f(k,y){var b=v(k,y);if(!b)return null;var S=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var P=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],O=parseInt(S[4]);return O===0||isNaN(P[0])||isNaN(P[1])||isNaN(P[2])?null:P}function v(k,y){var b=y(k);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?k.parentElement==null?null:v(k.parentElement,y):b}function w(k,y){var b=[k.paddingTop,k.paddingRight,k.paddingBottom,k.paddingLeft],S=96/(72/y),P=(parseInt(k.lineHeight)-parseInt(k.fontSize))/y/2,O=b.map(function(T){return parseInt(T||"0")/S}),I=(0,u.parseSpacing)(O,0);return P>I.top&&(I.top=P),P>I.bottom&&(I.bottom=P),I}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},u=function(){function h(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(p,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=p:c=p},h.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},h.prototype.applyStyles=function(p,f){var v,w,k;f===void 0&&(f=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var y=this.jsPDFDocument.internal.getFont(),b=y.fontStyle,S=y.fontName;if(p.font&&(S=p.font),p.fontStyle){b=p.fontStyle;var P=this.getFontList()[S];P&&P.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(P[0]),b=P[0])}if(this.jsPDFDocument.setFont(S,b),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!f){var O=h.unifyColor(p.fillColor);O&&(v=this.jsPDFDocument).setFillColor.apply(v,O),O=h.unifyColor(p.textColor),O&&(w=this.jsPDFDocument).setTextColor.apply(w,O),O=h.unifyColor(p.lineColor),O&&(k=this.jsPDFDocument).setDrawColor.apply(k,O),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},h.prototype.splitTextToSize=function(p,f,v){return this.jsPDFDocument.splitTextToSize(p,f,v)},h.prototype.rect=function(p,f,v,w,k){return this.jsPDFDocument.rect(p,f,v,w,k)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=u},4:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var u=c(903),h=c(796);function p(w,k,y,b,S){var P,O;b===void 0&&(b=!1),S===void 0&&(S=!1);var I;typeof k=="string"?I=y.document.querySelector(k):I=k;var T=Object.keys(w.getFontList()),N=w.scaleFactor(),E=[],M=[],j=[];if(!I)return console.error("Html table could not be found with input: ",k),{head:E,body:M,foot:j};for(var A=0;A<I.rows.length;A++){var Y=I.rows[A],z=(O=(P=Y==null?void 0:Y.parentElement)===null||P===void 0?void 0:P.tagName)===null||O===void 0?void 0:O.toLowerCase(),ne=f(T,N,y,Y,b,S);ne&&(z==="thead"?E.push(ne):z==="tfoot"?j.push(ne):M.push(ne))}return{head:E,body:M,foot:j}}l.parseHtml=p;function f(w,k,y,b,S,P){for(var O=new h.HtmlRowInput(b),I=0;I<b.cells.length;I++){var T=b.cells[I],N=y.getComputedStyle(T);if(S||N.display!=="none"){var E=void 0;P&&(E=(0,u.parseCss)(w,T,k,N,y)),O.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:E,_element:T,content:v(T)})}}var M=y.getComputedStyle(b);if(O.length>0&&(S||M.display!=="none"))return O}function v(w){var k=w.cloneNode(!0);return k.innerHTML=k.innerHTML.replace(/\n/g,"").replace(/ +/g," "),k.innerHTML=k.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),k.innerText||k.textContent||""}},776:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var u=c(4),h=c(356),p=c(420),f=c(744),v=c(792);function w(I,T){var N=new f.DocHandler(I),E=N.getDocumentOptions(),M=N.getGlobalOptions();(0,v.default)(N,M,E,T);var j=(0,h.assign)({},M,E,T),A;typeof window<"u"&&(A=window);var Y=k(M,E,T),z=y(M,E,T),ne=b(N,j),G=P(N,j,A);return{id:T.tableId,content:G,hooks:z,styles:Y,settings:ne}}l.parseInput=w;function k(I,T,N){for(var E={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(z){if(z==="columnStyles"){var ne=I[z],G=T[z],W=N[z];E.columnStyles=(0,h.assign)({},ne,G,W)}else{var H=[I,T,N],V=H.map(function(re){return re[z]||{}});E[z]=(0,h.assign)({},V[0],V[1],V[2])}},j=0,A=Object.keys(E);j<A.length;j++){var Y=A[j];M(Y)}return E}function y(I,T,N){for(var E=[I,T,N],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},j=0,A=E;j<A.length;j++){var Y=A[j];Y.didParseCell&&M.didParseCell.push(Y.didParseCell),Y.willDrawCell&&M.willDrawCell.push(Y.willDrawCell),Y.didDrawCell&&M.didDrawCell.push(Y.didDrawCell),Y.willDrawPage&&M.willDrawPage.push(Y.willDrawPage),Y.didDrawPage&&M.didDrawPage.push(Y.didDrawPage)}return M}function b(I,T){var N,E,M,j,A,Y,z,ne,G,W,H,V,re=(0,p.parseSpacing)(T.margin,40/I.scaleFactor()),Z=(N=S(I,T.startY))!==null&&N!==void 0?N:re.top,C;T.showFoot===!0?C="everyPage":T.showFoot===!1?C="never":C=(E=T.showFoot)!==null&&E!==void 0?E:"everyPage";var D;T.showHead===!0?D="everyPage":T.showHead===!1?D="never":D=(M=T.showHead)!==null&&M!==void 0?M:"everyPage";var K=(j=T.useCss)!==null&&j!==void 0?j:!1,B=T.theme||(K?"plain":"striped"),U=!!T.horizontalPageBreak,ie=(A=T.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(Y=T.includeHiddenHtml)!==null&&Y!==void 0?Y:!1,useCss:K,theme:B,startY:Z,margin:re,pageBreak:(z=T.pageBreak)!==null&&z!==void 0?z:"auto",rowPageBreak:(ne=T.rowPageBreak)!==null&&ne!==void 0?ne:"auto",tableWidth:(G=T.tableWidth)!==null&&G!==void 0?G:"auto",showHead:D,showFoot:C,tableLineWidth:(W=T.tableLineWidth)!==null&&W!==void 0?W:0,tableLineColor:(H=T.tableLineColor)!==null&&H!==void 0?H:200,horizontalPageBreak:U,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(V=T.horizontalPageBreakBehaviour)!==null&&V!==void 0?V:"afterAllRows"}}function S(I,T){var N=I.getLastAutoTable(),E=I.scaleFactor(),M=I.pageNumber(),j=!1;if(N&&N.startPageNumber){var A=N.startPageNumber+N.pageNumber-1;j=A===M}return typeof T=="number"?T:(T==null||T===!1)&&j&&(N==null?void 0:N.finalY)!=null?N.finalY+20/E:null}function P(I,T,N){var E=T.head||[],M=T.body||[],j=T.foot||[];if(T.html){var A=T.includeHiddenHtml;if(N){var Y=(0,u.parseHtml)(I,T.html,N,A,T.useCss)||{};E=Y.head||E,M=Y.body||E,j=Y.foot||E}else console.error("Cannot parse html in non browser environment")}var z=T.columns||O(E,M,j);return{columns:z,head:E,body:M,foot:j}}function O(I,T,N){var E=I[0]||T[0]||N[0]||[],M=[];return Object.keys(E).filter(function(j){return j!=="_element"}).forEach(function(j){var A=1,Y;Array.isArray(E)?Y=E[parseInt(j)]:Y=E[j],typeof Y=="object"&&!Array.isArray(Y)&&(A=(Y==null?void 0:Y.colSpan)||1);for(var z=0;z<A;z++){var ne=void 0;Array.isArray(E)?ne=M.length:ne=j+(z>0?"_".concat(z):"");var G={dataKey:ne};M.push(G)}}),M}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,p,f,v){for(var w=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(j){h.applyStyles(h.userStyles),S.beforePageContent&&S.beforePageContent(j),h.applyStyles(h.userStyles),S.afterPageContent&&S.afterPageContent(j),h.applyStyles(h.userStyles),S.afterPageAdd&&j.pageNumber>1&&j.afterPageAdd(j),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(j){S[j]&&console.error('The "'.concat(j,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(j){var A=j[0],Y=j[1];S[Y]&&(console.error("Use of deprecated option ".concat(Y,". Use ").concat(A," instead")),S[A]=S[Y])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(j){var A=typeof j=="string"?j:j[0],Y=typeof j=="string"?j:j[1];typeof S[A]<"u"&&(typeof S.styles[Y]>"u"&&(S.styles[Y]=S[A]),console.error("Use of deprecated option: "+A+", use the style "+Y+" instead."))});for(var P=0,O=["styles","bodyStyles","headStyles","footStyles"];P<O.length;P++){var I=O[P];u(S[I]||{})}for(var T=S.columnStyles||{},N=0,E=Object.keys(T);N<E.length;N++){var M=E[N];u(T[M]||{})}},k=0,y=[p,f,v];k<y.length;k++){var b=y[k];w(b)}}l.default=c;function u(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var u=c(796),h=c(172),p=c(420),f=function(){function y(b,S){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(b){return this.head.reduce(function(S,P){return S+P.getMaxCellHeight(b)},0)},y.prototype.getFootHeight=function(b){return this.foot.reduce(function(S,P){return S+P.getMaxCellHeight(b)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(b,S,P,O,I,T){for(var N=0,E=S;N<E.length;N++){var M=E[N],j=new h.CellHookData(b,this,P,O,I,T),A=M(j)===!1;if(P.text=Array.isArray(P.text)?P.text:[P.text],A)return!1}return!0},y.prototype.callEndPageHooks=function(b,S){b.applyStyles(b.userStyles);for(var P=0,O=this.hooks.didDrawPage;P<O.length;P++){var I=O[P];I(new h.HookData(b,this,S))}},y.prototype.callWillDrawPageHooks=function(b,S){for(var P=0,O=this.hooks.willDrawPage;P<O.length;P++){var I=O[P];I(new h.HookData(b,this,S))}},y.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(O,I){return O+I.wrappedWidth},0);return S}else{var P=this.settings.margin;return b-P.left-P.right}},y}();l.Table=f;var v=function(){function y(b,S,P,O,I){I===void 0&&(I=!1),this.height=0,this.raw=b,b instanceof u.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=S,this.section=P,this.cells=O,this.spansMultiplePages=I}return y.prototype.getMaxCellHeight=function(b){var S=this;return b.reduce(function(P,O){var I;return Math.max(P,((I=S.cells[O.index])===null||I===void 0?void 0:I.height)||0)},0)},y.prototype.hasRowSpan=function(b){var S=this;return b.filter(function(P){var O=S.cells[P.index];return O?O.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(b,S){return this.getMaxCellHeight(S)<=b},y.prototype.getMinimumRowHeight=function(b,S){var P=this;return b.reduce(function(O,I){var T=P.cells[I.index];if(!T)return 0;var N=S.getLineHeight(T.styles.fontSize),E=T.padding("vertical"),M=E+N;return M>O?M:O},0)},y}();l.Row=v;var w=function(){function y(b,S,P){var O,I;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=P,this.raw=b;var T=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,T=(I=(O=b.content)!==null&&O!==void 0?O:b.title)!==null&&I!==void 0?I:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var N=T!=null?""+T:"",E=/\r\n|\r|\n/g;this.text=N.split(E)}return y.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");b=this.y+S/2+this.padding("top")}var P;if(this.styles.halign==="right")P=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var O=this.width-this.padding("horizontal");P=this.x+O/2+this.padding("left")}else P=this.x+this.padding("left");return{x:P,y:b}},y.prototype.getContentHeight=function(b,S){S===void 0&&(S=1.15);var P=Array.isArray(this.text)?this.text.length:1,O=this.styles.fontSize/b*S,I=P*O+this.padding("vertical");return Math.max(I,this.styles.minCellHeight)},y.prototype.padding=function(b){var S=(0,p.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?S.top+S.bottom:b==="horizontal"?S.left+S.right:S[b]},y}();l.Cell=w;var k=function(){function y(b,S,P){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=S,this.index=P}return y.prototype.getMaxCustomCellWidth=function(b){for(var S=0,P=0,O=b.allRows();P<O.length;P++){var I=O[P],T=I.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(S=Math.max(S,T.styles.cellWidth))}return S},y}();l.Column=k},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(u,h,p,f,v){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(u),k=1;k<arguments.length;k++){var y=arguments[k];if(y!=null)for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(w[b]=y[b])}return w}l.assign=c},972:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var u=c(744),h=c(260),p=c(324),f=c(796),v=c(356);function w(I,T){var N=new u.DocHandler(I),E=k(T,N.scaleFactor()),M=new h.Table(T,E);return(0,p.calculateWidths)(N,M),N.applyStyles(N.userStyles),M}l.createTable=w;function k(I,T){var N=I.content,E=P(N.columns);if(N.head.length===0){var M=b(E,"head");M&&N.head.push(M)}if(N.foot.length===0){var M=b(E,"foot");M&&N.foot.push(M)}var j=I.settings.theme,A=I.styles;return{columns:E,head:y("head",N.head,E,A,j,T),body:y("body",N.body,E,A,j,T),foot:y("foot",N.foot,E,A,j,T)}}function y(I,T,N,E,M,j){var A={},Y=T.map(function(z,ne){for(var G=0,W={},H=0,V=0,re=0,Z=N;re<Z.length;re++){var C=Z[re];if(A[C.index]==null||A[C.index].left===0)if(V===0){var D=void 0;Array.isArray(z)?D=z[C.index-H-G]:D=z[C.dataKey];var K={};typeof D=="object"&&!Array.isArray(D)&&(K=(D==null?void 0:D.styles)||{});var B=O(I,C,ne,M,E,j,K),U=new h.Cell(D,B,I);W[C.dataKey]=U,W[C.index]=U,V=U.colSpan-1,A[C.index]={left:U.rowSpan-1,times:V}}else V--,H++;else A[C.index].left--,V=A[C.index].times,G++}return new h.Row(z,ne,I,W)});return Y}function b(I,T){var N={};return I.forEach(function(E){if(E.raw!=null){var M=S(T,E.raw);M!=null&&(N[E.dataKey]=M)}}),Object.keys(N).length>0?N:null}function S(I,T){if(I==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(I==="foot"&&typeof T=="object")return T.footer;return null}function P(I){return I.map(function(T,N){var E,M,j;return typeof T=="object"?j=(M=(E=T.dataKey)!==null&&E!==void 0?E:T.key)!==null&&M!==void 0?M:N:j=N,new h.Column(j,T,N)})}function O(I,T,N,E,M,j,A){var Y=(0,f.getTheme)(E),z;I==="head"?z=M.headStyles:I==="body"?z=M.bodyStyles:I==="foot"&&(z=M.footStyles);var ne=(0,v.assign)({},Y.table,Y[I],M.styles,z),G=M.columnStyles[T.dataKey]||M.columnStyles[T.index]||{},W=I==="body"?G:{},H=I==="body"&&N%2===0?(0,v.assign)({},Y.alternateRow,M.alternateRowStyles):{},V=(0,f.defaultStyles)(j),re=(0,v.assign)({},V,ne,H,W);return(0,v.assign)(re,A)}},664:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var u=c(420),h=c(260),p=c(744),f=c(356),v=c(136),w=c(224);function k(G,W){var H=W.settings,V=H.startY,re=H.margin,Z={x:re.left,y:V},C=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns),D=V+re.bottom+C;if(H.pageBreak==="avoid"){var K=W.body,B=K.reduce(function(se,le){return se+le.height},0);D+=B}var U=new p.DocHandler(G);(H.pageBreak==="always"||H.startY!=null&&D>U.pageSize().height)&&(ne(U),Z.y=re.top),W.callWillDrawPageHooks(U,Z);var ie=(0,f.assign)({},Z);W.startPageNumber=U.pageNumber(),H.horizontalPageBreak?y(U,W,ie,Z):(U.applyStyles(U.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&W.head.forEach(function(se){return M(U,W,se,Z,W.columns)}),U.applyStyles(U.userStyles),W.body.forEach(function(se,le){var ve=le===W.body.length-1;E(U,W,se,ve,ie,Z,W.columns)}),U.applyStyles(U.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&W.foot.forEach(function(se){return M(U,W,se,Z,W.columns)})),(0,u.addTableBorder)(U,W,ie,Z),W.callEndPageHooks(U,Z),W.finalY=Z.y,G.lastAutoTable=W,G.previousAutoTable=W,G.autoTable&&(G.autoTable.previous=W),U.applyStyles(U.userStyles)}l.drawTable=k;function y(G,W,H,V){var re=(0,w.calculateAllColumnsCanFitInPage)(G,W),Z=W.settings;if(Z.horizontalPageBreakBehaviour==="afterAllRows")re.forEach(function(B,U){G.applyStyles(G.userStyles),U>0?z(G,W,H,V,B.columns,!0):b(G,W,V,B.columns),S(G,W,H,V,B.columns),O(G,W,V,B.columns)});else for(var C=-1,D=re[0],K=function(){var B=C;if(D){G.applyStyles(G.userStyles);var U=D.columns;C>=0?z(G,W,H,V,U,!0):b(G,W,V,U),B=P(G,W,C+1,V,U),O(G,W,V,U)}var ie=B-C;re.slice(1).forEach(function(se){G.applyStyles(G.userStyles),z(G,W,H,V,se.columns,!0),P(G,W,C+1,V,se.columns,ie),O(G,W,V,se.columns)}),C=B};C<W.body.length-1;)K()}function b(G,W,H,V){var re=W.settings;G.applyStyles(G.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&W.head.forEach(function(Z){return M(G,W,Z,H,V)})}function S(G,W,H,V,re){G.applyStyles(G.userStyles),W.body.forEach(function(Z,C){var D=C===W.body.length-1;E(G,W,Z,D,H,V,re)})}function P(G,W,H,V,re,Z){G.applyStyles(G.userStyles),Z=Z??W.body.length;var C=Math.min(H+Z,W.body.length),D=-1;return W.body.slice(H,C).forEach(function(K,B){var U=H+B===W.body.length-1,ie=Y(G,W,U,V);K.canEntireRowFit(ie,re)&&(M(G,W,K,V,re),D=H+B)}),D}function O(G,W,H,V){var re=W.settings;G.applyStyles(G.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&W.foot.forEach(function(Z){return M(G,W,Z,H,V)})}function I(G,W,H){var V=H.getLineHeight(G.styles.fontSize),re=G.padding("vertical"),Z=Math.floor((W-re)/V);return Math.max(0,Z)}function T(G,W,H,V){var re={};G.spansMultiplePages=!0,G.height=0;for(var Z=0,C=0,D=H.columns;C<D.length;C++){var K=D[C],B=G.cells[K.index];if(B){Array.isArray(B.text)||(B.text=[B.text]);var U=new h.Cell(B.raw,B.styles,B.section);U=(0,f.assign)(U,B),U.text=[];var ie=I(B,W,V);B.text.length>ie&&(U.text=B.text.splice(ie,B.text.length));var se=V.scaleFactor(),le=V.getLineHeightFactor();B.contentHeight=B.getContentHeight(se,le),B.contentHeight>=W&&(B.contentHeight=W,U.styles.minCellHeight-=W),B.contentHeight>G.height&&(G.height=B.contentHeight),U.contentHeight=U.getContentHeight(se,le),U.contentHeight>Z&&(Z=U.contentHeight),re[K.index]=U}}var ve=new h.Row(G.raw,-1,G.section,re,!0);ve.height=Z;for(var ye=0,Ce=H.columns;ye<Ce.length;ye++){var K=Ce[ye],U=ve.cells[K.index];U&&(U.height=ve.height);var B=G.cells[K.index];B&&(B.height=G.height)}return ve}function N(G,W,H,V){var re=G.pageSize().height,Z=V.settings.margin,C=Z.top+Z.bottom,D=re-C;W.section==="body"&&(D-=V.getHeadHeight(V.columns)+V.getFootHeight(V.columns));var K=W.getMinimumRowHeight(V.columns,G),B=K<H;if(K>D)return console.error("Will not be able to print row ".concat(W.index," correctly since it's minimum height is larger than page height")),!0;if(!B)return!1;var U=W.hasRowSpan(V.columns),ie=W.getMaxCellHeight(V.columns)>D;return ie?(U&&console.error("The content of row ".concat(W.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(U||V.settings.rowPageBreak==="avoid")}function E(G,W,H,V,re,Z,C){var D=Y(G,W,V,Z);if(H.canEntireRowFit(D,C))M(G,W,H,Z,C);else if(N(G,H,D,W)){var K=T(H,D,W,G);M(G,W,H,Z,C),z(G,W,re,Z,C),E(G,W,K,V,re,Z,C)}else z(G,W,re,Z,C),E(G,W,H,V,re,Z,C)}function M(G,W,H,V,re){V.x=W.settings.margin.left;for(var Z=0,C=re;Z<C.length;Z++){var D=C[Z],K=H.cells[D.index];if(!K){V.x+=D.width;continue}G.applyStyles(K.styles),K.x=V.x,K.y=V.y;var B=W.callCellHooks(G,W.hooks.willDrawCell,K,H,D,V);if(B===!1){V.x+=D.width;continue}j(G,K,V);var U=K.getTextPos();(0,v.default)(K.text,U.x,U.y,{halign:K.styles.halign,valign:K.styles.valign,maxWidth:Math.ceil(K.width-K.padding("left")-K.padding("right"))},G.getDocument()),W.callCellHooks(G,W.hooks.didDrawCell,K,H,D,V),V.x+=D.width}V.y+=H.height}function j(G,W,H){var V=W.styles;if(G.getDocument().setFillColor(G.getDocument().getFillColor()),typeof V.lineWidth=="number"){var re=(0,u.getFillStyle)(V.lineWidth,V.fillColor);re&&G.rect(W.x,H.y,W.width,W.height,re)}else typeof V.lineWidth=="object"&&(V.fillColor&&G.rect(W.x,H.y,W.width,W.height,"F"),A(G,W,H,V.lineWidth))}function A(G,W,H,V){var re,Z,C,D;V.top&&(re=H.x,Z=H.y,C=H.x+W.width,D=H.y,V.right&&(C+=.5*V.right),V.left&&(re-=.5*V.left),K(V.top,re,Z,C,D)),V.bottom&&(re=H.x,Z=H.y+W.height,C=H.x+W.width,D=H.y+W.height,V.right&&(C+=.5*V.right),V.left&&(re-=.5*V.left),K(V.bottom,re,Z,C,D)),V.left&&(re=H.x,Z=H.y,C=H.x,D=H.y+W.height,V.top&&(Z-=.5*V.top),V.bottom&&(D+=.5*V.bottom),K(V.left,re,Z,C,D)),V.right&&(re=H.x+W.width,Z=H.y,C=H.x+W.width,D=H.y+W.height,V.top&&(Z-=.5*V.top),V.bottom&&(D+=.5*V.bottom),K(V.right,re,Z,C,D));function K(B,U,ie,se,le){G.getDocument().setLineWidth(B),G.getDocument().line(U,ie,se,le,"S")}}function Y(G,W,H,V){var re=W.settings.margin.bottom,Z=W.settings.showFoot;return(Z==="everyPage"||Z==="lastPage"&&H)&&(re+=W.getFootHeight(W.columns)),G.pageSize().height-V.y-re}function z(G,W,H,V,re,Z){re===void 0&&(re=[]),Z===void 0&&(Z=!1),G.applyStyles(G.userStyles),W.settings.showFoot==="everyPage"&&!Z&&W.foot.forEach(function(D){return M(G,W,D,V,re)}),W.callEndPageHooks(G,V);var C=W.settings.margin;(0,u.addTableBorder)(G,W,H,V),ne(G),W.pageNumber++,W.pageCount++,V.x=C.left,V.y=C.top,H.y=C.top,W.callWillDrawPageHooks(G,V),W.settings.showHead==="everyPage"&&(W.head.forEach(function(D){return M(G,W,D,V,re)}),G.applyStyles(G.userStyles))}l.addPage=z;function ne(G){var W=G.pageNumber();G.setPage(W+1);var H=G.pageNumber();return H===W?(G.addPage(),!0):!1}},224:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var u=c(420);function h(f,v,w){var k;w===void 0&&(w={});var y=(0,u.getPageAvailableWidth)(f,v),b=new Map,S=[],P=[],O=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?O=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(O=[v.settings.horizontalPageBreakRepeat]),O.forEach(function(E){var M=v.columns.find(function(j){return j.dataKey===E||j.index===E});M&&!b.has(M.index)&&(b.set(M.index,!0),S.push(M.index),P.push(v.columns[M.index]),y-=M.wrappedWidth)});for(var I=!0,T=(k=w==null?void 0:w.start)!==null&&k!==void 0?k:0;T<v.columns.length;){if(b.has(T)){T++;continue}var N=v.columns[T].wrappedWidth;if(I||y>=N)I=!1,S.push(T),P.push(v.columns[T]),y-=N;else break;T++}return{colIndexes:S,columns:P,lastIndex:T-1}}function p(f,v){for(var w=[],k=0;k<v.columns.length;k++){var y=h(f,v,{start:k});y.columns.length&&(w.push(y),k=y.lastIndex)}return w}l.calculateAllColumnsCanFitInPage=p},324:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var u=c(420);function h(S,P){p(S,P);var O=[],I=0;P.columns.forEach(function(N){var E=N.getMaxCustomCellWidth(P);E?N.width=E:(N.width=N.wrappedWidth,O.push(N)),I+=N.width});var T=P.getWidth(S.pageSize().width)-I;T&&(T=f(O,T,function(N){return Math.max(N.minReadableWidth,N.minWidth)})),T&&(T=f(O,T,function(N){return N.minWidth})),T=Math.abs(T),!P.settings.horizontalPageBreak&&T>.1/S.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),w(P),k(P,S),v(P)}l.calculateWidths=h;function p(S,P){var O=S.scaleFactor(),I=P.settings.horizontalPageBreak,T=(0,u.getPageAvailableWidth)(S,P);P.allRows().forEach(function(N){for(var E=0,M=P.columns;E<M.length;E++){var j=M[E],A=N.cells[j.index];if(A){var Y=P.hooks.didParseCell;P.callCellHooks(S,Y,A,N,j,null);var z=A.padding("horizontal");A.contentWidth=(0,u.getStringWidth)(A.text,A.styles,S)+z;var ne=(0,u.getStringWidth)(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,S);if(A.minReadableWidth=ne+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||I===!0)A.contentWidth>T?(A.minWidth=T,A.wrappedWidth=T):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var G=10/O;A.minWidth=A.styles.minCellWidth||G,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),P.allRows().forEach(function(N){for(var E=0,M=P.columns;E<M.length;E++){var j=M[E],A=N.cells[j.index];if(A&&A.colSpan===1)j.wrappedWidth=Math.max(j.wrappedWidth,A.wrappedWidth),j.minWidth=Math.max(j.minWidth,A.minWidth),j.minReadableWidth=Math.max(j.minReadableWidth,A.minReadableWidth);else{var Y=P.styles.columnStyles[j.dataKey]||P.styles.columnStyles[j.index]||{},z=Y.cellWidth||Y.minCellWidth;z&&typeof z=="number"&&(j.minWidth=z,j.wrappedWidth=z)}A&&(A.colSpan>1&&!j.minWidth&&(j.minWidth=A.minWidth),A.colSpan>1&&!j.wrappedWidth&&(j.wrappedWidth=A.minWidth))}})}function f(S,P,O){for(var I=P,T=S.reduce(function(G,W){return G+W.wrappedWidth},0),N=0;N<S.length;N++){var E=S[N],M=E.wrappedWidth/T,j=I*M,A=E.width+j,Y=O(E),z=A<Y?Y:A;P-=z-E.width,E.width=z}if(P=Math.round(P*1e10)/1e10,P){var ne=S.filter(function(G){return P<0?G.width>O(G):!0});ne.length&&(P=f(ne,P,O))}return P}l.resizeColumns=f;function v(S){for(var P={},O=1,I=S.allRows(),T=0;T<I.length;T++)for(var N=I[T],E=0,M=S.columns;E<M.length;E++){var j=M[E],A=P[j.index];if(O>1)O--,delete N.cells[j.index];else if(A)A.cell.height+=N.height,O=A.cell.colSpan,delete N.cells[j.index],A.left--,A.left<=1&&delete P[j.index];else{var Y=N.cells[j.index];if(!Y)continue;if(Y.height=N.height,Y.rowSpan>1){var z=I.length-T,ne=Y.rowSpan>z?z:Y.rowSpan;P[j.index]={cell:Y,left:ne,row:N}}}}}function w(S){for(var P=S.allRows(),O=0;O<P.length;O++)for(var I=P[O],T=null,N=0,E=0,M=0;M<S.columns.length;M++){var j=S.columns[M];if(E-=1,E>1&&S.columns[M+1])N+=j.width,delete I.cells[j.index];else if(T){var A=T;delete I.cells[j.index],T=null,A.width=j.width+N}else{var A=I.cells[j.index];if(!A)continue;if(E=A.colSpan,N=0,A.colSpan>1){T=A,N+=j.width;continue}A.width=j.width+N}}}function k(S,P){for(var O={count:0,height:0},I=0,T=S.allRows();I<T.length;I++){for(var N=T[I],E=0,M=S.columns;E<M.length;E++){var j=M[E],A=N.cells[j.index];if(A){P.applyStyles(A.styles,!0);var Y=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=P.splitTextToSize(A.text,Y+1/P.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=y(A.text,Y,A.styles,P,"...");else if(A.styles.overflow==="hidden")A.text=y(A.text,Y,A.styles,P,"");else if(typeof A.styles.overflow=="function"){var z=A.styles.overflow(A.text,Y);typeof z=="string"?A.text=[z]:A.text=z}A.contentHeight=A.getContentHeight(P.scaleFactor(),P.getLineHeightFactor());var ne=A.contentHeight/A.rowSpan;A.rowSpan>1&&O.count*O.height<ne*A.rowSpan?O={height:ne,count:A.rowSpan}:O&&O.count>0&&O.height>ne&&(ne=O.height),ne>N.height&&(N.height=ne)}}O.count--}}function y(S,P,O,I,T){return S.map(function(N){return b(N,P,O,I,T)})}l.ellipsize=y;function b(S,P,O,I,T){var N=1e4*I.scaleFactor();if(P=Math.ceil(P*N)/N,P>=(0,u.getStringWidth)(S,O,I))return S;for(;P<(0,u.getStringWidth)(S+T,O,I)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+T}},964:function(o){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var c=i[o]={exports:{}};return r[o].call(c.exports,c,c.exports,s),c.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),c=s(776),u=s(664),h=s(972),p=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return p.Table}});var f=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var v=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return v.Row}});function w(P){(0,l.default)(P)}o.applyPlugin=w;function k(P,O){var I=(0,c.parseInput)(P,O),T=(0,h.createTable)(P,I);(0,u.drawTable)(P,T)}function y(P,O){var I=(0,c.parseInput)(P,O);return(0,h.createTable)(P,I)}o.__createTable=y;function b(P,O){(0,u.drawTable)(P,O)}o.__drawTable=b;try{var S=s(964);S.jsPDF&&(S=S.jsPDF),w(S)}catch{}o.default=k}(),a}()})})(s8);function zi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const b4=6048e5,o8=864e5,w4=6e4,_4=36e5;let l8={};function cg(){return l8}function vh(t,e){var o,l,c,u;const n=cg(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=zi(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function pp(t){return vh(t,{weekStartsOn:1})}function S4(t){const e=zi(t),n=e.getFullYear(),r=Bo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=pp(r),s=Bo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=pp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ox(t){const e=zi(t);return e.setHours(0,0,0,0),e}function lx(t){const e=zi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function c8(t,e){const n=ox(t),r=ox(e),i=+n-lx(n),s=+r-lx(r);return Math.round((i-s)/o8)}function u8(t){const e=S4(t),n=Bo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),pp(n)}function h8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function d8(t){if(!h8(t)&&typeof t!="number")return!1;const e=zi(t);return!isNaN(Number(e))}function f8(t){const e=zi(t),n=Bo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const p8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g8=(t,e,n)=>{let r;const i=p8[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const m8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x8={date:Jm({formats:m8,defaultWidth:"full"}),time:Jm({formats:y8,defaultWidth:"full"}),dateTime:Jm({formats:v8,defaultWidth:"full"})},b8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w8=(t,e,n,r)=>b8[t];function lu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const _8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j8={ordinalNumber:C8,era:lu({values:_8,defaultWidth:"wide"}),quarter:lu({values:S8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lu({values:k8,defaultWidth:"wide"}),day:lu({values:N8,defaultWidth:"wide"}),dayPeriod:lu({values:P8,defaultWidth:"wide",formattingValues:A8,defaultFormattingWidth:"wide"})};function cu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?E8(o,h=>h.test(a)):L8(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function L8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function E8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function T8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const O8=/^(\d+)(th|st|nd|rd)?/i,M8=/\d+/i,R8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D8={any:[/^b/i,/^(a|c)/i]},F8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I8={any:[/1/i,/2/i,/3/i,/4/i]},B8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q8={ordinalNumber:T8({matchPattern:O8,parsePattern:M8,valueCallback:t=>parseInt(t,10)}),era:cu({matchPatterns:R8,defaultMatchWidth:"wide",parsePatterns:D8,defaultParseWidth:"any"}),quarter:cu({matchPatterns:F8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cu({matchPatterns:B8,defaultMatchWidth:"wide",parsePatterns:z8,defaultParseWidth:"any"}),day:cu({matchPatterns:$8,defaultMatchWidth:"wide",parsePatterns:U8,defaultParseWidth:"any"}),dayPeriod:cu({matchPatterns:W8,defaultMatchWidth:"any",parsePatterns:H8,defaultParseWidth:"any"})},V8={code:"en-US",formatDistance:g8,formatLong:x8,formatRelative:w8,localize:j8,match:q8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y8(t){const e=zi(t);return c8(e,f8(e))+1}function G8(t){const e=zi(t),n=+pp(e)-+u8(e);return Math.round(n/b4)+1}function k4(t,e){var u,h,p,f;const n=zi(t),r=n.getFullYear(),i=cg(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Bo(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=vh(a,e),l=Bo(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=vh(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function J8(t,e){var o,l,c,u;const n=cg(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=k4(t,e),s=Bo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),vh(s,e)}function K8(t,e){const n=zi(t),r=+vh(n,e)-+J8(n,e);return Math.round(r/b4)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const sa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tt(i,e.length)}},Cl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cx={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return sa.y(t,e)},Y:function(t,e,n,r){const i=k4(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Tt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tt(s,e.length)},R:function(t,e){const n=S4(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return sa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=K8(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,n){const r=G8(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):sa.d(t,e)},D:function(t,e,n){const r=Y8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Cl.noon:r===0?i=Cl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Cl.evening:r>=12?i=Cl.afternoon:r>=4?i=Cl.morning:i=Cl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return sa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):sa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):sa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):sa.s(t,e)},S:function(t,e){return sa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hx(r);case"XXXX":case"XX":return mo(r);case"XXXXX":case"XXX":default:return mo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hx(r);case"xxxx":case"xx":return mo(r);case"xxxxx":case"xxx":default:return mo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ux(r,":");case"OOOO":default:return"GMT"+mo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ux(r,":");case"zzzz":default:return"GMT"+mo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Tt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Tt(r,e.length)}};function ux(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Tt(s,2)}function hx(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):mo(t,e)}function mo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tt(Math.trunc(r/60),2),s=Tt(r%60,2);return n+i+e+s}const dx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return dx(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",dx(r,e)).replace("{{time}}",N4(i,e))},Q8={p:N4,P:X8},Z8=/^D+$/,eE=/^Y+$/,tE=["D","DD","YY","YYYY"];function nE(t){return Z8.test(t)}function rE(t){return eE.test(t)}function iE(t,e,n){const r=sE(t,e,n);if(console.warn(r),tE.includes(t))throw new RangeError(r)}function sE(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lE=/^'([^]*?)'?$/,cE=/''/g,uE=/[a-zA-Z]/;function jf(t,e,n){var u,h,p,f;const r=cg(),i=r.locale??V8,s=r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,o=zi(t);if(!d8(o))throw new RangeError("Invalid time value");let l=e.match(oE).map(v=>{const w=v[0];if(w==="p"||w==="P"){const k=Q8[w];return k(v,i.formatLong)}return v}).join("").match(aE).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:hE(v)};if(cx[w])return{isToken:!0,value:v};if(w.match(uE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const w=v.value;(rE(w)||nE(w))&&iE(w,e,String(t));const k=cx[w[0]];return k(o,w,i.localize,c)}).join("")}function hE(t){const e=t.match(lE);return e?e[1].replace(cE,"'"):t}function Lf(t,e){const r=gE(t);let i;if(r.date){const l=mE(r.date,2);i=yE(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(r.time&&(a=vE(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=xE(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const ef={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gE(t){const e={},n=t.split(ef.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ef.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ef.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=ef.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function mE(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function yE(t,e){if(e===null)return new Date(NaN);const n=t.match(dE);if(!n)return new Date(NaN);const r=!!n[4],i=uu(n[1]),s=uu(n[2])-1,a=uu(n[3]),o=uu(n[4]),l=uu(n[5])-1;if(r)return kE(e,o,l)?bE(e,o,l):new Date(NaN);{const c=new Date(0);return!_E(e,s,a)||!SE(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function uu(t){return t?parseInt(t):1}function vE(t){const e=t.match(fE);if(!e)return NaN;const n=Km(e[1]),r=Km(e[2]),i=Km(e[3]);return NE(n,r,i)?n*_4+r*w4+i*1e3:NaN}function Km(t){return t&&parseFloat(t.replace(",","."))||0}function xE(t){if(t==="Z")return 0;const e=t.match(pE);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return PE(r,i)?n*(r*_4+i*w4):NaN}function bE(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const wE=[31,null,31,30,31,30,31,31,30,31,30,31];function P4(t){return t%400===0||t%4===0&&t%100!==0}function _E(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(wE[e]||(P4(t)?29:28))}function SE(t,e){return e>=1&&e<=(P4(t)?366:365)}function kE(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function NE(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function PE(t,e){return e>=0&&e<=59}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dh(t){return t+.5|0}const xa=(t,e,n)=>Math.max(Math.min(t,n),e);function wu(t){return xa(Dh(t*2.55),0,255)}function Oa(t){return xa(Dh(t*255),0,255)}function js(t){return xa(Dh(t/2.55)/100,0,1)}function fx(t){return xa(Dh(t*100),0,100)}const oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F1=[..."0123456789ABCDEF"],AE=t=>F1[t&15],CE=t=>F1[(t&240)>>4]+F1[t&15],tf=t=>(t&240)>>4===(t&15),jE=t=>tf(t.r)&&tf(t.g)&&tf(t.b)&&tf(t.a);function LE(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&oi[t[1]]*17,g:255&oi[t[2]]*17,b:255&oi[t[3]]*17,a:e===5?oi[t[4]]*17:255}:(e===7||e===9)&&(n={r:oi[t[1]]<<4|oi[t[2]],g:oi[t[3]]<<4|oi[t[4]],b:oi[t[5]]<<4|oi[t[6]],a:e===9?oi[t[7]]<<4|oi[t[8]]:255})),n}const EE=(t,e)=>t<255?e(t):"";function TE(t){var e=jE(t)?AE:CE;return t?"#"+e(t.r)+e(t.g)+e(t.b)+EE(t.a,e):void 0}const OE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A4(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function ME(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function RE(t,e,n){const r=A4(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function DE(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function f2(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=DE(n,r,i,u,s),l=l*60+.5),[l|0,c||0,o]}function p2(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Oa)}function g2(t,e,n){return p2(A4,t,e,n)}function FE(t,e,n){return p2(RE,t,e,n)}function IE(t,e,n){return p2(ME,t,e,n)}function C4(t){return(t%360+360)%360}function BE(t){const e=OE.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wu(+e[5]):Oa(+e[5]));const i=C4(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=FE(i,s,a):e[1]==="hsv"?r=IE(i,s,a):r=g2(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function zE(t,e){var n=f2(t);n[0]=C4(n[0]+e),n=g2(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $E(t){if(!t)return;const e=f2(t),n=e[0],r=fx(e[1]),i=fx(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${js(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const px={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UE(){const t={},e=Object.keys(gx),n=Object.keys(px);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,px[s]);s=parseInt(gx[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let nf;function WE(t){nf||(nf=UE(),nf.transparent=[0,0,0,0]);const e=nf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qE(t){const e=HE.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?wu(a):xa(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?wu(r):xa(r,0,255)),i=255&(e[4]?wu(i):xa(i,0,255)),s=255&(e[6]?wu(s):xa(s,0,255)),{r,g:i,b:s,a:n}}}function VE(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${js(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Xm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,jl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YE(t,e,n){const r=jl(js(t.r)),i=jl(js(t.g)),s=jl(js(t.b));return{r:Oa(Xm(r+n*(jl(js(e.r))-r))),g:Oa(Xm(i+n*(jl(js(e.g))-i))),b:Oa(Xm(s+n*(jl(js(e.b))-s))),a:t.a+n*(e.a-t.a)}}function rf(t,e,n){if(t){let r=f2(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=g2(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function j4(t,e){return t&&Object.assign(e||{},t)}function mx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Oa(t[3]))):(e=j4(t,{r:0,g:0,b:0,a:1}),e.a=Oa(e.a)),e}function GE(t){return t.charAt(0)==="r"?qE(t):BE(t)}class xh{constructor(e){if(e instanceof xh)return e;const n=typeof e;let r;n==="object"?r=mx(e):n==="string"&&(r=LE(e)||WE(e)||GE(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=j4(this._rgb);return e&&(e.a=js(e.a)),e}set rgb(e){this._rgb=mx(e)}rgbString(){return this._valid?VE(this._rgb):void 0}hexString(){return this._valid?TE(this._rgb):void 0}hslString(){return this._valid?$E(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=YE(this._rgb,e._rgb,n)),this}clone(){return new xh(this.rgb)}alpha(e){return this._rgb.a=Oa(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Dh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rf(this._rgb,2,e),this}darken(e){return rf(this._rgb,2,-e),this}saturate(e){return rf(this._rgb,1,e),this}desaturate(e){return rf(this._rgb,1,-e),this}rotate(e){return zE(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const JE=(()=>{let t=0;return()=>t++})();function xt(t){return t==null}function Zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function St(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function un(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Wr(t,e){return un(t)?t:e}function gt(t,e){return typeof t>"u"?e:t}const KE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,L4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ht(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ot(t,e,n,r){let i,s,a;if(Zt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(St(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function gp(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function mp(t){if(Zt(t))return t.map(mp);if(St(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=mp(t[n[i]]);return e}return t}function E4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function XE(t,e,n,r){if(!E4(t))return;const i=e[t],s=n[t];St(i)&&St(s)?bh(i,s,r):e[t]=mp(s)}function bh(t,e,n){const r=Zt(e)?e:[e],i=r.length;if(!St(t))return t;n=n||{};const s=n.merger||XE;let a;for(let o=0;o<i;++o){if(a=r[o],!St(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,n)}return t}function Hu(t,e){return bh(t,e,{merger:QE})}function QE(t,e,n){if(!E4(t))return;const r=e[t],i=n[t];St(r)&&St(i)?Hu(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=mp(i))}const yx={"":t=>t,x:t=>t.x,y:t=>t.y};function ZE(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function e7(t){const e=ZE(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ia(t,e){return(yx[e]||(yx[e]=e7(e)))(t)}function m2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wh=t=>typeof t<"u",Ba=t=>typeof t=="function",vx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function t7(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xt=Math.PI,Kt=2*Xt,n7=Kt+Xt,yp=Number.POSITIVE_INFINITY,r7=Xt/180,xn=Xt/2,ao=Xt/4,xx=Xt*2/3,ba=Math.log10,cs=Math.sign;function qu(t,e,n){return Math.abs(t-e)<n}function bx(t){const e=Math.round(t);t=qu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ba(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function i7(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function s7(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function uc(t){return!s7(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function a7(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function T4(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ti(t){return t*(Xt/180)}function y2(t){return t*(180/Xt)}function wx(t){if(!un(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function O4(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Xt&&(s+=Kt),{angle:s,distance:i}}function I1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function o7(t,e){return(t-e+n7)%Kt-Xt}function qr(t){return(t%Kt+Kt)%Kt}function _h(t,e,n,r){const i=qr(t),s=qr(e),a=qr(n),o=qr(s-i),l=qr(a-i),c=qr(i-s),u=qr(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function $n(t,e,n){return Math.max(e,Math.min(n,t))}function l7(t){return $n(t,-32768,32767)}function Os(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function v2(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ms=(t,e,n,r)=>v2(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),c7=(t,e,n)=>v2(t,n,r=>t[r][e]>=n);function u7(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const M4=["push","pop","shift","splice","unshift"];function h7(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),M4.forEach(n=>{const r="_onData"+m2(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function _x(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(M4.forEach(s=>{delete t[s]}),delete t._chartjs)}function R4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const D4=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function F4(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,D4.call(window,()=>{r=!1,t.apply(e,n)}))}}function d7(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const x2=t=>t==="start"?"left":t==="end"?"right":"center",ir=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,f7=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function I4(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:h,max:p,minDefined:f,maxDefined:v}=a.getUserBounds();if(f){if(i=Math.min(Ms(l,u,h).lo,n?r:Ms(e,u,a.getPixelForValue(h)).lo),c){const w=l.slice(0,i+1).reverse().findIndex(k=>!xt(k[o.axis]));i-=Math.max(0,w)}i=$n(i,0,r-1)}if(v){let w=Math.max(Ms(l,a.axis,p,!0).hi+1,n?0:Ms(e,u,a.getPixelForValue(p),!0).hi+1);if(c){const k=l.slice(w-1).findIndex(y=>!xt(y[o.axis]));w+=Math.max(0,k)}s=$n(w,i,r)-i}else s=r-i}return{start:i,count:s}}function B4(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const sf=t=>t===0||t===1,Sx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Kt/n)),kx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Kt/n)+1,Vu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xn)+1,easeOutSine:t=>Math.sin(t*xn),easeInOutSine:t=>-.5*(Math.cos(Xt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>sf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>sf(t)?t:Sx(t,.075,.3),easeOutElastic:t=>sf(t)?t:kx(t,.075,.3),easeInOutElastic(t){return sf(t)?t:t<.5?.5*Sx(t*2,.1125,.45):.5+.5*kx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vu.easeInBounce(t*2)*.5:Vu.easeOutBounce(t*2-1)*.5+.5};function b2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Nx(t){return b2(t)?t:new xh(t)}function Qm(t){return b2(t)?t:new xh(t).saturate(.5).darken(.1).hexString()}const p7=["x","y","borderWidth","radius","tension"],g7=["color","borderColor","backgroundColor"];function m7(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:g7},numbers:{type:"number",properties:p7}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function y7(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Px=new Map;function v7(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Px.get(n);return r||(r=new Intl.NumberFormat(t,e),Px.set(n,r)),r}function Fh(t,e,n){return v7(e,n).format(t)}const z4={values(t){return Zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=x7(t,n)}const a=ba(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Fh(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(ba(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?z4.numeric.call(this,t,e,n):""}};function x7(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ug={formatters:z4};function b7(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ug.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zo=Object.create(null),B1=Object.create(null);function Yu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Zm(t,e,n){return typeof e=="string"?bh(Yu(t,e),n):bh(Yu(t,""),e)}class w7{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Qm(i.backgroundColor),this.hoverBorderColor=(r,i)=>Qm(i.borderColor),this.hoverColor=(r,i)=>Qm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Zm(this,e,n)}get(e){return Yu(this,e)}describe(e,n){return Zm(B1,e,n)}override(e,n){return Zm(zo,e,n)}route(e,n,r,i){const s=Yu(this,e),a=Yu(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[i];return St(l)?Object.assign({},c,l):gt(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var en=new w7({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[m7,y7,b7]);function _7(t){return!t||xt(t.size)||xt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vp(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function S7(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,u,h,p;for(l=0;l<o;l++)if(h=n[l],h!=null&&!Zt(h))a=vp(t,i,s,a,h);else if(Zt(h))for(c=0,u=h.length;c<u;c++)p=h[c],p!=null&&!Zt(p)&&(a=vp(t,i,s,a,p));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function oo(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Ax(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function z1(t,e,n,r){$4(t,e,n,r,null)}function $4(t,e,n,r,i){let s,a,o,l,c,u,h,p;const f=e.pointStyle,v=e.rotation,w=e.radius;let k=(v||0)*r7;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(k),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,w,0,0,Kt):t.arc(n,r,w,0,Kt),t.closePath();break;case"triangle":u=i?i/2:w,t.moveTo(n+Math.sin(k)*u,r-Math.cos(k)*w),k+=xx,t.lineTo(n+Math.sin(k)*u,r-Math.cos(k)*w),k+=xx,t.lineTo(n+Math.sin(k)*u,r-Math.cos(k)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,a=Math.cos(k+ao)*l,h=Math.cos(k+ao)*(i?i/2-c:l),o=Math.sin(k+ao)*l,p=Math.sin(k+ao)*(i?i/2-c:l),t.arc(n-h,r-o,c,k-Xt,k-xn),t.arc(n+p,r-a,c,k-xn,k),t.arc(n+h,r+o,c,k,k+xn),t.arc(n-p,r+a,c,k+xn,k+Xt),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*w,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}k+=ao;case"rectRot":h=Math.cos(k)*(i?i/2:w),a=Math.cos(k)*w,o=Math.sin(k)*w,p=Math.sin(k)*(i?i/2:w),t.moveTo(n-h,r-o),t.lineTo(n+p,r-a),t.lineTo(n+h,r+o),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":k+=ao;case"cross":h=Math.cos(k)*(i?i/2:w),a=Math.cos(k)*w,o=Math.sin(k)*w,p=Math.sin(k)*(i?i/2:w),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":h=Math.cos(k)*(i?i/2:w),a=Math.cos(k)*w,o=Math.sin(k)*w,p=Math.sin(k)*(i?i/2:w),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),k+=ao,h=Math.cos(k)*(i?i/2:w),a=Math.cos(k)*w,o=Math.sin(k)*w,p=Math.sin(k)*(i?i/2:w),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=i?i/2:Math.cos(k)*w,o=Math.sin(k)*w,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(k)*(i?i/2:w),r+Math.sin(k)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Rs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dg(t){t.restore()}function k7(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function N7(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function P7(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),xt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function A7(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function C7(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $o(t,e,n,r,i,s={}){const a=Zt(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,P7(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&C7(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),xt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),A7(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Sh(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Xt,Xt,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Xt,xn,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,xn,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-xn,!0),t.lineTo(n+a.topLeft,r)}const j7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,L7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function E7(t,e){const n=(""+t).match(j7);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const T7=t=>+t||0;function w2(t,e){const n={},r=St(e),i=r?Object.keys(e):e,s=St(t)?r?a=>gt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=T7(s(a));return n}function U4(t){return w2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function To(t){return w2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ur(t){const e=U4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||en.font;let n=gt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=gt(t.style,e.style);r&&!(""+r).match(L7)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:gt(t.family,e.family),lineHeight:E7(gt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:gt(t.weight,e.weight),string:""};return i.string=_7(i),i}function _u(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function O7(t,e,n){const{min:r,max:i}=t,s=L4(e,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Va(t,e){return Object.assign(Object.create(t),e)}function _2(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=V4("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>_2([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return H4(o,l,()=>$7(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return jx(o).includes(l)},ownKeys(o){return jx(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function hc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:W4(t,r),setContext:s=>hc(t,s,n,r),override:s=>hc(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return H4(s,a,()=>R7(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function W4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ba(n)?n:()=>n,isIndexable:Ba(r)?r:()=>r}}const M7=(t,e)=>t?t+m2(e):e,S2=(t,e)=>St(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function H4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function R7(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return Ba(o)&&a.isScriptable(e)&&(o=D7(e,o,t,n)),Zt(o)&&o.length&&(o=F7(e,o,t,a.isIndexable)),S2(e,o)&&(o=hc(o,i,s&&s[e],a)),o}function D7(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||r);return o.delete(t),S2(t,l)&&(l=k2(i._scopes,i,t,l)),l}function F7(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(St(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=k2(c,i,t,u);e.push(hc(h,s,a&&a[t],o))}}return e}function q4(t,e,n){return Ba(t)?t(e,n):t}const I7=(t,e)=>t===!0?e:typeof t=="string"?Ia(e,t):void 0;function B7(t,e,n,r,i){for(const s of e){const a=I7(n,s);if(a){t.add(a);const o=q4(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function k2(t,e,n,r){const i=e._rootScopes,s=q4(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let l=Cx(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Cx(o,a,s,l,r),l===null)?!1:_2(Array.from(o),[""],i,s,()=>z7(e,n,r))}function Cx(t,e,n,r,i){for(;n;)n=B7(t,e,n,r,i);return n}function z7(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Zt(i)&&St(n)?n:i||{}}function $7(t,e,n,r){let i;for(const s of e)if(i=V4(M7(s,t),n),typeof i<"u")return S2(t,i)?k2(n,r,t,i):i}function V4(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function jx(t){let e=t._keys;return e||(e=t._keys=U7(t._scopes)),e}function U7(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Y4(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=e[c],a[o]={r:i.parse(Ia(u,s),c)};return a}const W7=Number.EPSILON||1e-14,dc=(t,e)=>e<t.length&&!t[e].skip&&t[e],G4=t=>t==="x"?"y":"x";function H7(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,o=I1(s,i),l=I1(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,p=r*u;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+p*(a.x-i.x),y:s.y+p*(a.y-i.y)}}}function q7(t,e,n){const r=t.length;let i,s,a,o,l,c=dc(t,0);for(let u=0;u<r-1;++u)if(l=c,c=dc(t,u+1),!(!l||!c)){if(qu(e[u],0,W7)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=i*a*e[u],n[u+1]=s*a*e[u])}}function V7(t,e,n="x"){const r=G4(n),i=t.length;let s,a,o,l=dc(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=dc(t,c+1),!o)continue;const u=o[n],h=o[r];a&&(s=(u-a[n])/3,o[`cp1${n}`]=u-s,o[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,o[`cp2${n}`]=u+s,o[`cp2${r}`]=h+s*e[c])}}function Y7(t,e="x"){const n=G4(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=dc(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=dc(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[n]-l[n])/u:0}s[a]=o?c?cs(i[a-1])!==cs(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}q7(t,i,s),V7(t,s,e)}function af(t,e,n){return Math.max(Math.min(t,n),e)}function G7(t,e){let n,r,i,s,a,o=Rs(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=o,o=n<r-1&&Rs(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=af(i.cp1x,e.left,e.right),i.cp1y=af(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=af(i.cp2x,e.left,e.right),i.cp2y=af(i.cp2y,e.top,e.bottom)))}function J7(t,e,n,r,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Y7(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=H7(c,o,t[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&G7(t,n)}function N2(){return typeof window<"u"&&typeof document<"u"}function P2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xp(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const fg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function K7(t,e){return fg(t).getPropertyValue(e)}const X7=["top","right","bottom","left"];function Oo(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=X7[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Q7=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Z7(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(Q7(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function yo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=fg(n),s=i.boxSizing==="border-box",a=Oo(i,"padding"),o=Oo(i,"border","width"),{x:l,y:c,box:u}=Z7(t,n),h=a.left+(u&&o.left),p=a.top+(u&&o.top);let{width:f,height:v}=e;return s&&(f-=a.width+o.width,v-=a.height+o.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-p)/v*n.height/r)}}function eT(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&P2(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=fg(s),l=Oo(o,"border","width"),c=Oo(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=xp(o.maxWidth,s,"clientWidth"),i=xp(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||yp,maxHeight:i||yp}}const of=t=>Math.round(t*10)/10;function tT(t,e,n,r){const i=fg(t),s=Oo(i,"margin"),a=xp(i.maxWidth,t,"clientWidth")||yp,o=xp(i.maxHeight,t,"clientHeight")||yp,l=eT(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const p=Oo(i,"border","width"),f=Oo(i,"padding");c-=f.width+p.width,u-=f.height+p.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=of(Math.min(c,a,l.maxWidth)),u=of(Math.min(u,o,l.maxHeight)),c&&!u&&(u=of(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=of(Math.floor(u*r))),{width:c,height:u}}function Lx(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const nT=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};N2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Ex(t,e){const n=K7(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function rT(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function iT(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=vo(t,i,n),o=vo(i,s,n),l=vo(s,e,n),c=vo(a,o,n),u=vo(o,l,n);return vo(c,u,n)}const sT=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},aT=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tc(t,e,n){return t?sT(e,n):aT()}function J4(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function K4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function X4(t){return t==="angle"?{between:_h,compare:o7,normalize:qr}:{between:Os,compare:(e,n)=>e-n,normalize:e=>e}}function Tx({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function oT(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=X4(r),l=e.length;let{start:c,end:u,loop:h}=t,p,f;if(h){for(c+=l,u+=l,p=0,f=l;p<f&&a(o(e[c%l][r]),i,s);++p)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function Q4(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=X4(r),{start:u,end:h,loop:p,style:f}=oT(t,e,n),v=[];let w=!1,k=null,y,b,S;const P=()=>l(i,S,y)&&o(i,S)!==0,O=()=>o(s,y)===0||l(s,S,y),I=()=>w||P(),T=()=>!w||O();for(let N=u,E=u;N<=h;++N)b=e[N%a],!b.skip&&(y=c(b[r]),y!==S&&(w=l(y,i,s),k===null&&I()&&(k=o(y,i)===0?N:E),k!==null&&T()&&(v.push(Tx({start:k,end:N,loop:p,count:a,style:f})),k=null),E=N,S=y));return k!==null&&v.push(Tx({start:k,end:h,loop:p,count:a,style:f})),v}function Z4(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=Q4(r[i],t.points,e);s.length&&n.push(...s)}return n}function lT(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function cT(t,e,n,r){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function uT(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=lT(n,i,s,r);if(r===!0)return Ox(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return Ox(t,cT(n,a,l,c),n,e)}function Ox(t,e,n,r){return!r||!r.setContext||!n?e:hT(t,e,n,r)}function hT(t,e,n,r){const i=t._chart.getContext(),s=Mx(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=s,h=e[0].start,p=h;function f(v,w,k,y){const b=o?-1:1;if(v!==w){for(v+=l;n[v%l].skip;)v-=b;for(;n[w%l].skip;)w+=b;v%l!==w%l&&(c.push({start:v%l,end:w%l,loop:k,style:y}),u=y,h=w%l)}}for(const v of e){h=o?h:v.start;let w=n[h%l],k;for(p=h+1;p<=v.end;p++){const y=n[p%l];k=Mx(r.setContext(Va(i,{type:"segment",p0:w,p1:y,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),dT(k,u)&&f(h,p-1,v.loop,u),w=y,u=k}h<p-1&&f(h,p-1,v.loop,u)}return c}function Mx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dT(t,e){if(!e)return!1;const n=[],r=function(i,s){return b2(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function lf(t,e,n){return t.options.clip?t[n]:e[n]}function fT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:lf(n,e,"left"),right:lf(n,e,"right"),top:lf(r,e,"top"),bottom:lf(r,e,"bottom")}:e}function eS(t,e){const n=e._clip;if(n.disabled)return!1;const r=fT(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=D4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ks=new pT;const Rx="transparent",gT={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Nx(t||Rx),i=r.valid&&Nx(e||Rx);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class mT{constructor(e,n,r,i){const s=n[r];i=_u([e.to,i,s,e.from]);const a=_u([e.from,s,i]);this._active=!0,this._fn=e.fn||gT[e.type||typeof a],this._easing=Vu[e.easing]||Vu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=_u([e.to,n,i,e.from]),this._from=_u([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class tS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!St(e))return;const n=Object.keys(en.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!St(s))return;const a={};for(const o of n)a[o]=s[o];(Zt(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=vT(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&yT(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const p=r.get(c);if(h)if(p&&h.active()){h.update(p,u,o);continue}else h.cancel();if(!p||!p.duration){e[c]=u;continue}s[c]=h=new mT(p,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ks.add(this._chart,r),!0}}function yT(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function vT(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Dx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function xT(t,e,n){if(n===!1)return!1;const r=Dx(t,n),i=Dx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function bT(t){let e,n,r,i;return St(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function nS(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Fx(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=t.values[l],un(c)&&(s||e===0||cs(e)===cs(c))&&(e+=c)}return!u&&!r.all?0:e}function wT(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function e0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function _T(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ST(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function kT(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Ix(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Bx(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=_T(s,a,r),h=e.length;let p;for(let f=0;f<h;++f){const v=e[f],{[l]:w,[c]:k}=v,y=v._stacks||(v._stacks={});p=y[c]=kT(i,u,w),p[o]=k,p._top=Ix(p,a,!0,r.type),p._bottom=Ix(p,a,!1,r.type);const b=p._visualValues||(p._visualValues={});b[o]=k}}function t0(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function NT(t,e){return Va(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PT(t,e,n){return Va(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const n0=t=>t==="reset"||t==="none",zx=(t,e)=>e?t:Object.assign({},t),AT=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:nS(n,!0),values:null};class Ri{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=e0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,p,f,v)=>h==="x"?p:h==="r"?v:f,s=n.xAxisID=gt(r.xAxisID,t0(e,"x")),a=n.yAxisID=gt(r.yAxisID,t0(e,"y")),o=n.rAxisID=gt(r.rAxisID,t0(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,a,o),u=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_x(this._data,this),e._stacked&&hu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(St(n)){const i=this._cachedMeta;this._data=wT(n,i)}else if(r!==n){if(r){_x(r,this);const i=this._cachedMeta;hu(i),i._parsed=[]}n&&Object.isExtensible(n)&&h7(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=e0(n.vScale,n),n.stack!==r.stack&&(i=!0,hu(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Bx(this,n._parsed),n._stacked=e0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{Zt(i[e])?p=this.parseArrayData(r,i,e,n):St(i[e])?p=this.parseObjectData(r,i,e,n):p=this.parsePrimitiveData(r,i,e,n);const f=()=>h[o]===null||c&&h[o]<c[o];for(u=0;u<n;++u)r._parsed[u+e]=h=p[u],l&&(f()&&(l=!1),c=h);r._sorted=l}a&&Bx(this,p)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,h=new Array(i);let p,f,v;for(p=0,f=i;p<f;++p)v=p+r,h[p]={[o]:u||s.parse(c[v],v),[l]:a.parse(n[v],v)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],o[l]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,p,f;for(u=0,h=i;u<h;++u)p=u+r,f=n[p],c[u]={x:s.parse(Ia(f,o),p),y:a.parse(Ia(f,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:nS(i,!0),values:n._stacks[e.axis]._visualValues};return Fx(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=Fx(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=AT(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=ST(o);let p,f;function v(){f=i[p];const w=f[o.axis];return!un(f[e.axis])||u>w||h<w}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(c,e,f,l),s));++p);if(s){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],un(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bT(gt(this.options.clip,xT(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const h=i[u];h.hidden||(h.active&&c?a.push(h):h.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=PT(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=NT(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&wh(r);if(o)return zx(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),u),f=Object.keys(en.elements[e]),v=()=>this.getContext(r,i,n),w=c.resolveNamedOptions(p,f,v,h);return w.$shared&&(w.$shared=l,s[a]=Object.freeze(zx(w,l))),w}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),p=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(p,this.getContext(e,r,n))}const c=new tS(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||n0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){n0(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!n0(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&hu(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(Ri,"defaults",{}),Ie(Ri,"datasetElementType",null),Ie(Ri,"dataElementType",null);function CT(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=R4(r.sort((i,s)=>i-s))}return t._cache.$bar}function jT(t){const e=t.iScale,n=CT(e,t.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(wh(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function LT(t,e,n,r){const i=n.barThickness;let s,a;return xt(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function ET(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function TT(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function rS(t,e,n,r){return Zt(t)?TT(t,e,n,r):e[n.axis]=n.parse(t,r),e}function $x(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,h,p;for(c=n,u=n+r;c<u;++c)p=e[c],h={},h[i.axis]=o||i.parse(a[c],c),l.push(rS(p,h,s,c));return l}function r0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function OT(t,e,n){return t!==0?cs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function MT(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function RT(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=MT(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[Ux(u,a,o,l)]=!0,i=c)),s[Ux(i,a,o,l)]=!0,t.borderSkipped=s}function Ux(t,e,n,r){return r?(t=DT(t,e,n),t=Wx(t,n,e)):t=Wx(t,e,n),t}function DT(t,e,n){return t===e?n:t===n?e:t}function Wx(t,e,n){return t==="start"?e:t==="end"?n:t}function FT(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ef extends Ri{parsePrimitiveData(e,n,r,i){return $x(e,n,r,i)}parseArrayData(e,n,r,i){return $x(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,h=[];let p,f,v,w;for(p=r,f=r+i;p<f;++p)w=n[p],v={},v[s.axis]=s.parse(Ia(w,c),p),h.push(rS(Ia(w,u),v,a,p));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,o=r0(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const v=this.getParsed(f),w=s||xt(v[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),k=this._calculateBarIndexPixels(f,u),y=(v._stacks||{})[o.axis],b={horizontal:c,base:w.base,enableBorderRadius:!y||r0(v._custom)||a===y._top||a===y._bottom,x:c?w.head:k.center,y:c?k.center:w.head,height:c?k.size:Math.abs(w.size),width:c?Math.abs(w.size):k.size};p&&(b.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const S=b.options||e[f].options;RT(b,S,y,a),FT(b,S,u.ratio),this.updateElement(e[f],f,b,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=u=>{const h=u._parsed.find(f=>f[r.axis]===l),p=h&&h[u.vScale.axis];if(xt(p)||isNaN(p))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||jT(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=r0(c);let h=l[n.axis],p=0,f=r?this.applyStack(n,l,r):h,v,w;f!==h&&(p=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&cs(h)!==cs(c.barEnd)&&(p=0),p+=h);const k=!xt(s)&&!u?s:p;let y=n.getPixelForValue(k);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(p+f):v=y,w=v-y,Math.abs(w)<a){w=OT(w,n,o)*a,h===o&&(y-=w/2);const b=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),P=Math.min(b,S),O=Math.max(b,S);y=Math.max(Math.min(y,O),P),v=y+w,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(y))}if(y===n.getPixelForValue(o)){const b=cs(w)*n.getLineWidthForValue(o)/2;y+=b,w-=b}return{size:w,base:y,head:v,center:v+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=gt(i.maxBarThickness,1/0);let o,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?ET(e,n,i,c):LT(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*h+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Ie(Ef,"id","bar"),Ie(Ef,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ie(Ef,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Tf extends Ri{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=gt(o[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=gt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=a.axis,h=o.axis;for(let p=n;p<n+r;p++){const f=e[p],v=!s&&this.getParsed(p),w={},k=w[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(v[u]),y=w[h]=s?o.getBasePixel():o.getPixelForValue(v[h]);w.skip=isNaN(k)||isNaN(y),c&&(w.options=l||this.resolveDataElementOptions(p,f.active?"active":i),s&&(w.options.radius=0)),this.updateElement(f,p,w,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=gt(r&&r._custom,s),i}}Ie(Tf,"id","bubble"),Ie(Tf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ie(Tf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function IT(t,e,n){let r=1,i=1,s=0,a=0;if(e<Kt){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),p=Math.sin(l),f=(S,P,O)=>_h(S,o,l,!0)?1:Math.max(P,P*n,O,O*n),v=(S,P,O)=>_h(S,o,l,!0)?-1:Math.min(P,P*n,O,O*n),w=f(0,c,h),k=f(xn,u,p),y=v(Xt,c,h),b=v(Xt+xn,u,p);r=(w-y)/2,i=(k-b)/2,s=-(w+y)/2,a=-(k+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class No extends Ri{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(St(r[e])){const{key:l="value"}=this._parsing;s=c=>+Ia(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Ti(this.options.rotation-90)}_getCircumference(){return Ti(this.options.circumference)}_getRotationExtents(){let e=Kt,n=-Kt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(KE(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:v,offsetY:w}=IT(h,u,l),k=(r.width-a)/p,y=(r.height-a)/f,b=Math.max(Math.min(k,y)/2,0),S=L4(this.options.radius,b),P=Math.max(S*l,0),O=(S-P)/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=w*S,i.total=this.calculateTotal(),this.outerRadius=S-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Kt)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,p=s&&c.animateScale,f=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:w,includeOptions:k}=this._getSharedOptions(n,i);let y=this._getRotation(),b;for(b=0;b<n;++b)y+=this._circumference(b,s);for(b=n;b<n+r;++b){const S=this._circumference(b,s),P=e[b],O={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:v,innerRadius:f};k&&(O.options=w||this.resolveDataElementOptions(b,P.active?"active":i)),y+=S,this.updateElement(P,b,O,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Kt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fh(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(gt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ie(No,"id","doughnut"),Ie(No,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ie(No,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ie(No,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Of extends Ri{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=I4(n,i,a);this._drawStart=o,this._drawCount=l,B4(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),p=a.axis,f=o.axis,{spanGaps:v,segment:w}=this.options,k=uc(v)?v:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",b=n+r,S=e.length;let P=n>0&&this.getParsed(n-1);for(let O=0;O<S;++O){const I=e[O],T=y?I:{};if(O<n||O>=b){T.skip=!0;continue}const N=this.getParsed(O),E=xt(N[f]),M=T[p]=a.getPixelForValue(N[p],O),j=T[f]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,N,l):N[f],O);T.skip=isNaN(M)||isNaN(j)||E,T.stop=O>0&&Math.abs(N[p]-P[p])>k,w&&(T.parsed=N,T.raw=c.data[O]),h&&(T.options=u||this.resolveDataElementOptions(O,I.active?"active":i)),y||this.updateElement(I,O,T,i),P=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ie(Of,"id","line"),Ie(Of,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ie(Of,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Gu extends Ri{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fh(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return Y4.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,p=c.getIndexAngle(0)-.5*Xt;let f=p,v;const w=360/this.countVisibleElements();for(v=0;v<n;++v)f+=this._computeAngle(v,i,w);for(v=n;v<n+r;v++){const k=e[v];let y=f,b=f+this._computeAngle(v,i,w),S=a.getDataVisibility(v)?c.getDistanceFromCenterForValue(this.getParsed(v).r):0;f=b,s&&(l.animateScale&&(S=0),l.animateRotate&&(y=b=p));const P={x:u,y:h,innerRadius:0,outerRadius:S,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(v,k.active?"active":i)};this.updateElement(k,v,P,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ti(this.resolveDataElementOptions(e,n).angle||r):0}}Ie(Gu,"id","polarArea"),Ie(Gu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ie(Gu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $1 extends No{}Ie($1,"id","pie"),Ie($1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Mf extends Ri{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return Y4.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=n;o<n+r;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),u=s.getPointPositionForValue(o,this.getParsed(o).r),h=a?s.xCenter:u.x,p=a?s.yCenter:u.y,f={x:h,y:p,angle:u.angle,skip:isNaN(h)||isNaN(p),options:c};this.updateElement(l,o,f,i)}}}Ie(Mf,"id","radar"),Ie(Mf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ie(Mf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Rf extends Ri{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:a}=I4(n,r,i);if(this._drawStart=s,this._drawCount=a,B4(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),p=this.includeOptions(i,h),f=a.axis,v=o.axis,{spanGaps:w,segment:k}=this.options,y=uc(w)?w:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none";let S=n>0&&this.getParsed(n-1);for(let P=n;P<n+r;++P){const O=e[P],I=this.getParsed(P),T=b?O:{},N=xt(I[v]),E=T[f]=a.getPixelForValue(I[f],P),M=T[v]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,I,l):I[v],P);T.skip=isNaN(E)||isNaN(M)||N,T.stop=P>0&&Math.abs(I[f]-S[f])>y,k&&(T.parsed=I,T.raw=c.data[P]),p&&(T.options=h||this.resolveDataElementOptions(P,O.active?"active":i)),b||this.updateElement(O,P,T,i),S=I}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,a)/2}}Ie(Rf,"id","scatter"),Ie(Rf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ie(Rf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var BT=Object.freeze({__proto__:null,BarController:Ef,BubbleController:Tf,DoughnutController:No,LineController:Of,PieController:$1,PolarAreaController:Gu,RadarController:Mf,ScatterController:Rf});function lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class A2{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(A2.prototype,e)}init(){}formats(){return lo()}parse(){return lo()}format(){return lo()}add(){return lo()}diff(){return lo()}startOf(){return lo()}endOf(){return lo()}}var zT={_date:A2};function $T(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?c7:Ms;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=c(s,e,n-h),f=c(s,e,n+h);return{lo:p.lo,hi:f.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:p}=t,f=p.slice(0,u.lo+1).reverse().findIndex(w=>!xt(w[h.axis]));u.lo-=Math.max(0,f);const v=p.slice(u.hi).findIndex(w=>!xt(w[h.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:s.length-1}}function pg(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:h,hi:p}=$T(s[o],e,a,i);for(let f=h;f<=p;++f){const v=u[f];v.skip||r(v,c,f)}}}function UT(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function i0(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||pg(t,n,e,function(o,l,c){!i&&!Rs(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function WT(t,e,n,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:h}=O4(a,{x:e.x,y:e.y});_h(h,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return pg(t,n,e,s),i}function HT(t,e,n,r,i,s){let a=[];const o=UT(n);let l=Number.POSITIVE_INFINITY;function c(u,h,p){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const v=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(v))&&!f)return;const k=o(e,v);k<l?(a=[{element:u,datasetIndex:h,index:p}],l=k):k===l&&a.push({element:u,datasetIndex:h,index:p})}return pg(t,n,e,c),a}function s0(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?WT(t,e,n,i):HT(t,e,n,r,i,s)}function Hx(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return pg(t,n,e,(l,c,u)=>{l[a]&&l[a](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var qT={modes:{index(t,e,n,r){const i=yo(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?i0(t,i,s,r,a):s0(t,i,s,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?i0(t,i,s,r,a):s0(t,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,r){const i=yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return i0(t,i,s,r,a)},nearest(t,e,n,r){const i=yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return s0(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=yo(e,t);return Hx(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=yo(e,t);return Hx(t,i,"y",n.intersect,r)}}};const iS=["left","top","right","bottom"];function du(t,e){return t.filter(n=>n.pos===e)}function qx(t,e){return t.filter(n=>iS.indexOf(n.pos)===-1&&n.box.axis===e)}function fu(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VT(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function YT(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!iS.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function GT(t,e){const n=YT(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&e.availableHeight)}return n}function JT(t){const e=VT(t),n=fu(e.filter(c=>c.box.fullSize),!0),r=fu(du(e,"left"),!0),i=fu(du(e,"right")),s=fu(du(e,"top"),!0),a=fu(du(e,"bottom")),o=qx(e,"x"),l=qx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:du(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function Vx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function sS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function KT(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!St(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&sS(a,s.getPadding());const o=Math.max(0,e.outerWidth-Vx(a,t,"left","right")),l=Math.max(0,e.outerHeight-Vx(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function XT(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function QT(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Su(t,e,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,QT(o.horizontal,e));const{same:h,other:p}=KT(e,n,o,r);c|=h&&i.length,u=u||p,l.fullSize||i.push(o)}return c&&Su(i,e,n,r)||u}function cf(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Yx(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const h=e.w*u,p=c.size||l.height;wh(c.start)&&(a=c.start),l.fullSize?cf(l,i.left,a,n.outerWidth-i.right-i.left,p):cf(l,e.left+c.placed,a,h,p),c.start=a,c.placed+=h,a=l.bottom}else{const h=e.h*u,p=c.size||l.width;wh(c.start)&&(s=c.start),l.fullSize?cf(l,s,i.top,p,n.outerHeight-i.bottom-i.top):cf(l,s,e.top+c.placed,p,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=a}var or={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=ur(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=JT(t.boxes),l=o.vertical,c=o.horizontal;Ot(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,k)=>k.box.options&&k.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),p=Object.assign({},i);sS(p,ur(r));const f=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),v=GT(l.concat(c),h);Su(o.fullSize,f,h,v),Su(l,f,h,v),Su(c,f,h,v)&&Su(l,f,h,v),XT(f),Yx(o.leftAndTop,f,h,v),f.x+=f.w,f.y+=f.h,Yx(o.rightAndBottom,f,h,v),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ot(o.chartArea,w=>{const k=w.box;Object.assign(k,t.chartArea),k.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class aS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class ZT extends aS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Df="$chartjs",eO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Gx=t=>t===null||t==="";function tO(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Df]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Gx(i)){const s=Ex(t,"width");s!==void 0&&(t.width=s)}if(Gx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Ex(t,"height");s!==void 0&&(t.height=s)}return t}const oS=nT?{passive:!0}:!1;function nO(t,e,n){t&&t.addEventListener(e,n,oS)}function rO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,oS)}function iO(t,e){const n=eO[t.type]||t.type,{x:r,y:i}=yo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function bp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sO(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||bp(o.addedNodes,r),a=a&&!bp(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function aO(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||bp(o.removedNodes,r),a=a&&!bp(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const kh=new Map;let Jx=0;function lS(){const t=window.devicePixelRatio;t!==Jx&&(Jx=t,kh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oO(t,e){kh.size||window.addEventListener("resize",lS),kh.set(t,e)}function lO(t){kh.delete(t),kh.size||window.removeEventListener("resize",lS)}function cO(t,e,n){const r=t.canvas,i=r&&P2(r);if(!i)return;const s=F4((o,l)=>{const c=i.clientWidth;n(o,l),c<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),oO(t,s),a}function a0(t,e,n){n&&n.disconnect(),e==="resize"&&lO(t)}function uO(t,e,n){const r=t.canvas,i=F4(s=>{t.ctx!==null&&n(iO(s,t))},t);return nO(r,e,i),i}class hO extends aS{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tO(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Df])return!1;const r=n[Df].initial;["height","width"].forEach(s=>{const a=r[s];xt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Df],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:sO,detach:aO,resize:cO}[n]||uO;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:a0,detach:a0,resize:a0}[n]||rO)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return tT(e,n,r,i)}isAttached(e){const n=e&&P2(e);return!!(n&&n.isConnected)}}function dO(t){return!N2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ZT:hO}class Fi{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return uc(this.x)&&uc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}Ie(Fi,"defaults",{}),Ie(Fi,"defaultRoutes");function fO(t,e){const n=t.options.ticks,r=pO(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mO(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return yO(e,c,s,a/i),c;const u=gO(s,e,i);if(a>0){let h,p;const f=a>1?Math.round((l-o)/(a-1)):null;for(uf(e,c,u,xt(f)?0:o-f,o),h=0,p=a-1;h<p;h++)uf(e,c,u,s[h],s[h+1]);return uf(e,c,u,l,xt(f)?e.length:l+f),c}return uf(e,c,u),c}function pO(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function gO(t,e,n){const r=vO(t),i=e.length/n;if(!r)return Math.max(i,1);const s=i7(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function mO(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function yO(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function uf(t,e,n,r,i){const s=gt(r,0),a=Math.min(gt(i,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)o++,u=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*n))}function vO(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const xO=t=>t==="left"?"right":t==="right"?"left":t,Kx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Xx=(t,e)=>Math.min(e||t,t);function Qx(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function bO(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function wO(t,e){Ot(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function pu(t){return t.drawTicks?t.tickLength:0}function Zx(t,e){if(!t.display)return 0;const n=Tn(t.font,e),r=ur(t.padding);return(Zt(t.text)?t.text.length:1)*n.lineHeight+r.height}function _O(t,e){return Va(t,{scale:e,type:"scale"})}function SO(t,e,n){return Va(t,{tick:n,index:e,type:"tick"})}function kO(t,e,n){let r=x2(t);return(n&&e!=="right"||!n&&e==="right")&&(r=xO(r)),r}function NO(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,p,f,v;const w=a-i,k=o-s;if(t.isHorizontal()){if(f=ir(r,s,o),St(n)){const y=Object.keys(n)[0],b=n[y];v=u[y].getPixelForValue(b)+w-e}else n==="center"?v=(c.bottom+c.top)/2+w-e:v=Kx(t,n,e);p=o-s}else{if(St(n)){const y=Object.keys(n)[0],b=n[y];f=u[y].getPixelForValue(b)-k+e}else n==="center"?f=(c.left+c.right)/2-k+e:f=Kx(t,n,e);v=ir(r,a,i),h=n==="left"?-xn:xn}return{titleX:f,titleY:v,maxWidth:p,rotation:h}}class Vo extends Fi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Wr(e,Number.POSITIVE_INFINITY),n=Wr(n,Number.NEGATIVE_INFINITY),r=Wr(r,Number.POSITIVE_INFINITY),i=Wr(i,Number.NEGATIVE_INFINITY),{min:Wr(e,r),max:Wr(n,i),minDefined:un(e),maxDefined:un(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Wr(n,Wr(r,n)),max:Wr(r,Wr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O7(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Qx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=fO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ht(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ht(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Xx(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=$n(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),h+6>o&&(o=f/(r-(e.offset?.5:1)),l=this.maxHeight-pu(e.grid)-n.padding-Zx(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),a=y2(Math.min(Math.asin($n((u.highest.height+6)/o,-1,1)),Math.asin($n(l/c,-1,1))-Math.asin($n(p/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Zx(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=pu(s)+l):(e.height=this.maxHeight,e.width=pu(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:p}=this._getLabelSizes(),f=r.padding*2,v=Ti(this.labelRotation),w=Math.cos(v),k=Math.sin(v);if(o){const y=r.mirror?0:k*h.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:w*h.width+k*p.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,k,w)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?c?(p=i*e.width,f=r*n.height):(p=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,f=n.width/2),this.paddingLeft=Math.max((p-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+a)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)xt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Qx(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/Xx(n,r));let c=0,u=0,h,p,f,v,w,k,y,b,S,P,O;for(h=0;h<n;h+=l){if(v=e[h].label,w=this._resolveTickFontOptions(h),i.font=k=w.string,y=s[k]=s[k]||{data:{},gc:[]},b=w.lineHeight,S=P=0,!xt(v)&&!Zt(v))S=vp(i,y.data,y.gc,S,v),P=b;else if(Zt(v))for(p=0,f=v.length;p<f;++p)O=v[p],!xt(O)&&!Zt(O)&&(S=vp(i,y.data,y.gc,S,O),P+=b);a.push(S),o.push(P),c=Math.max(S,c),u=Math.max(P,u)}wO(s,n);const I=a.indexOf(c),T=o.indexOf(u),N=E=>({width:a[E]||0,height:o[E]||0});return{first:N(0),last:N(n-1),widest:N(I),highest:N(T),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return l7(this._alignToPixels?oo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=SO(this.getContext(),e,r))}return this.$context||(this.$context=_O(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ti(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=pu(s),f=[],v=o.setContext(this.getContext()),w=v.display?v.width:0,k=w/2,y=function(G){return oo(r,G,w)};let b,S,P,O,I,T,N,E,M,j,A,Y;if(a==="top")b=y(this.bottom),T=this.bottom-p,E=b-k,j=y(e.top)+k,Y=e.bottom;else if(a==="bottom")b=y(this.top),j=e.top,Y=y(e.bottom)-k,T=b+k,E=this.top+p;else if(a==="left")b=y(this.right),I=this.right-p,N=b-k,M=y(e.left)+k,A=e.right;else if(a==="right")b=y(this.left),M=e.left,A=y(e.right)-k,I=b+k,N=this.left+p;else if(n==="x"){if(a==="center")b=y((e.top+e.bottom)/2+.5);else if(St(a)){const G=Object.keys(a)[0],W=a[G];b=y(this.chart.scales[G].getPixelForValue(W))}j=e.top,Y=e.bottom,T=b+k,E=T+p}else if(n==="y"){if(a==="center")b=y((e.left+e.right)/2);else if(St(a)){const G=Object.keys(a)[0],W=a[G];b=y(this.chart.scales[G].getPixelForValue(W))}I=b-k,N=I-p,M=e.left,A=e.right}const z=gt(i.ticks.maxTicksLimit,h),ne=Math.max(1,Math.ceil(h/z));for(S=0;S<h;S+=ne){const G=this.getContext(S),W=s.setContext(G),H=o.setContext(G),V=W.lineWidth,re=W.color,Z=H.dash||[],C=H.dashOffset,D=W.tickWidth,K=W.tickColor,B=W.tickBorderDash||[],U=W.tickBorderDashOffset;P=bO(this,S,l),P!==void 0&&(O=oo(r,P,V),c?I=N=M=A=O:T=E=j=Y=O,f.push({tx1:I,ty1:T,tx2:N,ty2:E,x1:M,y1:j,x2:A,y2:Y,width:V,color:re,borderDash:Z,borderDashOffset:C,tickWidth:D,tickColor:K,tickBorderDash:B,tickBorderDashOffset:U}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,p=pu(r.grid),f=p+u,v=h?-u:f,w=-Ti(this.labelRotation),k=[];let y,b,S,P,O,I,T,N,E,M,j,A,Y="middle";if(i==="top")I=this.bottom-v,T=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+v,T=this._getXAxisLabelAlignment();else if(i==="left"){const ne=this._getYAxisLabelAlignment(p);T=ne.textAlign,O=ne.x}else if(i==="right"){const ne=this._getYAxisLabelAlignment(p);T=ne.textAlign,O=ne.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+f;else if(St(i)){const ne=Object.keys(i)[0],G=i[ne];I=this.chart.scales[ne].getPixelForValue(G)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")O=(e.left+e.right)/2-f;else if(St(i)){const ne=Object.keys(i)[0],G=i[ne];O=this.chart.scales[ne].getPixelForValue(G)}T=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const z=this._getLabelSizes();for(y=0,b=o.length;y<b;++y){S=o[y],P=S.label;const ne=s.setContext(this.getContext(y));N=this.getPixelForTick(y)+s.labelOffset,E=this._resolveTickFontOptions(y),M=E.lineHeight,j=Zt(P)?P.length:1;const G=j/2,W=ne.color,H=ne.textStrokeColor,V=ne.textStrokeWidth;let re=T;a?(O=N,T==="inner"&&(y===b-1?re=this.options.reverse?"left":"right":y===0?re=this.options.reverse?"right":"left":re="center"),i==="top"?c==="near"||w!==0?A=-j*M+M/2:c==="center"?A=-z.highest.height/2-G*M+M:A=-z.highest.height+M/2:c==="near"||w!==0?A=M/2:c==="center"?A=z.highest.height/2-G*M:A=z.highest.height-j*M,h&&(A*=-1),w!==0&&!ne.showLabelBackdrop&&(O+=M/2*Math.sin(w))):(I=N,A=(1-j)*M/2);let Z;if(ne.showLabelBackdrop){const C=ur(ne.backdropPadding),D=z.heights[y],K=z.widths[y];let B=A-C.top,U=0-C.left;switch(Y){case"middle":B-=D/2;break;case"bottom":B-=D;break}switch(T){case"center":U-=K/2;break;case"right":U-=K;break;case"inner":y===b-1?U-=K:y>0&&(U-=K/2);break}Z={left:U,top:B,width:K+C.width,height:D+C.height,color:ne.backdropColor}}k.push({label:P,font:E,textOffset:A,options:{rotation:w,color:W,strokeColor:H,strokeWidth:V,textAlign:re,textBaseline:Y,translation:[O,I],backdrop:Z}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ti(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,p;this.isHorizontal()?(c=oo(e,this.left,a)-a/2,u=oo(e,this.right,o)+o/2,h=p=l):(h=oo(e,this.top,a)-a/2,p=oo(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&hg(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;$o(r,c,0,u,l,o)}i&&dg(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Tn(r.font),a=ur(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||St(n)?(l+=a.bottom,Zt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:h,rotation:p}=NO(this,l,n,o);$o(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:p,textAlign:kO(o,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=gt(e.grid&&e.grid.z,-1),i=gt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vo.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;CO(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,PO(e,a,r),this.override&&en.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in en[i]&&(delete en[i][r],this.override&&delete zo[r])}}function PO(t,e,n){const r=bh(Object.create(null),[n?en.get(n):{},en.get(e),t.defaults]);en.set(e,r),t.defaultRoutes&&AO(e,t.defaultRoutes),t.descriptors&&en.describe(e,t.descriptors)}function AO(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");en.route(s,i,l,o)})}function CO(t){return"id"in t&&"defaults"in t}class jO{constructor(){this.controllers=new hf(Ri,"datasets",!0),this.elements=new hf(Fi,"elements"),this.plugins=new hf(Object,"plugins"),this.scales=new hf(Vo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ot(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=m2(e);Ht(r["before"+i],[],r),n[e](r),Ht(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ns=new jO;class LO{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[n,i,s.options];if(Ht(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=gt(r.options&&r.options.plugins,{}),s=EO(r);return i===!1&&!n?[]:OO(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function EO(t){const e={},n=[],r=Object.keys(ns.plugins.items);for(let s=0;s<r.length;s++)n.push(ns.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function TO(t,e){return!e&&t===!1?null:t===!0?{}:t}function OO(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=TO(r[l],i);c!==null&&s.push({plugin:o,options:MO(t.config,{plugin:o,local:n[l]},c,a)})}return s}function MO(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function U1(t,e){const n=en.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function RO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function DO(t,e){return t===e?"_index_":"_value_"}function eb(t){if(t==="x"||t==="y"||t==="r")return t}function FO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function W1(t,...e){if(eb(t))return t;for(const n of e){const r=n.axis||FO(n.position)||t.length>1&&eb(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function tb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function IO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return tb(t,"x",n[0])||tb(t,"y",n[0])}return{}}function BO(t,e){const n=zo[t.type]||{scales:{}},r=e.scales||{},i=U1(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!St(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=W1(a,o,IO(a,t),en.scales[o.type]),c=DO(l,i),u=n.scales||{};s[a]=Hu(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||U1(o,e),u=(zo[o]||{}).scales||{};Object.keys(u).forEach(h=>{const p=RO(h,l),f=a[p+"AxisID"]||p;s[f]=s[f]||Object.create(null),Hu(s[f],[{axis:p},r[f],u[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];Hu(o,[en.scales[o.type],en.scale])}),s}function cS(t){const e=t.options||(t.options={});e.plugins=gt(e.plugins,{}),e.scales=BO(t,e)}function uS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zO(t){return t=t||{},t.data=uS(t.data),cS(t),t}const nb=new Map,hS=new Set;function df(t,e){let n=nb.get(t);return n||(n=e(),nb.set(t,n),hS.add(n)),n}const gu=(t,e,n)=>{const r=Ia(e,n);r!==void 0&&t.add(r)};class $O{constructor(e){this._config=zO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return df(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return df(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return df(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return df(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>gu(l,e,h))),u.forEach(h=>gu(l,i,h)),u.forEach(h=>gu(l,zo[s]||{},h)),u.forEach(h=>gu(l,en,h)),u.forEach(h=>gu(l,B1,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),hS.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,zo[n]||{},en.datasets[n]||{},{type:n},en,B1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=rb(this._resolverCache,e,i);let l=a;if(WO(a,n)){s.$shared=!1,r=Ba(r)?r():r;const c=this.createResolver(e,r,o);l=hc(a,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=rb(this._resolverCache,e,r);return St(n)?hc(s,n,void 0,i):s}}function rb(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:_2(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const UO=t=>St(t)&&Object.getOwnPropertyNames(t).some(e=>Ba(t[e]));function WO(t,e){const{isScriptable:n,isIndexable:r}=W4(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(Ba(o)||UO(o))||a&&Zt(o))return!0}return!1}var HO="4.4.9";const qO=["top","bottom","left","right","chartArea"];function ib(t,e){return t==="top"||t==="bottom"||qO.indexOf(t)===-1&&e==="x"}function sb(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ab(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ht(n&&n.onComplete,[t],e)}function VO(t){const e=t.chart,n=e.options.animation;Ht(n&&n.onProgress,[t],e)}function dS(t){return N2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ff={},ob=t=>{const e=dS(t);return Object.values(Ff).filter(n=>n.canvas===e).pop()};function YO(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function GO(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class gr{static register(...e){ns.add(...e),lb()}static unregister(...e){ns.remove(...e),lb()}constructor(e,n){const r=this.config=new $O(n),i=dS(e),s=ob(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||dO(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=JE(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=d7(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Ff[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ks.listen(this,"complete",ab),ks.listen(this,"progress",VO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return xt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ax(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(e,n){ks.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Lx(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ht(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ot(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=W1(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ot(s,a=>{const o=a.options,l=o.id,c=W1(l,o),u=gt(o.type,a.dtype);(o.position===void 0||ib(o.position,c)!==ib(a.dposition))&&(o.position=a.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const p=ns.getScale(u);h=new p({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),Ot(i,(a,o)=>{a||delete r[o]}),Ot(r,a=>{or.configure(this,a,a.options),or.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(sb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||U1(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=ns.getController(o),{datasetElementType:c,dataElementType:u}=en.datasets[o];Object.assign(l,{dataElementType:ns.getElement(u),datasetElementType:c&&ns.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),p=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Ot(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(sb("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ot(this.scales,e=>{or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!vx(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;YO(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!vx(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;or.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ot(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ba(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),ab({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=eS(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&hg(n,i),e.controller.draw(),i&&dg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Rs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=qT.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Va(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);wh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ks.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ax(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ff[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Ot(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!gp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),l=t7(e),c=GO(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ht(s.onHover,[e,o,this],this),l&&Ht(s.onClick,[e,o,this],this));const u=!gp(o,i);return(u||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}Ie(gr,"defaults",en),Ie(gr,"instances",Ff),Ie(gr,"overrides",zo),Ie(gr,"registry",ns),Ie(gr,"version",HO),Ie(gr,"getChart",ob);function lb(){return Ot(gr.instances,t=>t._plugins.invalidate())}function JO(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,r-c,n+c),l>i?(c=i/l,t.arc(s,a,l,n+c,r-c,!0)):t.arc(s,a,i,n+xn,r-xn),t.closePath(),t.clip()}function KO(t){return w2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function XO(t,e,n,r){const i=KO(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(n-Math.min(s,l))*r/2;return $n(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:$n(i.innerStart,0,a),innerEnd:$n(i.innerEnd,0,a)}}function Ll(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function wp(t,e,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),p=u>0?u+r+n+c:0;let f=0;const v=i-l;if(r){const ne=u>0?u-r:0,G=h>0?h-r:0,W=(ne+G)/2,H=W!==0?v*W/(W+r):v;f=(v-H)/2}const w=Math.max(.001,v*h-n/Xt)/h,k=(v-w)/2,y=l+k+f,b=i-k-f,{outerStart:S,outerEnd:P,innerStart:O,innerEnd:I}=XO(e,p,h,b-y),T=h-S,N=h-P,E=y+S/T,M=b-P/N,j=p+O,A=p+I,Y=y+O/j,z=b-I/A;if(t.beginPath(),s){const ne=(E+M)/2;if(t.arc(a,o,h,E,ne),t.arc(a,o,h,ne,M),P>0){const V=Ll(N,M,a,o);t.arc(V.x,V.y,P,M,b+xn)}const G=Ll(A,b,a,o);if(t.lineTo(G.x,G.y),I>0){const V=Ll(A,z,a,o);t.arc(V.x,V.y,I,b+xn,z+Math.PI)}const W=(b-I/p+(y+O/p))/2;if(t.arc(a,o,p,b-I/p,W,!0),t.arc(a,o,p,W,y+O/p,!0),O>0){const V=Ll(j,Y,a,o);t.arc(V.x,V.y,O,Y+Math.PI,y-xn)}const H=Ll(T,y,a,o);if(t.lineTo(H.x,H.y),S>0){const V=Ll(T,E,a,o);t.arc(V.x,V.y,S,y-xn,E)}}else{t.moveTo(a,o);const ne=Math.cos(E)*h+a,G=Math.sin(E)*h+o;t.lineTo(ne,G);const W=Math.cos(M)*h+a,H=Math.sin(M)*h+o;t.lineTo(W,H)}t.closePath()}function QO(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){wp(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%Kt||Kt))}return wp(t,e,n,r,l,i),t.fill(),l}function ZO(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:p}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=p,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(s){wp(t,e,n,r,v,i);for(let w=0;w<s;++w)t.stroke();isNaN(o)||(v=a+(o%Kt||Kt))}f&&JO(t,e,v),s||(wp(t,e,n,r,v,i),t.stroke())}class ku extends Fi{constructor(n){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=O4(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,v=gt(p,c-l),w=_h(a,l,c)&&l!==c,k=v>=Kt||w,y=Os(o,u+f,h+f);return k&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+a)/2,p=(o+l+u+c)/2;return{x:r+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Kt?Math.floor(i/Kt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Xt,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,QO(n,this,u,a,o),ZO(n,this,u,a,o),n.restore()}}Ie(ku,"id","arc"),Ie(ku,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ie(ku,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(ku,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function fS(t,e,n=e){t.lineCap=gt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(gt(n.borderDash,e.borderDash)),t.lineDashOffset=gt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=gt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=gt(n.borderWidth,e.borderWidth),t.strokeStyle=gt(n.borderColor,e.borderColor)}function eM(t,e,n){t.lineTo(n.x,n.y)}function tM(t){return t.stepped?k7:t.tension||t.cubicInterpolationMode==="monotone"?N7:eM}function pS(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function nM(t,e,n,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=pS(i,n,r),u=tM(s);let{move:h=!0,reverse:p}=r||{},f,v,w;for(f=0;f<=c;++f)v=i[(o+(p?c-f:f))%a],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):u(t,w,v,p,s.stepped),w=v);return l&&(v=i[(o+(p?c:0))%a],u(t,w,v,p,s.stepped)),!!l}function rM(t,e,n,r){const i=e.points,{count:s,start:a,ilen:o}=pS(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,p,f,v,w,k,y;const b=P=>(a+(c?o-P:P))%s,S=()=>{w!==k&&(t.lineTo(u,k),t.lineTo(u,w),t.lineTo(u,y))};for(l&&(f=i[b(0)],t.moveTo(f.x,f.y)),p=0;p<=o;++p){if(f=i[b(p)],f.skip)continue;const P=f.x,O=f.y,I=P|0;I===v?(O<w?w=O:O>k&&(k=O),u=(h*u+P)/++h):(S(),t.lineTo(P,O),v=I,h=0,w=k=O),y=O}S()}function H1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?rM:nM}function iM(t){return t.stepped?rT:t.tension||t.cubicInterpolationMode==="monotone"?iT:vo}function sM(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),fS(t,e.options),t.stroke(i)}function aM(t,e,n,r){const{segments:i,options:s}=e,a=H1(e);for(const o of i)fS(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const oM=typeof Path2D=="function";function lM(t,e,n,r){oM&&!e.options.segment?sM(t,e,n,r):aM(t,e,n,r)}class wa extends Fi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;J7(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uT(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=Z4(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=iM(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:h,end:p}=a[c],f=s[h],v=s[p];if(f===v){o.push(f);continue}const w=Math.abs((i-f[n])/(v[n]-f[n])),k=l(f,v,w,r.stepped);k[n]=e[n],o.push(k)}return o.length===1?o[0]:o}pathSegment(e,n,r){return H1(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=H1(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),lM(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(wa,"id","line"),Ie(wa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(wa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(wa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cb(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class If extends Fi{constructor(n){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return cb(this,n,"x",r)}inYRange(n,r){return cb(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Rs(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,z1(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ie(If,"id","point"),Ie(If,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(If,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function gS(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,h;return t.horizontal?(h=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,o=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function _a(t,e,n,r){return t?0:$n(e,n,r)}function cM(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=U4(r);return{t:_a(i.top,s.top,0,n),r:_a(i.right,s.right,0,e),b:_a(i.bottom,s.bottom,0,n),l:_a(i.left,s.left,0,e)}}function uM(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=To(i),a=Math.min(e,n),o=t.borderSkipped,l=r||St(i);return{topLeft:_a(!l||o.top||o.left,s.topLeft,0,a),topRight:_a(!l||o.top||o.right,s.topRight,0,a),bottomLeft:_a(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:_a(!l||o.bottom||o.right,s.bottomRight,0,a)}}function hM(t){const e=gS(t),n=e.right-e.left,r=e.bottom-e.top,i=cM(t,n/2,r/2),s=uM(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function o0(t,e,n,r){const i=e===null,s=n===null,o=t&&!(i&&s)&&gS(t,r);return o&&(i||Os(e,o.left,o.right))&&(s||Os(n,o.top,o.bottom))}function dM(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fM(t,e){t.rect(e.x,e.y,e.w,e.h)}function l0(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Bf extends Fi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=hM(this),o=dM(a.radius)?Sh:fM;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,l0(a,n,s)),e.clip(),o(e,l0(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,l0(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return o0(this,e,n,r)}inXRange(e,n){return o0(this,e,null,n)}inYRange(e,n){return o0(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ie(Bf,"id","bar"),Ie(Bf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ie(Bf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var pM=Object.freeze({__proto__:null,ArcElement:ku,BarElement:Bf,LineElement:wa,PointElement:If});const q1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ub=q1.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function mS(t){return q1[t%q1.length]}function yS(t){return ub[t%ub.length]}function gM(t,e){return t.borderColor=mS(e),t.backgroundColor=yS(e),++e}function mM(t,e){return t.backgroundColor=t.data.map(()=>mS(e++)),e}function yM(t,e){return t.backgroundColor=t.data.map(()=>yS(e++)),e}function vM(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof No?e=mM(n,e):i instanceof Gu?e=yM(n,e):i&&(e=gM(n,e))}}function hb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function xM(t){return t&&(t.borderColor||t.backgroundColor)}function bM(){return en.borderColor!=="rgba(0,0,0,0.1)"||en.backgroundColor!=="rgba(0,0,0,0.1)"}var wM={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,a=hb(r)||xM(i)||s&&hb(s)||bM();if(!n.forceOverride&&a)return;const o=vM(t);r.forEach(o)}};function _M(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const a=[],o=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,p,f,v,w;for(a[l++]=t[u],h=0;h<s-2;h++){let k=0,y=0,b;const S=Math.floor((h+1)*o)+1+e,P=Math.min(Math.floor((h+2)*o)+1,n)+e,O=P-S;for(b=S;b<P;b++)k+=t[b].x,y+=t[b].y;k/=O,y/=O;const I=Math.floor(h*o)+1+e,T=Math.min(Math.floor((h+1)*o)+1,n)+e,{x:N,y:E}=t[u];for(f=v=-1,b=I;b<T;b++)v=.5*Math.abs((N-k)*(t[b].y-E)-(N-t[b].x)*(y-E)),v>f&&(f=v,p=t[b],w=b);a[l++]=p,u=w}return a[l++]=t[c],a}function SM(t,e,n,r){let i=0,s=0,a,o,l,c,u,h,p,f,v,w;const k=[],y=e+n-1,b=t[e].x,P=t[y].x-b;for(a=e;a<e+n;++a){o=t[a],l=(o.x-b)/P*r,c=o.y;const O=l|0;if(O===u)c<v?(v=c,h=a):c>w&&(w=c,p=a),i=(s*i+o.x)/++s;else{const I=a-1;if(!xt(h)&&!xt(p)){const T=Math.min(h,p),N=Math.max(h,p);T!==f&&T!==I&&k.push({...t[T],x:i}),N!==f&&N!==I&&k.push({...t[N],x:i})}a>0&&I!==f&&k.push(t[I]),k.push(o),u=O,s=0,v=w=c,h=p=f=a}}return k}function vS(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function db(t){t.data.datasets.forEach(e=>{vS(e)})}function kM(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=$n(Ms(e,s.axis,a).lo,0,n-1)),c?i=$n(Ms(e,s.axis,o).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var NM={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){db(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),c=a||i.data;if(_u([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:p}=kM(l,c);const f=n.threshold||4*r;if(p<=f){vS(i);return}xt(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let v;switch(n.algorithm){case"lttb":v=_M(c,h,p,r,n);break;case"min-max":v=SM(c,h,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=v})},destroy(t){db(t)}};function PM(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const o of r){let{start:l,end:c}=o;c=C2(l,c,i);const u=V1(n,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const h=Z4(e,u);for(const p of h){const f=V1(n,s[p.start],s[p.end],p.loop),v=Q4(o,i,f);for(const w of v)a.push({source:w,target:p,start:{[n]:fb(u,f,"start",Math.max)},end:{[n]:fb(u,f,"end",Math.min)}})}}return a}function V1(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=qr(i),s=qr(s)),{property:t,start:i,end:s}}function AM(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=C2(a,o,i);const l=i[a],c=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function C2(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function fb(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function xS(t,e){let n=[],r=!1;return Zt(t)?(r=!0,n=t):n=AM(t,e),n.length?new wa({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function pb(t){return t&&t.fill!==!1}function CM(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!un(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function jM(t,e,n){const r=OM(t);if(St(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return un(i)&&Math.floor(i)===i?LM(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function LM(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function EM(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:St(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function TM(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:St(t)?r=t.value:r=e.getBaseValue(),r}function OM(t){const e=t.options,n=e.fill;let r=gt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function MM(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,o=RM(e,n);o.push(xS({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)DM(i,a[u],o)}return new wa({points:i,options:{}})}function RM(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function DM(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=FM(s,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function FM(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=a[u.start][n],p=a[u.end][n];if(Os(i,h,p)){o=i===h,l=i===p;break}}return{first:o,last:l,point:r}}class bS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:Kt},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function IM(t){const{chart:e,fill:n,line:r}=t;if(un(n))return BM(e,n);if(n==="stack")return MM(t);if(n==="shape")return!0;const i=zM(t);return i instanceof bS?i:xS(i,r)}function BM(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function zM(t){return(t.scale||{}).getPointPositionForValue?UM(t):$M(t)}function $M(t){const{scale:e={},fill:n}=t,r=EM(n,e);if(un(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function UM(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=TM(n,e,s),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new bS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function c0(t,e,n){const r=IM(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,h=c.backgroundColor,{above:p=h,below:f=h}=u||{},v=i.getDatasetMeta(s),w=eS(i,v);r&&a.points.length&&(hg(t,n),WM(t,{line:a,target:r,above:p,below:f,area:n,scale:o,axis:l,clip:w}),dg(t))}function WM(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==i&&(gb(t,r,a.top),mb(t,{line:n,target:r,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),gb(t,r,a.bottom)),mb(t,{line:n,target:r,color:s,scale:o,property:c,clip:l}),t.restore()}function gb(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],h=i[C2(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function mb(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:o}=e,l=PM(n,r,i);for(const{source:c,target:u,start:h,end:p}of l){const{style:{backgroundColor:f=s}={}}=c,v=r!==!0;t.save(),t.fillStyle=f,HM(t,a,o,v&&V1(i,h,p)),t.beginPath();const w=!!n.pathSegment(t,c);let k;if(v){w?t.closePath():yb(t,r,p,i);const y=!!r.pathSegment(t,u,{move:w,reverse:!0});k=w&&y,k||yb(t,r,h,i)}t.closePath(),t.fill(k?"evenodd":"nonzero"),t.restore()}}function HM(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,c,u,h;s==="x"?(l=a,c=i.top,u=o,h=i.bottom):(l=i.left,c=a,u=i.right,h=o),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function yb(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var qM={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof wa&&(l={visible:t.isDatasetVisible(a),index:a,fill:jM(o,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=CM(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&c0(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;pb(s)&&c0(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!pb(r)||n.drawTime!=="beforeDatasetDraw"||c0(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vb=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},VM=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class xb extends Fi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ht(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Tn(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=vb(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let h=e;s.textAlign="left",s.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((v,w)=>{const k=r+n/2+s.measureText(v.text).width;(w===0||c[c.length-1]+k+2*o>a)&&(h+=u,c[c.length-(w>0?0:1)]=0,f+=u,p++),l[w]={left:0,top:f,row:p,width:k,height:i},c[c.length-1]+=k+o}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let h=o,p=0,f=0,v=0,w=0;return this.legendItems.forEach((k,y)=>{const{itemWidth:b,itemHeight:S}=YM(r,n,s,k,i);y>0&&f+S+2*o>u&&(h+=p+o,c.push({width:p,height:f}),v+=p+o,w++,p=f=0),l[y]={left:v,top:f,col:w,width:b,height:S},p=Math.max(p,b),f+=S+o}),h+=p,c.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=tc(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=ir(r,this.left+i,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=ir(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=ir(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=ir(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hg(e,this),this._draw(),dg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=en.color,l=tc(e.rtl,this.left,this.width),c=Tn(a.font),{padding:u}=a,h=c.size,p=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:v,boxHeight:w,itemHeight:k}=vb(a,h),y=function(I,T,N){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;i.save();const E=gt(N.lineWidth,1);if(i.fillStyle=gt(N.fillStyle,o),i.lineCap=gt(N.lineCap,"butt"),i.lineDashOffset=gt(N.lineDashOffset,0),i.lineJoin=gt(N.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=gt(N.strokeStyle,o),i.setLineDash(gt(N.lineDash,[])),a.usePointStyle){const M={radius:w*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:E},j=l.xPlus(I,v/2),A=T+p;$4(i,M,j,A,a.pointStyleWidth&&v)}else{const M=T+Math.max((h-w)/2,0),j=l.leftForLtr(I,v),A=To(N.borderRadius);i.beginPath(),Object.values(A).some(Y=>Y!==0)?Sh(i,{x:j,y:M,w:v,h:w,radius:A}):i.rect(j,M,v,w),i.fill(),E!==0&&i.stroke()}i.restore()},b=function(I,T,N){$o(i,N.text,I,T+k/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},S=this.isHorizontal(),P=this._computeTitleHeight();S?f={x:ir(s,this.left+u,this.right-r[0]),y:this.top+u+P,line:0}:f={x:this.left+u,y:ir(s,this.top+P+u,this.bottom-n[0].height),line:0},J4(this.ctx,e.textDirection);const O=k+u;this.legendItems.forEach((I,T)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const N=i.measureText(I.text).width,E=l.textAlign(I.textAlign||(I.textAlign=a.textAlign)),M=v+p+N;let j=f.x,A=f.y;l.setWidth(this.width),S?T>0&&j+M+u>this.right&&(A=f.y+=O,f.line++,j=f.x=ir(s,this.left+u,this.right-r[f.line])):T>0&&A+O>this.bottom&&(j=f.x=j+n[f.line].width+u,f.line++,A=f.y=ir(s,this.top+P+u,this.bottom-n[f.line].height));const Y=l.x(j);if(y(Y,A,I),j=f7(E,j+v+p,S?j+M:this.right,e.rtl),b(l.x(j),A,I),S)f.x+=M+u;else if(typeof I.text!="string"){const z=c.lineHeight;f.y+=wS(I,z)+u}else f.y+=O}),K4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Tn(n.font),i=ur(n.padding);if(!n.display)return;const s=tc(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,h=ir(e.align,h,this.right-p);else{const v=this.columnSizes.reduce((w,k)=>Math.max(w,k.height),0);u=c+ir(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const f=ir(o,h,h+p);a.textAlign=s.textAlign(x2(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,$o(a,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),r=ur(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Os(e,this.left,this.right)&&Os(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Os(e,i.left,i.left+i.width)&&Os(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!KM(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=VM(i,r);i&&!s&&Ht(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ht(n.onHover,[e,r,this],this)}else r&&Ht(n.onClick,[e,r,this],this)}}function YM(t,e,n,r,i){const s=GM(r,t,e,n),a=JM(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function GM(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function JM(t,e,n){let r=t;return typeof e.text!="string"&&(r=wS(e,n)),r}function wS(t,e){const n=t.text?t.text.length:0;return e*n}function KM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var XM={id:"legend",_element:xb,start(t,e,n){const r=t.legend=new xb({ctx:t.ctx,options:n,chart:t});or.configure(t,r,n),or.addBox(t,r)},stop(t){or.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;or.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ur(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class j2 extends Fi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Zt(r.text)?r.text.length:1;this._padding=ur(r.padding);const s=i*Tn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,h;return this.isHorizontal()?(u=ir(o,r,s),h=n+e,c=s-r):(a.position==="left"?(u=r+e,h=ir(o,i,n),l=Xt*-.5):(u=s-e,h=ir(o,n,i),l=Xt*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Tn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);$o(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:x2(n.align),textBaseline:"middle",translation:[a,o]})}}function QM(t,e){const n=new j2({ctx:t.ctx,options:e,chart:t});or.configure(t,n,e),or.addBox(t,n),t.titleBlock=n}var ZM={id:"title",_element:j2,start(t,e,n){QM(t,n)},stop(t){const e=t.titleBlock;or.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;or.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ff=new WeakMap;var eR={id:"subtitle",start(t,e,n){const r=new j2({ctx:t.ctx,options:n,chart:t});or.configure(t,r,n),or.addBox(t,r),ff.set(t,r)},stop(t){or.removeBox(t,ff.get(t)),ff.delete(t)},beforeUpdate(t,e,n){const r=ff.get(t);or.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nu={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=I1(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function es(t,e){return e&&(Zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ns(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function tR(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function bb(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Tn(e.bodyFont),c=Tn(e.titleFont),u=Tn(e.footerFont),h=s.length,p=i.length,f=r.length,v=ur(e.padding);let w=v.height,k=0,y=r.reduce((P,O)=>P+O.before.length+O.lines.length+O.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const P=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;w+=f*P+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let b=0;const S=function(P){k=Math.max(k,n.measureText(P).width+b)};return n.save(),n.font=c.string,Ot(t.title,S),n.font=l.string,Ot(t.beforeBody.concat(t.afterBody),S),b=e.displayColors?a+2+e.boxPadding:0,Ot(r,P=>{Ot(P.before,S),Ot(P.lines,S),Ot(P.after,S)}),b=0,n.font=u.string,Ot(t.footer,S),n.restore(),k+=v.width,{width:k,height:w}}function nR(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function rR(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function iR(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),rR(c,t,e,n)&&(c="center"),c}function wb(t,e,n){const r=n.yAlign||e.yAlign||nR(t,n);return{xAlign:n.xAlign||e.xAlign||iR(t,e,n,r),yAlign:r}}function sR(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function aR(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function _b(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=To(a);let v=sR(e,o);const w=aR(e,l,c);return l==="center"?o==="left"?v+=c:o==="right"&&(v-=c):o==="left"?v-=Math.max(u,p)+i:o==="right"&&(v+=Math.max(h,f)+i),{x:$n(v,0,r.width-e.width),y:$n(w,0,r.height-e.height)}}function pf(t,e,n){const r=ur(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Sb(t){return es([],Ns(t))}function oR(t,e,n){return Va(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function kb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _S={beforeTitle:Ss,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return xt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function Pr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?_S[e].call(n,r):i}class Y1 extends Fi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new tS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=oR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Pr(r,"beforeTitle",this,e),s=Pr(r,"title",this,e),a=Pr(r,"afterTitle",this,e);let o=[];return o=es(o,Ns(i)),o=es(o,Ns(s)),o=es(o,Ns(a)),o}getBeforeBody(e,n){return Sb(Pr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Ot(e,s=>{const a={before:[],lines:[],after:[]},o=kb(r,s);es(a.before,Ns(Pr(o,"beforeLabel",this,s))),es(a.lines,Pr(o,"label",this,s)),es(a.after,Ns(Pr(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return Sb(Pr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Pr(r,"beforeFooter",this,e),s=Pr(r,"footer",this,e),a=Pr(r,"afterFooter",this,e);let o=[];return o=es(o,Ns(i)),o=es(o,Ns(s)),o=es(o,Ns(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(tR(this.chart,n[l]));return e.filter&&(o=o.filter((u,h,p)=>e.filter(u,h,p,r))),e.itemSort&&(o=o.sort((u,h)=>e.itemSort(u,h,r))),Ot(o,u=>{const h=kb(e.callbacks,u);i.push(Pr(h,"labelColor",this,u)),s.push(Pr(h,"labelPointStyle",this,u)),a.push(Pr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Nu[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=bb(this,r),c=Object.assign({},o,l),u=wb(this.chart,r,c),h=_b(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=To(o),{x:p,y:f}=e,{width:v,height:w}=n;let k,y,b,S,P,O;return s==="center"?(P=f+w/2,i==="left"?(k=p,y=k-a,S=P+a,O=P-a):(k=p+v,y=k+a,S=P-a,O=P+a),b=k):(i==="left"?y=p+Math.max(l,u)+a:i==="right"?y=p+v-Math.max(c,h)-a:y=this.caretX,s==="top"?(S=f,P=S-a,k=y-a,b=y+a):(S=f+w,P=S+a,k=y+a,b=y-a),O=S),{x1:k,x2:y,x3:b,y1:S,y2:P,y3:O}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=tc(r.rtl,this.x,this.width);for(e.x=pf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=Tn(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Tn(s.bodyFont),h=pf(this,"left",s),p=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+f;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},k=i.leftForLtr(p,c)+c/2,y=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,z1(e,w,k,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,z1(e,w,k,y)}else{e.lineWidth=St(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=i.leftForLtr(p,c),k=i.leftForLtr(i.xPlus(p,1),c-2),y=To(a.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Sh(e,{x:w,y:v,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Sh(e,{x:k,y:v+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,v,c,l),e.strokeRect(w,v,c,l),e.fillStyle=a.backgroundColor,e.fillRect(k,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Tn(r.bodyFont);let p=h.lineHeight,f=0;const v=tc(r.rtl,this.x,this.width),w=function(N){n.fillText(N,v.x(e.x+f),e.y+p/2),e.y+=p+s},k=v.textAlign(a);let y,b,S,P,O,I,T;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=pf(this,k,r),n.fillStyle=r.bodyColor,Ot(this.beforeBody,w),f=o&&k!=="right"?a==="center"?c/2+u:c+2+u:0,P=0,I=i.length;P<I;++P){for(y=i[P],b=this.labelTextColors[P],n.fillStyle=b,Ot(y.before,w),S=y.lines,o&&S.length&&(this._drawColorBox(n,e,P,v,r),p=Math.max(h.lineHeight,l)),O=0,T=S.length;O<T;++O)w(S[O]),p=h.lineHeight;Ot(y.after,w)}f=0,p=h.lineHeight,Ot(this.afterBody,w),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=tc(r.rtl,this.x,this.width);for(e.x=pf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Tn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:v}=To(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+h,l),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+c-p,l),n.quadraticCurveTo(o+c,l,o+c,l+p),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+c,l+u-v),n.quadraticCurveTo(o+c,l+u,o+c-v,l+u),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+f,l+u),n.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+h),n.quadraticCurveTo(o,l,o+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Nu[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=bb(this,e),l=Object.assign({},a,this._size),c=wb(n,e,l),u=_b(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ur(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),J4(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),K4(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!gp(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),l=n||!gp(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Nu[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}Ie(Y1,"positioners",Nu);var lR={id:"tooltip",_element:Y1,positioners:Nu,afterInit(t,e,n){n&&(t.tooltip=new Y1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_S},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cR=Object.freeze({__proto__:null,Colors:wM,Decimation:NM,Filler:qM,Legend:XM,SubTitle:eR,Title:ZM,Tooltip:lR});const uR=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function hR(t,e,n,r){const i=t.indexOf(e);if(i===-1)return uR(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const dR=(t,e)=>t===null?null:$n(Math.round(t),0,e);function Nb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class G1 extends Vo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(xt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:hR(r,e,gt(n,e),this._addedLabels),dR(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return Nb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(G1,"id","category"),Ie(G1,"defaults",{ticks:{callback:Nb}});function fR(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:p}=t,f=s||1,v=u-1,{min:w,max:k}=e,y=!xt(a),b=!xt(o),S=!xt(c),P=(k-w)/(h+1);let O=bx((k-w)/v/f)*f,I,T,N,E;if(O<1e-14&&!y&&!b)return[{value:w},{value:k}];E=Math.ceil(k/O)-Math.floor(w/O),E>v&&(O=bx(E*O/v/f)*f),xt(l)||(I=Math.pow(10,l),O=Math.ceil(O*I)/I),i==="ticks"?(T=Math.floor(w/O)*O,N=Math.ceil(k/O)*O):(T=w,N=k),y&&b&&s&&a7((o-a)/s,O/1e3)?(E=Math.round(Math.min((o-a)/O,u)),O=(o-a)/E,T=a,N=o):S?(T=y?a:T,N=b?o:N,E=c-1,O=(N-T)/E):(E=(N-T)/O,qu(E,Math.round(E),O/1e3)?E=Math.round(E):E=Math.ceil(E));const M=Math.max(wx(O),wx(T));I=Math.pow(10,xt(l)?M:l),T=Math.round(T*I)/I,N=Math.round(N*I)/I;let j=0;for(y&&(p&&T!==a?(n.push({value:a}),T<a&&j++,qu(Math.round((T+j*O)*I)/I,a,Pb(a,P,t))&&j++):T<a&&j++);j<E;++j){const A=Math.round((T+j*O)*I)/I;if(b&&A>o)break;n.push({value:A})}return b&&p&&N!==o?n.length&&qu(n[n.length-1].value,o,Pb(o,P,t))?n[n.length-1].value=o:n.push({value:o}):(!b||N===o)&&n.push({value:N}),n}function Pb(t,e,{horizontal:n,minRotation:r}){const i=Ti(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class _p extends Vo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return xt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(e){const l=cs(i),c=cs(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=fR(i,s);return e.bounds==="ticks"&&T4(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Fh(e,this.chart.options.locale,this.options.ticks.format)}}class J1 extends _p{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=un(e)?e:0,this.max=un(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ti(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ie(J1,"id","linear"),Ie(J1,"defaults",{ticks:{callback:ug.formatters.numeric}});const Nh=t=>Math.floor(ba(t)),co=(t,e)=>Math.pow(10,Nh(t)+e);function Ab(t){return t/Math.pow(10,Nh(t))===1}function Cb(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function pR(t,e){const n=e-t;let r=Nh(n);for(;Cb(t,e,r)>10;)r++;for(;Cb(t,e,r)<10;)r--;return Math.min(r,Nh(t))}function gR(t,{min:e,max:n}){e=Wr(t.min,e);const r=[],i=Nh(e);let s=pR(e,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let h=Math.floor((c-u)/Math.pow(10,s)),p=Wr(t.min,Math.round((l+u+h*Math.pow(10,s))*a)/a);for(;p<n;)r.push({value:p,major:Ab(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,a=s>=0?1:a),p=Math.round((l+u+h*Math.pow(10,s))*a)/a;const f=Wr(t.max,p);return r.push({value:f,major:Ab(f),significand:h}),r}class K1 extends Vo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=_p.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return un(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=un(e)?Math.max(0,e):null,this.max=un(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!un(this._userMin)&&(this.min=e===co(this.min,0)?co(this.min,-1):co(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(co(r,-1)),a(co(i,1)))),r<=0&&s(co(i,-1)),i<=0&&a(co(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=gR(n,this);return e.bounds==="ticks"&&T4(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Fh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ba(e),this._valueRange=ba(this.max)-ba(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ba(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Ie(K1,"id","logarithmic"),Ie(K1,"defaults",{ticks:{callback:ug.formatters.logarithmic,major:{enabled:!0}}});function X1(t){const e=t.ticks;if(e.display&&t.display){const n=ur(e.backdropPadding);return gt(e.font&&e.font.size,en.font.size)+n.height}return 0}function mR(t,e,n){return n=Zt(n)?n:[n],{w:S7(t,e.string,n),h:n.length*e.lineHeight}}function jb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function yR(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Xt/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],o),h=Tn(c.font),p=mR(t.ctx,h,t._pointLabels[l]);r[l]=p;const f=qr(t.getIndexAngle(l)+o),v=Math.round(y2(f)),w=jb(v,u.x,p.w,0,180),k=jb(v,u.y,p.h,90,270);vR(n,e,f,w,k)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=wR(t,r,i)}function vR(t,e,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function xR(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,r+i+a,s),c=Math.round(y2(qr(l.angle+xn))),u=kR(l.y,o.h,c),h=_R(c),p=SR(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:p,top:u,right:p+o.w,bottom:u+o.h}}function bR(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Rs({x:n,y:r},e)||Rs({x:n,y:s},e)||Rs({x:i,y:r},e)||Rs({x:i,y:s},e))}function wR(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:X1(s)/2,additionalAngle:a?Xt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=xR(t,u,l);r.push(h),o==="auto"&&(h.visible=bR(h,c),h.visible&&(c=h))}return r}function _R(t){return t===0||t===180?"center":t<180?"left":"right"}function SR(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function kR(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function NR(t,e,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=e;if(!xt(o)){const l=To(e.borderRadius),c=ur(e.backdropPadding);t.fillStyle=o;const u=r-c.left,h=i-c.top,p=s-r+c.width,f=a-i+c.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),Sh(t,{x:u,y:h,w:p,h:f,radius:l}),t.fill()):t.fillRect(u,h,p,f)}}function PR(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(t.getPointLabelContext(i));NR(n,a,s);const o=Tn(a.font),{x:l,y:c,textAlign:u}=s;$o(n,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function SS(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Kt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function AR(t,e,n,r,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),SS(t,n,a,r),s.closePath(),s.stroke(),s.restore())}function CR(t,e,n){return Va(t,{label:n,index:e,type:"pointLabel"})}class Pu extends _p{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ur(X1(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=un(e)&&!isNaN(e)?e:0,this.max=un(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/X1(this.options))}generateTickLabels(e){_p.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ht(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?yR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Kt/(this._pointLabels.length||1),r=this.options.startAngle||0;return qr(e*n+Ti(r))}getDistanceFromCenterForValue(e){if(xt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(xt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return CR(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-xn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),SS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&PR(this,a),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(h),f=i.setContext(p),v=s.setContext(p);AR(this,f,l,a,v)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:p}=u;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Tn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const h=ur(c.backdropPadding);e.fillRect(-a/2-h.left,-s-u.size/2-h.top,a+h.width,u.size+h.height)}$o(e,o.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Ie(Pu,"id","radialLinear"),Ie(Pu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ug.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ie(Pu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ie(Pu,"descriptors",{angleLines:{_fallback:"grid"}});const gg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lr=Object.keys(gg);function Lb(t,e){return t-e}function Eb(t,e){if(xt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),un(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(uc(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function Tb(t,e,n,r){const i=Lr.length;for(let s=Lr.indexOf(t);s<i-1;++s){const a=gg[Lr[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Lr[s]}return Lr[i-1]}function jR(t,e,n,r,i){for(let s=Lr.length-1;s>=Lr.indexOf(n);s--){const a=Lr[s];if(gg[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Lr[n?Lr.indexOf(n):0]}function LR(t){for(let e=Lr.indexOf(t)+1,n=Lr.length;e<n;++e)if(gg[Lr[e]].common)return Lr[e]}function Ob(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=v2(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function ER(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function Mb(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:ER(t,r,i,n)}class Ph extends Vo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new zT._date(e.adapters.date);i.init(n),Hu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Eb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=un(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=un(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=u7(i,s,a);return this._unit=n.unit||(r.autoSkip?Tb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):jR(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:LR(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Mb(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=$n(n,0,a),r=$n(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Tb(s.minUnit,n,r,this._getLabelCapacity(n)),o=gt(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=uc(l)||l===!0,u={};let h=n,p,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<r;p=+e.add(p,o,a),f++)Ob(u,p,v);return(p===r||i.bounds==="ticks"||f===1)&&Ob(u,p,v),Object.keys(u).sort(Lb).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return Ht(a,[e,n,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],h=c&&o[c],p=r[n],f=c&&h&&p&&p.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ti(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Mb(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Eb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return R4(e.sort(Lb))}}Ie(Ph,"id","time"),Ie(Ph,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gf(t,e,n){let r=0,i=t.length-1,s,a,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ms(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ms(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class Q1 extends Ph{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=gf(n,this.min),this._tableRange=gf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return gf(this._table,r*this._tableRange+this._minPos,!0)}}Ie(Q1,"id","timeseries"),Ie(Q1,"defaults",Ph.defaults);var TR=Object.freeze({__proto__:null,CategoryScale:G1,LinearScale:J1,LogarithmicScale:K1,RadialLinearScale:Pu,TimeScale:Ph,TimeSeriesScale:Q1});const kS=[BT,pM,cR,TR];var OR={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(lr,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var M=O(E);M.chunkSize=parseInt(M.chunkSize),E.step||E.chunk||(M.chunkSize=null),this._handle=new w(M),(this._handle.streamer=this)._config=M}).call(this,N),this.parseChunk=function(E,M){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let Y=this._config.newline;Y||(A=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(E,A)),E=[...E.split(Y).slice(j)].join(Y)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(E))!==void 0&&(E=A),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+E,A=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=A.meta.cursor,j=(this._finished||(this._partialLine=j.substring(E-this._baseIndex),this._baseIndex=E),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:A,workerId:c.WORKER_ID,finished:j});else if(T(this._config.chunk)&&!M){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!j||!T(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(E){T(this._config.error)?this._config.error(E):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:E,finished:!1})}}function h(N){var E;(N=N||{}).chunkSize||(N.chunkSize=c.RemoteChunkSize),u.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),s||(E.onload=I(this._chunkLoaded,this),E.onerror=I(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,j=this._config.downloadRequestHeaders;for(M in j)E.setRequestHeader(M,j[M])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+A));try{E.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}s&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(M){M=E.statusText||M,this._sendError(new Error(M))}}function p(N){(N=N||{}).chunkSize||(N.chunkSize=c.LocalChunkSize),u.call(this,N);var E,M,j=typeof FileReader<"u";this.stream=function(A){this._input=A,M=A.slice||A.webkitSlice||A.mozSlice,j?((E=new FileReader).onload=I(this._chunkLoaded,this),E.onerror=I(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),A=M.call(A,this._start,Y)),E.readAsText(A,this._config.encoding));j||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(E.error)}}function f(N){var E;u.call(this,N=N||{}),this.stream=function(M){return E=M,this._nextChunk()},this._nextChunk=function(){var M,j;if(!this._finished)return M=this._config.chunkSize,E=M?(j=E.substring(0,M),E.substring(M)):(j=E,""),this._finished=!E,this.parseChunk(j)}}function v(N){u.call(this,N=N||{});var E=[],M=!0,j=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):M=!0},this._streamData=I(function(A){try{E.push(typeof A=="string"?A:A.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=I(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=I(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(N){var E,M,j,A,Y=Math.pow(2,53),z=-Y,ne=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,H=0,V=0,re=!1,Z=!1,C=[],D={data:[],errors:[],meta:{}};function K(se){return N.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function B(){if(D&&j&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),j=!1),N.skipEmptyLines&&(D.data=D.data.filter(function(ye){return!K(ye)})),U()){let ye=function(Ce,ue){T(N.transformHeader)&&(Ce=N.transformHeader(Ce,ue)),C.push(Ce)};if(D)if(Array.isArray(D.data[0])){for(var se=0;U()&&se<D.data.length;se++)D.data[se].forEach(ye);D.data.splice(0,1)}else D.data.forEach(ye)}function le(ye,Ce){for(var ue=N.header?{}:[],xe=0;xe<ye.length;xe++){var ae=xe,Q=ye[xe],Q=((Ge,je)=>(Se=>(N.dynamicTypingFunction&&N.dynamicTyping[Se]===void 0&&(N.dynamicTyping[Se]=N.dynamicTypingFunction(Se)),(N.dynamicTyping[Se]||N.dynamicTyping)===!0))(Ge)?je==="true"||je==="TRUE"||je!=="false"&&je!=="FALSE"&&((Se=>{if(ne.test(Se)&&(Se=parseFloat(Se),z<Se&&Se<Y))return 1})(je)?parseFloat(je):G.test(je)?new Date(je):je===""?null:je):je)(ae=N.header?xe>=C.length?"__parsed_extra":C[xe]:ae,Q=N.transform?N.transform(Q,ae):Q);ae==="__parsed_extra"?(ue[ae]=ue[ae]||[],ue[ae].push(Q)):ue[ae]=Q}return N.header&&(xe>C.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+xe,V+Ce):xe<C.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+xe,V+Ce)),ue}var ve;D&&(N.header||N.dynamicTyping||N.transform)&&(ve=1,!D.data.length||Array.isArray(D.data[0])?(D.data=D.data.map(le),ve=D.data.length):D.data=le(D.data,0),N.header&&D.meta&&(D.meta.fields=C),V+=ve)}function U(){return N.header&&C.length===0}function ie(se,le,ve,ye){se={type:se,code:le,message:ve},ye!==void 0&&(se.row=ye),D.errors.push(se)}T(N.step)&&(A=N.step,N.step=function(se){D=se,U()?B():(B(),D.data.length!==0&&(H+=se.data.length,N.preview&&H>N.preview?M.abort():(D.data=D.data[0],A(D,W))))}),this.parse=function(se,le,ve){var ye=N.quoteChar||'"',ye=(N.newline||(N.newline=this.guessLineEndings(se,ye)),j=!1,N.delimiter?T(N.delimiter)&&(N.delimiter=N.delimiter(se),D.meta.delimiter=N.delimiter):((ye=((Ce,ue,xe,ae,Q)=>{var Ge,je,Se,Oe;Q=Q||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var De=0;De<Q.length;De++){for(var Me,Ve=Q[De],Ye=0,Ke=0,Je=0,tt=(Se=void 0,new y({comments:ae,delimiter:Ve,newline:ue,preview:10}).parse(Ce)),vt=0;vt<tt.data.length;vt++)xe&&K(tt.data[vt])?Je++:(Me=tt.data[vt].length,Ke+=Me,Se===void 0?Se=Me:0<Me&&(Ye+=Math.abs(Me-Se),Se=Me));0<tt.data.length&&(Ke/=tt.data.length-Je),(je===void 0||Ye<=je)&&(Oe===void 0||Oe<Ke)&&1.99<Ke&&(je=Ye,Ge=Ve,Oe=Ke)}return{successful:!!(N.delimiter=Ge),bestDelimiter:Ge}})(se,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=ye.bestDelimiter:(j=!0,N.delimiter=c.DefaultDelimiter),D.meta.delimiter=N.delimiter),O(N));return N.preview&&N.header&&ye.preview++,E=se,M=new y(ye),D=M.parse(E,le,ve),B(),re?{meta:{paused:!0}}:D||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,M.abort(),E=T(N.chunk)?"":E.substring(M.getCharIndex())},this.resume=function(){W.streamer._halted?(re=!1,W.streamer.parseChunk(E,!0)):setTimeout(W.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,M.abort(),D.meta.aborted=!0,T(N.complete)&&N.complete(D),E=""},this.guessLineEndings=function(Ce,ye){Ce=Ce.substring(0,1048576);var ye=new RegExp(k(ye)+"([^]*?)"+k(ye),"gm"),ve=(Ce=Ce.replace(ye,"")).split("\r"),ye=Ce.split(`
`),Ce=1<ye.length&&ye[0].length<ve[0].length;if(ve.length===1||Ce)return`
`;for(var ue=0,xe=0;xe<ve.length;xe++)ve[xe][0]===`
`&&ue++;return ue>=ve.length/2?`\r
`:"\r"}}function k(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(N){var E=(N=N||{}).delimiter,M=N.newline,j=N.comments,A=N.step,Y=N.preview,z=N.fastMode,ne=null,G=!1,W=N.quoteChar==null?'"':N.quoteChar,H=W;if(N.escapeChar!==void 0&&(H=N.escapeChar),(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=","),j===E)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var V=0,re=!1;this.parse=function(Z,C,D){if(typeof Z!="string")throw new Error("Input must be a string");var K=Z.length,B=E.length,U=M.length,ie=j.length,se=T(A),le=[],ve=[],ye=[],Ce=V=0;if(!Z)return Ye();if(z||z!==!1&&Z.indexOf(W)===-1){for(var ue=Z.split(M),xe=0;xe<ue.length;xe++){if(ye=ue[xe],V+=ye.length,xe!==ue.length-1)V+=M.length;else if(D)return Ye();if(!j||ye.substring(0,ie)!==j){if(se){if(le=[],Oe(ye.split(E)),Ke(),re)return Ye()}else Oe(ye.split(E));if(Y&&Y<=xe)return le=le.slice(0,Y),Ye(!0)}}return Ye()}for(var ae=Z.indexOf(E,V),Q=Z.indexOf(M,V),Ge=new RegExp(k(H)+k(W),"g"),je=Z.indexOf(W,V);;)if(Z[V]===W)for(je=V,V++;;){if((je=Z.indexOf(W,je+1))===-1)return D||ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:V}),Me();if(je===K-1)return Me(Z.substring(V,je).replace(Ge,W));if(W===H&&Z[je+1]===H)je++;else if(W===H||je===0||Z[je-1]!==H){ae!==-1&&ae<je+1&&(ae=Z.indexOf(E,je+1));var Se=De((Q=Q!==-1&&Q<je+1?Z.indexOf(M,je+1):Q)===-1?ae:Math.min(ae,Q));if(Z.substr(je+1+Se,B)===E){ye.push(Z.substring(V,je).replace(Ge,W)),Z[V=je+1+Se+B]!==W&&(je=Z.indexOf(W,V)),ae=Z.indexOf(E,V),Q=Z.indexOf(M,V);break}if(Se=De(Q),Z.substring(je+1+Se,je+1+Se+U)===M){if(ye.push(Z.substring(V,je).replace(Ge,W)),Ve(je+1+Se+U),ae=Z.indexOf(E,V),je=Z.indexOf(W,V),se&&(Ke(),re))return Ye();if(Y&&le.length>=Y)return Ye(!0);break}ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:V}),je++}}else if(j&&ye.length===0&&Z.substring(V,V+ie)===j){if(Q===-1)return Ye();V=Q+U,Q=Z.indexOf(M,V),ae=Z.indexOf(E,V)}else if(ae!==-1&&(ae<Q||Q===-1))ye.push(Z.substring(V,ae)),V=ae+B,ae=Z.indexOf(E,V);else{if(Q===-1)break;if(ye.push(Z.substring(V,Q)),Ve(Q+U),se&&(Ke(),re))return Ye();if(Y&&le.length>=Y)return Ye(!0)}return Me();function Oe(Je){le.push(Je),Ce=V}function De(Je){var tt=0;return tt=Je!==-1&&(Je=Z.substring(je+1,Je))&&Je.trim()===""?Je.length:tt}function Me(Je){return D||(Je===void 0&&(Je=Z.substring(V)),ye.push(Je),V=K,Oe(ye),se&&Ke()),Ye()}function Ve(Je){V=Je,Oe(ye),ye=[],Q=Z.indexOf(M,V)}function Ye(Je){if(N.header&&!C&&le.length&&!G){var tt=le[0],vt=Object.create(null),Qe=new Set(tt);let ut=!1;for(let Re=0;Re<tt.length;Re++){let ke=tt[Re];if(vt[ke=T(N.transformHeader)?N.transformHeader(ke,Re):ke]){let Fe,ht=vt[ke];for(;Fe=ke+"_"+ht,ht++,Qe.has(Fe););Qe.add(Fe),tt[Re]=Fe,vt[ke]++,ut=!0,(ne=ne===null?{}:ne)[Fe]=ke}else vt[ke]=1,tt[Re]=ke;Qe.add(ke)}ut&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:le,errors:ve,meta:{delimiter:E,linebreak:M,aborted:re,truncated:!!Je,cursor:Ce+(C||0),renamedHeaders:ne}}}function Ke(){A(Ye()),le=[],ve=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return V}}function b(N){var E=N.data,M=o[E.workerId],j=!1;if(E.error)M.userError(E.error,E.file);else if(E.results&&E.results.data){var A={abort:function(){j=!0,S(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(T(M.userStep)){for(var Y=0;Y<E.results.data.length&&(M.userStep({data:E.results.data[Y],errors:E.results.errors,meta:E.results.meta},A),!j);Y++);delete E.results}else T(M.userChunk)&&(M.userChunk(E.results,A,E.file),delete E.results)}E.finished&&!j&&S(E.workerId,E.results)}function S(N,E){var M=o[N];T(M.userComplete)&&M.userComplete(E),M.terminate(),delete o[N]}function P(){throw new Error("Not implemented.")}function O(N){if(typeof N!="object"||N===null)return N;var E,M=Array.isArray(N)?[]:{};for(E in N)M[E]=O(N[E]);return M}function I(N,E){return function(){N.apply(E,arguments)}}function T(N){return typeof N=="function"}return c.parse=function(N,E){var M=(E=E||{}).dynamicTyping||!1;if(T(M)&&(E.dynamicTypingFunction=M,M={}),E.dynamicTyping=M,E.transform=!!T(E.transform)&&E.transform,!E.worker||!c.WORKERS_SUPPORTED)return M=null,c.NODE_STREAM_INPUT,typeof N=="string"?(N=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(N),M=new(E.download?h:f)(E)):N.readable===!0&&T(N.read)&&T(N.on)?M=new v(E):(r.File&&N instanceof File||N instanceof Object)&&(M=new p(E)),M.stream(N);(M=(()=>{var j;return!!c.WORKERS_SUPPORTED&&(j=(()=>{var A=r.URL||r.webkitURL||null,Y=n.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(j=new r.Worker(j)).onmessage=b,j.id=l++,o[j.id]=j)})()).userStep=E.step,M.userChunk=E.chunk,M.userComplete=E.complete,M.userError=E.error,E.step=T(E.step),E.chunk=T(E.chunk),E.complete=T(E.complete),E.error=T(E.error),delete E.worker,M.postMessage({input:N,config:E,workerId:M.id})},c.unparse=function(N,E){var M=!1,j=!0,A=",",Y=`\r
`,z='"',ne=z+z,G=!1,W=null,H=!1,V=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||c.BAD_DELIMITERS.filter(function(C){return E.delimiter.indexOf(C)!==-1}).length||(A=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(M=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(G=E.skipEmptyLines),typeof E.newline=="string"&&(Y=E.newline),typeof E.quoteChar=="string"&&(z=E.quoteChar),typeof E.header=="boolean"&&(j=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");W=E.columns}E.escapeChar!==void 0&&(ne=E.escapeChar+z),E.escapeFormulae instanceof RegExp?H=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(z),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return re(null,N,G);if(typeof N[0]=="object")return re(W||Object.keys(N[0]),N,G)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||W),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),re(N.fields||[],N.data||[],G);throw new Error("Unable to serialize unrecognized input");function re(C,D,K){var B="",U=(typeof C=="string"&&(C=JSON.parse(C)),typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(C)&&0<C.length),ie=!Array.isArray(D[0]);if(U&&j){for(var se=0;se<C.length;se++)0<se&&(B+=A),B+=Z(C[se],se);0<D.length&&(B+=Y)}for(var le=0;le<D.length;le++){var ve=(U?C:D[le]).length,ye=!1,Ce=U?Object.keys(D[le]).length===0:D[le].length===0;if(K&&!U&&(ye=K==="greedy"?D[le].join("").trim()==="":D[le].length===1&&D[le][0].length===0),K==="greedy"&&U){for(var ue=[],xe=0;xe<ve;xe++){var ae=ie?C[xe]:xe;ue.push(D[le][ae])}ye=ue.join("").trim()===""}if(!ye){for(var Q=0;Q<ve;Q++){0<Q&&!Ce&&(B+=A);var Ge=U&&ie?C[Q]:Q;B+=Z(D[le][Ge],Q)}le<D.length-1&&(!K||0<ve&&!Ce)&&(B+=Y)}}return B}function Z(C,D){var K,B;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(B=!1,H&&typeof C=="string"&&H.test(C)&&(C="'"+C,B=!0),K=C.toString().replace(V,ne),(B=B||M===!0||typeof M=="function"&&M(C,D)||Array.isArray(M)&&M[D]||((U,ie)=>{for(var se=0;se<ie.length;se++)if(-1<U.indexOf(ie[se]))return!0;return!1})(K,c.BAD_DELIMITERS)||-1<K.indexOf(A)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?z+K+z:K)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=p,c.StringStreamer=f,c.ReadableStreamStreamer=v,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var E=N.config||{},M=[];return this.each(function(Y){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)M.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},E)})}),j(),this;function j(){if(M.length===0)T(N.complete)&&N.complete();else{var Y,z,ne,G,W=M[0];if(T(N.before)){var H=N.before(W.file,W.inputElem);if(typeof H=="object"){if(H.action==="abort")return Y="AbortError",z=W.file,ne=W.inputElem,G=H.reason,void(T(N.error)&&N.error({name:Y},z,ne,G));if(H.action==="skip")return void A();typeof H.config=="object"&&(W.instanceConfig=i.extend(W.instanceConfig,H.config))}else if(H==="skip")return void A()}var V=W.instanceConfig.complete;W.instanceConfig.complete=function(re){T(V)&&V(re,W.file,W.inputElem),A()},c.parse(W.file,W.instanceConfig)}}function A(){M.splice(0,1),j()}}),a&&(r.onmessage=function(N){N=N.data,c.WORKER_ID===void 0&&N&&(c.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=c.parse(N.input,N.config))&&r.postMessage({workerId:c.WORKER_ID,results:N,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(u.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(v.prototype=Object.create(u.prototype)).constructor=v,c})})(OR);gr.register(...kS);const Rb=async(t={})=>{try{let e="/data/videos/filter";const n=new URLSearchParams;return t.dateFrom&&n.set("date_from",t.dateFrom),t.dateTo&&n.set("date_to",t.dateTo),t.orderBy&&n.set("order_by",t.orderBy),t.orderDesc&&n.set("order_desc",t.orderDesc),n.toString()&&(e+="?"+n.toString()),await L2(e)}catch(e){throw console.error("Error fetching filtered videos:",e),e}},MR=async t=>{try{return await L2(`/data/summary/by-video/${t}`)}catch(e){throw console.error("Error fetching video summary:",e),e}},RR=async t=>{try{const e=await fetch(`${mg}/data/videos/${t}`,{method:"DELETE"}),n=await e.text(),r=n?JSON.parse(n):{};if(!e.ok||r.status!=="success")throw new Error(r.error||e.statusText);return r}catch(e){throw console.error("Error deleting video:",e),e}},DR=t=>`${mg}/data/video/${t}`,uo=async(t,e,n={},r=400,i=400)=>new Promise(s=>{var a;try{const o=document.createElement("canvas");o.width=r,o.height=i;const l=o.getContext("2d");if(!l){console.warn("Could not get canvas context for chart"),s(null);return}const c=new gr(l,{type:t,data:e,options:{...n,animation:!1,responsive:!1,maintainAspectRatio:!1,plugins:{...n.plugins,legend:{...(a=n.plugins)==null?void 0:a.legend,display:!0}}}});setTimeout(()=>{try{const u=c.toBase64Image();c.destroy(),s(u)}catch(u){console.warn("Could not capture chart image:",u),c.destroy(),s(null)}},100)}catch(o){console.warn("Error creating chart:",o),s(null)}}),mg="https://cpsag04jw65we6-8000.proxy.runpod.net",L2=async(t,e)=>{const n=t.startsWith("http")?t:`${mg}${t.startsWith("/")?t:"/"+t}`,r=await fetch(n,e),i=await r.text();r.ok||(console.error(`HTTP ${r.status} Error for ${n}:`),console.error("Response headers:",Object.fromEntries(r.headers.entries())),console.error("Raw response text:",i));try{const s=i?JSON.parse(i):{};if(!r.ok){const a=s.detail||s.error||r.statusText||"Request failed",o=`${r.status} ${a}`;throw console.error("Parsed error message:",o),new Error(o)}return s}catch(s){if(!r.ok){const a=`${r.status} ${i||r.statusText}`;throw console.error("Non-JSON error response:",a),new Error(a)}throw s}},FR=async t=>_j(t),IR=async(t,e)=>{try{const n=new FormData;n.append("file",t),n.append("video_name",e);const r=await L2("/video/upload",{method:"POST",body:n});return{job_id:r.job_id,queue_position:r.queue_position,original_url:r.original_url||r.video_url||""}}catch(n){throw console.error("Error starting RunPod processing:",n),n}},BR=async()=>{try{await fetch(`${mg}/jobs/clear-completed`,{method:"POST"})}catch(t){throw console.error("Error clearing completed jobs:",t),t}},zR=async(t,e,n)=>{try{return await FR({video_name:e,original_filename:t.name,original_url:n,file_size:t.size,status:"processing",duration_seconds:0})}catch(r){throw console.error("Error creating video metadata record:",r),r}},$R=async(t,e)=>{var W,H,V,re,Z,C,D,K;const n=new et,r=n.internal.pageSize.width,i=n.internal.pageSize.height,s="Traffic Analysis Report",a=new Date().toLocaleDateString();n.setFontSize(24),n.setTextColor(6,182,212),n.text(s,r/2,40,{align:"center"}),n.setFontSize(14),n.setTextColor(100,100,100),n.text(`Generated on: ${a}`,r/2,55,{align:"center"}),n.setFontSize(12),n.setTextColor(6,182,212),n.text("Project 49 - Road Safety Analysis Platform",r/2,70,{align:"center"}),n.addPage(),n.setFontSize(20),n.setTextColor(0,0,0),n.text("Executive Summary",20,20),n.setFontSize(12),n.setTextColor(60,60,60);const o=Number(e.complianceRate)||0,l=Number(e.avgReactionTime)||0,c=Number(e.totalVehicles)||0,u=Number(e.violations)||0,h=o>=85?"Excellent":o>=70?"Good":o>=50?"Fair":"Poor",p=l<=2?"Excellent":l<=3?"Good":l<=4?"Fair":"Needs Improvement",f=["Analysis Overview:",`This comprehensive traffic analysis report examines ${c} vehicles across multiple`,"monitoring sessions, providing insights into road user behavior and compliance patterns.","","Key Findings:",`• Overall Compliance Rate: ${o.toFixed(1)}% (${h})`,`• Average Reaction Time: ${l.toFixed(2)}s (${p})`,`• Total Violations Detected: ${u}`,`• Peak Violation Period: ${e.peakViolationHour||"Not determined"}`,`• Analysis Period: ${e.analysisStartDate||"N/A"} to ${e.analysisEndDate||"N/A"}`,"","Performance Assessment:",o>=85?`The compliance rate of ${o.toFixed(1)}% indicates excellent road safety performance,`:o>=70?`The compliance rate of ${o.toFixed(1)}% shows good safety performance with room for improvement.`:`The compliance rate of ${o.toFixed(1)}% indicates significant safety concerns requiring immediate attention.`,"",l<=3?"Average reaction times are within acceptable safety parameters.":"Reaction times exceed recommended thresholds, suggesting potential safety risks."];let v=40;f.forEach(B=>{B.startsWith("•")?(n.setFontSize(11),n.text(B,25,v)):B.includes(":")&&!B.includes("•")?(n.setFontSize(12),n.setTextColor(6,182,212),n.text(B,20,v),n.setTextColor(60,60,60)):(n.setFontSize(11),n.text(B,20,v)),v+=B===""?5:7}),n.addPage(),n.setFontSize(20),n.text("Traffic Flow Patterns",20,20);const w=t.reduce((B,U)=>{if(!U.date)return B;const ie=jf(Lf(U.date),"EEEE");return B[ie]||(B[ie]={total:0,violations:0}),B[ie].total++,U.compliance===0&&B[ie].violations++,B},{});if(Object.keys(w).length>0){const B=await uo("bar",{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"Total Traffic Volume",data:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(U=>{var ie;return((ie=w[U])==null?void 0:ie.total)||0}),backgroundColor:"#06B6D4",borderColor:"#0891B2",borderWidth:1},{label:"Violations",data:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(U=>{var ie;return((ie=w[U])==null?void 0:ie.violations)||0}),backgroundColor:"#EF4444",borderColor:"#DC2626",borderWidth:1}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Weekly Traffic Flow and Violations"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Vehicles"}},x:{title:{display:!0,text:"Day of Week"}}}},700,400);B&&n.addImage(B,"PNG",10,40,190,110)}n.setFontSize(12),n.setTextColor(60,60,60);let k=160;const y=Object.keys(w).reduce((B,U)=>{var ie,se;return(((ie=w[B])==null?void 0:ie.total)||0)>(((se=w[U])==null?void 0:se.total)||0)?B:U},"Monday"),b=Object.keys(w).reduce((B,U)=>{var ie,se;return(((ie=w[B])==null?void 0:ie.total)||0)<(((se=w[U])==null?void 0:se.total)||0)?B:U},"Monday");["Traffic Flow Analysis:",`• Peak Traffic Day: ${y} (${((W=w[y])==null?void 0:W.total)||0} vehicles)`,`• Lowest Traffic Day: ${b} (${((H=w[b])==null?void 0:H.total)||0} vehicles)`,`• Weekend vs Weekday Pattern: ${(((V=w.Saturday)==null?void 0:V.total)||0)+(((re=w.Sunday)==null?void 0:re.total)||0)>(((Z=w.Monday)==null?void 0:Z.total)||0)+(((C=w.Tuesday)==null?void 0:C.total)||0)?"Higher weekend traffic observed":"Higher weekday traffic observed"}`].forEach(B=>{B.includes(":")&&!B.includes("•")?(n.setFontSize(12),n.setTextColor(6,182,212),n.text(B,20,k),n.setTextColor(60,60,60)):(n.setFontSize(11),n.text(B,20,k)),k+=8}),n.addPage(),n.setFontSize(20),n.text("Compliance Overview",20,20);const P=await uo("pie",{labels:["Compliant","Violations"],datasets:[{data:[e.totalVehicles-e.violations,e.violations],backgroundColor:["#10B981","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},{plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:"Overall Compliance Rate"}}});P&&n.addImage(P,"PNG",20,40,100,100),n.setFontSize(12),n.setTextColor(60,60,60);const O=c>0?((c-u)/c*100).toFixed(1):"0.0";if(n.text(`Compliance Rate: ${O}%`,130,60),n.text(`Total Compliant: ${c-u}`,130,75),n.text(`Total Violations: ${u}`,130,90),n.text(`Sample Size: ${c} vehicles`,130,105),n.addPage(),n.setFontSize(20),n.text("Vehicle Type Analysis",20,20),e.vehicleTypeStats&&e.vehicleTypeStats.length>0){const B=await uo("bar",{labels:e.vehicleTypeStats.map(U=>U.type),datasets:[{label:"Total Vehicles",data:e.vehicleTypeStats.map(U=>U.total),backgroundColor:"#06B6D4",borderColor:"#0891B2",borderWidth:1},{label:"Violations",data:e.vehicleTypeStats.map(U=>U.violations),backgroundColor:"#EF4444",borderColor:"#DC2626",borderWidth:1}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Vehicle Types: Total vs Violations"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Vehicles"}},x:{title:{display:!0,text:"Vehicle Type"}}}},700,400);B&&n.addImage(B,"PNG",10,40,190,110)}if(n.addPage(),n.setFontSize(20),n.text("Reaction Time Analysis",20,20),e.vehicleTypeStats&&e.vehicleTypeStats.length>0){const B=await uo("bar",{labels:e.vehicleTypeStats.map(U=>U.type),datasets:[{label:"Average Reaction Time (seconds)",data:e.vehicleTypeStats.map(U=>U.avgReactionTime),backgroundColor:"#8B5CF6",borderColor:"#7C3AED",borderWidth:1}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Average Reaction Time by Vehicle Type"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Reaction Time (seconds)"}},x:{title:{display:!0,text:"Vehicle Type"}}}},700,400);B&&n.addImage(B,"PNG",10,40,190,110)}n.addPage(),n.setFontSize(20),n.text("Hourly Analysis",20,20);const I=t.reduce((B,U)=>{if(!U.date)return B;const ie=jf(Lf(U.date),"HH:00");return B[ie]||(B[ie]={total:0,violations:0}),B[ie].total++,U.compliance===0&&B[ie].violations++,B},{});if(Object.keys(I).length>0){const B=await uo("line",{labels:Object.keys(I),datasets:[{label:"Total Vehicles",data:Object.values(I).map(U=>U.total),borderColor:"#06B6D4",backgroundColor:"rgba(6, 182, 212, 0.1)",fill:!1,tension:.4},{label:"Violations",data:Object.values(I).map(U=>U.violations),borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!1,tension:.4}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Traffic Volume and Violations by Hour"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Vehicles"}},x:{title:{display:!0,text:"Hour of Day"}}}},700,400);B&&n.addImage(B,"PNG",10,40,190,110)}const T=t.filter(B=>B.weather_condition);if(T.length>0){n.addPage(),n.setFontSize(20),n.text("Weather Impact Analysis",20,20);const B=T.reduce((ie,se)=>{const le=se.weather_condition;return ie[le]||(ie[le]={total:0,violations:0}),ie[le].total++,se.compliance===0&&ie[le].violations++,ie},{}),U=await uo("bar",{labels:Object.keys(B),datasets:[{label:"Total Vehicles",data:Object.values(B).map(ie=>ie.total),backgroundColor:"#06B6D4",borderWidth:1},{label:"Violations",data:Object.values(B).map(ie=>ie.violations),backgroundColor:"#EF4444",borderWidth:1}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Traffic Behavior by Weather Condition"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Vehicles"}},x:{title:{display:!0,text:"Weather Condition"}}}},700,400);U&&n.addImage(U,"PNG",10,40,190,110)}const N=t.reduce((B,U)=>{if(!U.date)return B;const ie=jf(Lf(U.date),"MMM yyyy");return B[ie]||(B[ie]={total:0,violations:0}),B[ie].total++,U.compliance===0&&B[ie].violations++,B},{});if(Object.keys(N).length>1){n.addPage(),n.setFontSize(20),n.text("Monthly Trend Analysis",20,20);const B=await uo("line",{labels:Object.keys(N),datasets:[{label:"Compliance Rate (%)",data:Object.values(N).map(U=>((U.total-U.violations)/U.total*100).toFixed(1)),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4}]},{plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Compliance Rate Trend Over Time"}},scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Compliance Rate (%)"}},x:{title:{display:!0,text:"Month"}}}},700,400);B&&n.addImage(B,"PNG",10,40,190,110)}n.addPage(),n.setFontSize(20),n.text("Methodology and Data Sources",20,20),n.setFontSize(12),n.setTextColor(60,60,60);const E=["Data Collection Methodology:","","This analysis is based on advanced computer vision technology and artificial intelligence","algorithms designed to monitor and analyze road user behavior at level crossings.","","Key Technologies:","• YOLOv8 (You Only Look Once) - State-of-the-art object detection algorithm","• Computer Vision Processing - Real-time video analysis and tracking","• Machine Learning Classification - Automated behavior pattern recognition","• Statistical Analysis - Comprehensive data processing and trend identification","","Data Sources:","• High-definition traffic monitoring cameras","• Continuous 24/7 video surveillance systems","• Weather monitoring stations (when available)","• Automated vehicle detection and classification systems","","Analysis Parameters:","• Vehicle Detection: Automated identification of cars, trucks, motorcycles, and other vehicles","• Compliance Monitoring: Real-time assessment of traffic rule adherence","• Reaction Time Measurement: Precise calculation of driver response times","• Behavioral Classification: Categorization of compliant vs. non-compliant behavior","","Quality Assurance:","• Multi-stage validation of detection accuracy","• Statistical significance testing for all reported metrics","• Continuous calibration of detection algorithms","• Regular validation against manual observation samples"];let M=40;E.forEach(B=>{B.includes(":")&&!B.includes("•")?(n.setFontSize(12),n.setTextColor(6,182,212),n.text(B,20,M),n.setTextColor(60,60,60)):B.startsWith("•")?(n.setFontSize(11),n.text(B,25,M)):(n.setFontSize(11),n.text(B,20,M)),M+=B===""?5:7}),n.addPage(),n.setFontSize(20),n.text("Detailed Statistics",20,20);const j=e.vehicleTypeStats&&e.vehicleTypeStats.length>0?e.vehicleTypeStats.map(B=>[B.type,B.total,B.compliant,B.violations,`${B.avgReactionTime.toFixed(2)}s`,`${(B.compliant/B.total*100).toFixed(1)}%`]):[["No data","0","0","0","0s","0%"]];n.autoTable({startY:30,head:[["Vehicle Type","Total","Compliant","Violations","Avg RT","Compliance"]],body:j,theme:"grid",headStyles:{fillColor:[6,182,212]},styles:{fontSize:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:25}}}),n.addPage(),n.setFontSize(20),n.text("Key Performance Indicators",20,20);const A=[{metric:"Overall Compliance Rate",value:`${o.toFixed(1)}%`,target:"≥85%",status:o>=85?"Good":"Needs Improvement"},{metric:"Average Reaction Time",value:`${l.toFixed(2)}s`,target:"≤3.0s",status:l<=3?"Good":"Needs Improvement"},{metric:"Total Violations",value:u.toString(),target:"Minimize",status:"Monitor"},{metric:"Sample Size",value:c.toString(),target:"≥1000",status:c>=1e3?"Adequate":"Limited"}];n.autoTable({startY:40,head:[["KPI","Current Value","Target","Status"]],body:A.map(B=>[B.metric,B.value,B.target,B.status]),theme:"grid",headStyles:{fillColor:[6,182,212]},styles:{fontSize:11},columnStyles:{3:{cellWidth:30,fontStyle:"bold"}}}),n.addPage(),n.setFontSize(20),n.text("Analysis & Recommendations",20,20);const Y=e.vehicleTypeStats&&e.vehicleTypeStats.length>0?e.vehicleTypeStats.reduce((B,U)=>U.complianceRate<B.complianceRate?U:B):null,z=e.vehicleTypeStats&&e.vehicleTypeStats.length>0?e.vehicleTypeStats.reduce((B,U)=>U.complianceRate>B.complianceRate?U:B):null,ne=[{finding:"Overall Safety Performance Assessment",description:`Current compliance rate of ${o.toFixed(1)}% ${o>=85?"exceeds industry safety standards":o>=70?"meets basic safety requirements but has room for improvement":"falls below recommended safety thresholds and requires immediate attention"}. Average reaction time of ${l.toFixed(2)}s ${l<=3?"is within acceptable parameters":"exceeds recommended response times"}.`,recommendation:o>=85?"Maintain current safety protocols and continue regular monitoring to sustain high performance levels.":o>=70?"Implement targeted safety improvements focusing on the identified risk areas. Consider enhanced signage and driver education programs.":"Urgent intervention required. Implement comprehensive safety measures including enhanced enforcement, improved signage, and immediate driver awareness campaigns."},{finding:"Vehicle Type Performance Analysis",description:Y&&z?`${Y.type} vehicles show the lowest compliance rate at ${(Y.complianceRate||0).toFixed(1)}%, while ${z.type} vehicles demonstrate the highest compliance at ${(z.complianceRate||0).toFixed(1)}%. This ${((z.complianceRate||0)-(Y.complianceRate||0)).toFixed(1)}% difference indicates significant behavioral variations between vehicle types.`:"Vehicle type analysis requires additional data for comprehensive assessment.",recommendation:Y?`Develop targeted safety interventions specifically for ${Y.type} operators. Consider vehicle-specific signage, enhanced training programs, and focused enforcement during peak ${Y.type} traffic periods. Study successful compliance strategies used for ${(z==null?void 0:z.type)||"high-performing"} vehicles and adapt them for ${Y.type} operators.`:"Collect additional vehicle type data to enable targeted safety interventions."},{finding:"Peak Risk Period Identification",description:`Analysis reveals ${e.peakViolationHour?`peak violation activity at ${e.peakViolationHour}`:"distributed violation patterns throughout monitoring periods"}. ${Object.keys(w).length>0?`Weekly patterns show ${y} as the highest risk day with ${((D=w[y])==null?void 0:D.violations)||0} violations out of ${((K=w[y])==null?void 0:K.total)||0} total vehicles.`:"Additional temporal data needed for comprehensive risk period analysis."}`,recommendation:e.peakViolationHour?`Implement enhanced monitoring and enforcement protocols during ${e.peakViolationHour} and surrounding peak periods. Deploy additional safety personnel and consider dynamic warning systems that activate during high-risk timeframes. Analyze traffic flow patterns to understand underlying causes of increased violations during these periods.`:"Establish continuous monitoring to identify peak risk periods and develop time-specific safety interventions."},{finding:"Reaction Time and Warning System Effectiveness",description:`Current average reaction time of ${l.toFixed(2)}s ${l<=2?"demonstrates excellent driver responsiveness to warning systems":l<=3?"indicates adequate but improvable driver response times":"suggests potential issues with warning system visibility, timing, or driver awareness"}. ${Y?`${Y.type} vehicles show the slowest average reaction time of ${(Y.avgReactionTime||0).toFixed(2)}s.`:""}`,recommendation:l<=3?"Current warning systems are performing effectively. Continue regular maintenance and consider minor optimizations based on vehicle-specific response patterns.":`Warning system requires immediate evaluation and enhancement. Consider: 1) Increasing warning signal visibility and audibility, 2) Implementing earlier warning activation, 3) Adding redundant warning methods, 4) Conducting driver education on proper response procedures. ${Y?`Special attention needed for ${Y.type} vehicle operators.`:""}`},{finding:"Data Quality and Monitoring Coverage",description:`Analysis based on ${c} vehicle observations ${c>=1e3?"provides statistically significant insights":c>=500?"offers meaningful trends but would benefit from larger sample size":"represents limited data that may not capture full behavioral patterns"}. ${T.length>0?"Weather impact data available for enhanced analysis.":"Weather correlation data not available for this period."}`,recommendation:c>=1e3?"Current monitoring coverage is adequate. Maintain consistent data collection protocols and consider expanding analysis to include seasonal variations and weather impact studies.":"Expand monitoring duration and coverage to achieve statistically robust sample sizes (target: >1000 observations). Implement weather monitoring integration to understand environmental impact on driver behavior. Consider additional monitoring locations for comprehensive area coverage."}];let G=40;return ne.forEach(B=>{n.setFontSize(14),n.setTextColor(6,182,212),n.text(B.finding,20,G),n.setFontSize(12),n.setTextColor(60,60,60);const U=n.splitTextToSize(B.description,r-40);n.text(U,20,G+7),n.setFontSize(11),n.setTextColor(40,40,40),n.text("Recommended Actions:",20,G+7+U.length*5+5);const ie=n.splitTextToSize(B.recommendation,r-40);n.text(ie,20,G+7+U.length*5+12),G+=40+U.length*5+ie.length*5,G>i-40&&(n.addPage(),G=20)}),n.setFontSize(10),n.setTextColor(100,100,100),n.text("Generated by Project 49 - Road Safety Analysis Platform",r/2,i-10,{align:"center"}),n.text(`Report generated on ${new Date().toLocaleString()}`,r/2,i-5,{align:"center"}),n},Db=["video/mp4","video/quicktime","video/x-msvideo","video/x-matroska","video/webm"],u0=t=>{if(!t)return"An unexpected error occurred";const e=t.message||t.toString();return e.includes("Failed to fetch")||e.includes("NetworkError")?"Unable to connect to the processing server. Please check your internet connection and try again.":e.includes("timeout")||e.includes("TIMEOUT")?"The request took too long to complete. Please try again.":e.includes("500")||e.includes("Internal Server Error")?"The processing server is experiencing issues. Please try again in a few minutes.":e.includes("404")||e.includes("Not Found")?"The requested service is not available. Please contact support if this continues.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions or contact support.":e.includes("WebSocket")?"Connection to the processing server was lost. Attempting to reconnect...":e.includes("file")||e.includes("upload")?"Failed to upload the file. Please check the file format and try again.":"Something went wrong. Please try again or contact support if the problem continues."};function UR(){const[t,e]=_e.useState(!1),[n,r]=_e.useState(!1),[i,s]=_e.useState(()=>On()==="dark"),[a,o]=_e.useState([]),[l,c]=_e.useState(!1),[u,h]=_e.useState({show:!1,message:"",type:"info"}),[p,f]=_e.useState([]),[v,w]=_e.useState({total_jobs:0,queue_length:0,queue_processor_running:!1}),[k,y]=_e.useState(""),[b,S]=_e.useState(!1),[P,O]=_e.useState(null),[I,T]=_e.useState(null),[N,E]=_e.useState("Connecting..."),[M,j]=_e.useState(!1),[A,Y]=_e.useState("connecting"),[z,ne]=_e.useState(""),G=_e.useRef(null),W=_e.useRef(null),H=_e.useRef(!0),V=_e.useRef(null);_e.useEffect(()=>{const ue=()=>{s(On()==="dark")};return window.addEventListener("themeChanged",ue),D(),()=>{window.removeEventListener("themeChanged",ue),H.current=!1,Z(),G.current&&G.current.close(),W.current&&W.current.close()}},[]);const re=_e.useRef(),Z=()=>{re.current&&clearTimeout(re.current)},C=(ue,xe="info",ae=5e3)=>{Z(),h({show:!0,message:ue,type:xe,duration:ae}),re.current=setTimeout(()=>{h(Q=>({...Q,show:!1}))},ae)},D=()=>{Y("connecting"),j(!1),ne("");try{G.current&&(G.current.close(),G.current=null)}catch(ae){console.error("Error closing existing WebSocket:",ae)}const xe="https://cpsag04jw65we6-8000.proxy.runpod.net".replace(/^http/,"ws")+"/ws/jobs";G.current=new WebSocket(xe),G.current.onopen=()=>{console.log("Jobs WebSocket connected"),Y("connected"),j(!0),ne(""),C("Successfully connected to processing server","success",3e3)},G.current.onmessage=ae=>{try{const Q=JSON.parse(ae.data);Q&&Q.status==="success"&&(w(Q.summary),f(Q.all_jobs||[]))}catch(Q){console.error("Error parsing WebSocket message:",Q)}},G.current.onerror=ae=>{const Q=u0(ae);Y("error"),j(!1),ne(Q),H.current&&setTimeout(()=>{H.current&&(console.log("Attempting to reconnect to jobs WebSocket..."),D())},3e3)},G.current.onclose=()=>{console.log("Jobs WebSocket closed"),Y("disconnected"),j(!1),H.current&&ne("Connection lost. Attempting to reconnect..."),H.current&&setTimeout(()=>{H.current&&(console.log("Attempting to reconnect to jobs WebSocket..."),D())},3e3)}},K=()=>{S(!1),O(null),T(null);try{W.current&&(W.current.close(),W.current=null)}catch(ue){console.error("Error closing stream WebSocket:",ue)}},B=async()=>{try{await BR(),C("Completed jobs cleared successfully","success")}catch(ue){const xe=u0(ue);console.error("Error clearing completed jobs:",xe),C(xe,"error")}},U=ue=>{const xe=Math.floor(ue%60),ae=Math.floor(ue/60)%60,Q=Math.floor(ue/3600);return`${Q>0?Q+":":""}${String(ae).padStart(2,"0")}:${String(xe).padStart(2,"0")}`},ie=(ue,xe)=>ue&&ue.length>xe?ue.slice(0,xe-1)+"…":ue||"",se=ue=>{const xe={queued:"bg-blue-500/10 text-blue-400",processing:"bg-yellow-500/10 text-yellow-400",completed:"bg-green-500/10 text-green-400",failed:"bg-red-500/10 text-red-400",cancelled:"bg-gray-500/10 text-gray-400"};return xe[ue]||xe.queued},le=async ue=>{if(ue.length!==0){if(!M){C("Cannot upload files because the processing server is not connected. Please wait for the connection to be restored or refresh the page.","error");return}c(!0),y("Uploading...");try{for(const xe of ue){if(!Db.includes(xe.type)){const je=`The file "${xe.name}" is not a supported video format. Please use MP4, MOV, AVI, MKV, or WebM files.`;C(je,"error"),y(je);continue}const ae=xe.name.replace(/\.[^/.]+$/,""),Q=await IR(xe,ae),Ge=await zR(xe,ae,Q.original_url);o(je=>[Ge,...je]),y(`Queued job ${Q.job_id} (pos ${Q.queue_position})`),C(`Successfully uploaded "${xe.name}" and added to processing queue`,"success")}}catch(xe){const ae=u0(xe);console.error("Processing error:",ae),C(`Processing failed: ${ae}`,"error"),y(`Processing failed: ${ae}`)}finally{c(!1)}}},ve=ue=>{ue.preventDefault(),e(!0)},ye=ue=>{ue.preventDefault(),e(!1)},Ce=ue=>{ue.preventDefault(),e(!1);const xe=Array.from(ue.dataTransfer.files);le(xe)};return m.jsxs("div",{className:`min-h-screen ${i?"bg-[#0B1121] text-white":"bg-gray-50 text-gray-900"}`,children:[m.jsx(Rh,{}),u.show&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-start space-x-3 max-w-md ${u.type==="success"?"bg-green-500":u.type==="error"?"bg-red-500":u.type==="warning"?"bg-yellow-500":"bg-blue-500"}`,children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.type==="success"?m.jsx(Zl,{className:"w-5 h-5"}):u.type==="error"?m.jsx(gh,{className:"w-5 h-5"}):u.type==="warning"?m.jsx(gh,{className:"w-5 h-5"}):m.jsx(Cf,{className:"w-5 h-5"})}),m.jsx("div",{className:"flex-1",children:m.jsx("span",{className:"text-white text-sm leading-relaxed",children:u.message})}),m.jsx("button",{onClick:()=>h(ue=>({...ue,show:!1})),className:"flex-shrink-0 text-white hover:text-gray-200 transition-colors",children:m.jsx(Ls,{className:"w-4 h-4"})})]}),m.jsx(ig,{title:"Video Upload",onToggleSidebar:()=>r(!n),isSidebarOpen:n}),m.jsx(sg,{activePath:"/upload",isOpen:n,onClose:()=>r(!1)}),m.jsx("main",{className:"lg:ml-64 p-4 lg:p-8 mt-16 lg:mt-0",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Upload Video for Analysis"}),m.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:"Supported formats: MP4, MOV, AVI, MKV, WebM"})]}),m.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 sm:p-8 md:p-12 mb-8 text-center transition-colors ${t?"border-primary-500 bg-primary-500/10":l?"border-yellow-400 bg-yellow-400/10":i?"border-gray-600 bg-gray-800/20 hover:border-gray-500":"border-gray-300 bg-gray-100/50 hover:border-gray-400"}`,onDragOver:ve,onDragLeave:ye,onDrop:Ce,children:[m.jsx("input",{ref:V,type:"file",accept:Db.join(","),multiple:!0,onChange:ue=>{le(ue.target.files?Array.from(ue.target.files):[])},disabled:l,hidden:!0}),l?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold mb-2 text-yellow-400",children:"Uploading..."}),m.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Please wait while your video is being uploaded"})]}):t?m.jsxs(m.Fragment,{children:[m.jsx(ec,{className:"w-12 h-12 mx-auto mb-4 text-primary-500"}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 text-primary-500",children:"Drop your videos here"}),m.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Release to upload your video files"})]}):m.jsxs(m.Fragment,{children:[m.jsx(ec,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-gray-400":"text-gray-500"}`}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Upload Videos for Analysis"}),m.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Drag and drop your video files here, or click to browse"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx("button",{onClick:()=>{var ue;return(ue=V.current)==null?void 0:ue.click()},className:`px-4 sm:px-6 py-2 rounded-lg transition-colors text-sm sm:text-base ${l||!M?"bg-gray-600 cursor-not-allowed opacity-50":"bg-primary-500 hover:bg-primary-600 text-white"}`,disabled:l||!M,title:M?"":"RunPod server not connected",children:l?"Uploading...":M?"Upload & Queue":"Server Disconnected"}),l&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-24 sm:w-32 bg-gray-200 rounded-full h-2 ${i?"bg-gray-700":"bg-gray-200"}`,children:m.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:"45%"}})}),m.jsx("span",{className:`text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"45%"})]})]})]}),m.jsxs("div",{className:`rounded-xl p-6 mb-8 ${i?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4 sm:gap-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Jobs"}),m.jsxs("span",{className:`text-xs sm:text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Total: ",v.total_jobs," | Queue: ",v.queue_length," | Running: ",v.queue_processor_running?"Yes":"No"]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[m.jsxs("span",{className:`text-xs sm:text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Auto-refresh: ",m.jsx("span",{className:"text-green-400",children:"On"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:D,className:`p-2 rounded-lg transition-colors ${i?"bg-[#1E293B] hover:bg-[#2D3B4E] text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Refresh",children:m.jsx(i2,{className:"w-4 h-4"})}),m.jsx("button",{onClick:B,className:`px-2 sm:px-3 py-2 text-xs sm:text-sm rounded-lg transition-colors ${i?"bg-[#1E293B] hover:bg-[#2D3B4E] text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Clear Completed"})]})]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full min-w-[600px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`border-b ${i?"border-gray-700":"border-gray-200"}`,children:[m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Job ID"}),m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"File"}),m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Status"}),m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Progress"}),m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Message"}),m.jsx("th",{className:`text-left py-2 sm:py-3 px-2 sm:px-4 font-medium text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Elapsed"})]})}),m.jsx("tbody",{children:p.sort((ue,xe)=>ue.status==="processing"?-1:1).map(ue=>{const xe=Math.max(0,Math.min(100,Math.round(ue.progress||0)));return m.jsxs("tr",{className:`border-b ${i?"border-gray-700":"border-gray-200"}`,children:[m.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 font-mono text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,children:ue.job_id}),m.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 text-xs sm:text-sm ${i?"text-gray-300":"text-gray-700"}`,title:ue.file_name,children:ie(ue.file_name,36)}),m.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se(ue.status)}`,children:ue.status})}),m.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4",children:m.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${i?"bg-gray-700":"bg-gray-200"}`,children:m.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${xe}%`}})})}),m.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 text-xs sm:text-sm ${i?"text-gray-400":"text-gray-600"}`,title:ue.message||"",children:ie(ue.message||"",40)}),m.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 text-xs sm:text-sm ${i?"text-gray-400":"text-gray-600"}`,children:U(ue.elapsed_time)})]},ue.job_id)})})]}),p.length===0&&m.jsx("div",{className:`text-center py-6 sm:py-8 text-sm sm:text-base ${i?"text-gray-400":"text-gray-600"}`,children:"No jobs found. Upload a video to get started."})]})]}),b&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:`rounded-xl p-4 sm:p-6 w-full max-w-4xl ${i?"bg-[#151F32] border border-[#1E293B]":"bg-white border border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-base sm:text-lg font-semibold truncate pr-4",children:["Live Stream - Job ",P]}),m.jsx("button",{onClick:K,className:`p-2 rounded-lg transition-colors ${i?"hover:bg-[#1E293B] text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:m.jsx(Ls,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"bg-black rounded-lg flex items-center justify-center min-h-[200px] sm:min-h-[300px] md:min-h-[360px]",children:I?m.jsx("img",{src:`data:image/jpeg;base64,${I}`,alt:"Live stream",className:"max-w-full max-h-full h-auto rounded object-contain"}):m.jsx("div",{className:`text-center text-sm sm:text-base ${i?"text-gray-400":"text-gray-600"}`,children:N})})]})}),a.length>0&&m.jsxs("div",{className:`rounded-xl p-6 ${i?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Recently Uploaded Videos"}),m.jsx("div",{className:"space-y-3",children:a.map(ue=>{var xe,ae;return m.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${i?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[m.jsx(ec,{className:"w-5 h-5 text-primary-500"}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:ue.video_name}),m.jsxs("p",{className:`text-xs sm:text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[ue.original_filename," • ",ue.file_size?`${(ue.file_size/1024/1024).toFixed(1)} MB`:"Unknown size"]})]})]}),m.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ue.status==="uploaded"?"bg-blue-500/10 text-blue-400":ue.status==="processing"?"bg-yellow-500/10 text-yellow-400":ue.status==="completed"?"bg-green-500/10 text-green-400":ue.status==="failed"?"bg-red-500/10 text-red-400":i?"bg-gray-500/10 text-gray-400":"bg-gray-500/10 text-gray-600"} whitespace-nowrap`,children:((xe=ue.status)==null?void 0:xe.charAt(0).toUpperCase())+((ae=ue.status)==null?void 0:ae.slice(1))||"Unknown"})})]},ue.id)})})]})]})})]})}const Fb="https://cpsag04jw65we6-8000.proxy.runpod.net";function WR(){const[t,e]=_e.useState(!1),[n,r]=_e.useState(()=>On()==="dark"),[i,s]=_e.useState([]),[a,o]=_e.useState(null),[l,c]=_e.useState(null),[u,h]=_e.useState(!0),[p,f]=_e.useState(!1),[v,w]=_e.useState("all"),[k,y]=_e.useState(""),[b,S]=_e.useState(""),[P,O]=_e.useState(""),[I,T]=_e.useState(""),[N,E]=_e.useState(""),[M,j]=_e.useState({totalVehicles:0,overallCompliance:0,avgReactionTime:0,weatherConditions:0}),A=Z=>{const C=Z.reduce((ue,xe)=>{const ae=xe.weather_condition||"unknown";return ue[ae]||(ue[ae]={compliant:0,total:0,reactionTimes:[]}),ue[ae].total++,xe.compliance===1&&(ue[ae].compliant++,xe.reaction_time&&ue[ae].reactionTimes.push(xe.reaction_time)),ue},{}),D=Object.entries(C).reduce((ue,[xe,ae])=>(ue[xe]={mean:ae.total>0?ae.compliant/ae.total:0,count:ae.total},ue),{}),K=Object.entries(C).reduce((ue,[xe,ae])=>(ue[xe]={mean:ae.reactionTimes.length>0?ae.reactionTimes.reduce((Q,Ge)=>Q+Ge,0)/ae.reactionTimes.length:0,count:ae.reactionTimes.length},ue),{}),B=Z.reduce((ue,xe)=>{const ae=xe.vehicle_type||"unknown";return ue[ae]||(ue[ae]={compliant:0,total:0}),ue[ae].total++,xe.compliance===1&&ue[ae].compliant++,ue},{}),U=Object.entries(B).reduce((ue,[xe,ae])=>(ue[xe]={mean:ae.total>0?ae.compliant/ae.total:0,count:ae.total},ue),{}),ie=Z.reduce((ue,xe)=>{if(!xe.date)return ue;const ae=new Date(xe.date).getHours().toString();return ue[ae]||(ue[ae]={compliant:0,total:0}),ue[ae].total++,xe.compliance===1&&ue[ae].compliant++,ue},{}),se=Object.entries(ie).reduce((ue,[xe,ae])=>(ue[xe]={mean:ae.total>0?ae.compliant/ae.total:0,count:ae.total},ue),{}),le=[],ve=Object.entries(D).sort(([,ue],[,xe])=>ue.mean-xe.mean)[0];ve&&ve[1].mean<.8&&le.push({category:"weather",type:"warning",message:`${ve[0]} weather shows lowest compliance rate at ${(ve[1].mean*100).toFixed(1)}%`,suggestion:"Consider enhanced warning systems during adverse weather conditions"});const ye=Object.entries(U).sort(([,ue],[,xe])=>ue.mean-xe.mean)[0];ye&&ye[1].mean<.8&&le.push({category:"vehicle_type",type:"critical",message:`${ye[0]} vehicles show lowest compliance rate at ${(ye[1].mean*100).toFixed(1)}%`,suggestion:"Target awareness campaigns for specific vehicle types with lower compliance"});const Ce=Object.entries(se).sort(([,ue],[,xe])=>ue.mean-xe.mean)[0];return Ce&&Ce[1].mean<.8&&le.push({category:"time",type:"info",message:`Hour ${Ce[0]}:00 shows lowest compliance rate at ${(Ce[1].mean*100).toFixed(1)}%`,suggestion:"Consider increased monitoring during peak violation hours"}),{weather_analysis:{weather_compliance:D,weather_reaction_time:K},basic_correlations:{speed_compliance_correlation:0,weather_compliance_correlation:0,vehicle_type_compliance:U,hour_compliance:se},recommendations:le}};_e.useEffect(()=>{ne();const Z=()=>{r(On()==="dark")};return window.addEventListener("themeChanged",Z),()=>window.removeEventListener("themeChanged",Z)},[]),_e.useEffect(()=>{v!=="all"&&ne()},[v,k,b]);const Y=()=>{const Z=new Date,C=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate());switch(v){case"7days":const D=new Date(C);return D.setDate(C.getDate()-7),{start:D,end:Z};case"30days":const K=new Date(C);return K.setDate(C.getDate()-30),{start:K,end:Z};case"90days":const B=new Date(C);return B.setDate(C.getDate()-90),{start:B,end:Z};case"custom":return k&&b?{start:new Date(k),end:new Date(b+"T23:59:59")}:null;default:return null}},z=Z=>{const C=Y();return C?Z.filter(D=>{if(!D.date)return!1;const K=new Date(D.date);return K>=C.start&&K<=C.end}):Z},ne=async()=>{try{h(!0);try{const K=await(await fetch(`${Fb}/analytics/all`)).json();if(K.status==="success"&&K.tracking_results){let B=K.tracking_results;B=z(B),s(B);const ie=await(await fetch(`${Fb}/correlation-analysis/`)).json();ie.status==="success"&&(o(ie.analysis),G(B.length,B,ie.analysis)),c(null);return}}catch{console.log("Backend not available, falling back to database")}const Z=await q3();let C=z(Z);if(s(C),C.length>0){const D=A(C);o(D),G(C.length,C,D)}else s([]),o(null),G(0,[],null);c(null)}catch(Z){console.error("Error loading analytics:",Z),c("Failed to load analytics data. Please try again."),s([]),o(null),G(0,[])}finally{h(!1)}},G=(Z,C,D)=>{const K=C.length,B=C.filter(ve=>ve.compliance===1).length,U=K>0?B/K*100:0,ie=C.filter(ve=>ve.compliance===1&&ve.reaction_time!==null&&ve.reaction_time!==void 0).map(ve=>ve.reaction_time),se=ie.length>0?ie.reduce((ve,ye)=>ve+ye,0)/ie.length:0,le=new Set(C.map(ve=>ve.weather_condition).filter(Boolean)).size;j({totalVehicles:K,overallCompliance:U,avgReactionTime:se,weatherConditions:le})},W=async()=>{if(i.length!==0)try{let Z=[...i];if(P&&(Z=Z.filter(C=>C.weather_condition===P)),I&&(Z=Z.filter(C=>C.vehicle_type===I)),N!==""&&(Z=Z.filter(C=>C.compliance===parseInt(N))),s(Z),Z.length>0){const C=A(Z);o(C),G(Z.length,Z,C)}else o(null),G(0,[],null)}catch{c("Unable to apply filters. Please try again.")}},H=()=>{O(""),T(""),E(""),w("all"),y(""),S(""),ne()},V=Z=>({weather:"🌤️",vehicle_type:"🚛",time:"⏰"})[Z]||"💡",re=async()=>{try{f(!0);const Z=i,C={totalVehicles:M.totalVehicles,complianceRate:M.overallCompliance,avgReactionTime:M.avgReactionTime,violations:M.totalVehicles-Math.round(M.totalVehicles*M.overallCompliance/100),peakViolationHour:"N/A",vehicleTypeStats:i.length>0?[{type:"car",total:i.filter(U=>U.vehicle_type==="car").length,compliant:i.filter(U=>U.vehicle_type==="car"&&U.compliance===1).length,violations:i.filter(U=>U.vehicle_type==="car"&&U.compliance===0).length,avgReactionTime:i.filter(U=>U.vehicle_type==="car"&&U.reaction_time).reduce((U,ie)=>U+(ie.reaction_time||0),0)/Math.max(1,i.filter(U=>U.vehicle_type==="car"&&U.reaction_time).length)},{type:"truck",total:i.filter(U=>U.vehicle_type==="truck").length,compliant:i.filter(U=>U.vehicle_type==="truck"&&U.compliance===1).length,violations:i.filter(U=>U.vehicle_type==="truck"&&U.compliance===0).length,avgReactionTime:i.filter(U=>U.vehicle_type==="truck"&&U.reaction_time).reduce((U,ie)=>U+(ie.reaction_time||0),0)/Math.max(1,i.filter(U=>U.vehicle_type==="truck"&&U.reaction_time).length)}].filter(U=>U.total>0):[]};console.log("Generating PDF report with metrics:",C);const D=await $R(Z,C),B=`Project49_Traffic_Analysis_Report_${new Date().toISOString().split("T")[0]}.pdf`;D.save(B)}catch(Z){console.error("Error generating report:",Z),c(`Failed to generate PDF report: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{f(!1)}};return m.jsxs("div",{className:`min-h-screen ${n?"bg-[#0B1121] text-white":"bg-gray-50 text-gray-900"}`,children:[m.jsx(Rh,{}),m.jsx(ig,{title:"Analytics",onToggleSidebar:()=>e(!t),isSidebarOpen:t}),m.jsx(sg,{activePath:"/analytics",isOpen:t,onClose:()=>e(!1)}),m.jsx("main",{className:"lg:ml-64 p-4 lg:p-8 mt-16 lg:mt-0",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-2xl lg:text-3xl font-bold mb-2",children:"Road Safety Analytics Dashboard"}),m.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"Analyze traffic patterns and generate comprehensive safety reports"})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[m.jsxs("div",{className:`p-6 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("div",{className:"text-3xl font-bold text-primary-500 mb-2",children:M.totalVehicles}),m.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Total Vehicles"})]}),m.jsxs("div",{className:`p-6 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:[M.overallCompliance.toFixed(1),"%"]}),m.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Overall Compliance"})]}),m.jsxs("div",{className:`p-6 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsxs("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:[M.avgReactionTime.toFixed(1),"s"]}),m.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Avg Reaction Time"})]}),m.jsxs("div",{className:`p-6 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:M.weatherConditions}),m.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Weather Conditions"})]})]}),m.jsxs("div",{className:`p-8 rounded-xl mb-8 ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"p-3 bg-primary-500/10 rounded-lg",children:m.jsx(y1,{className:"w-6 h-6 text-primary-500"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Data Analysis Controls"}),m.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"Filter and analyze traffic data by date range and conditions"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Date Range:"}),m.jsxs("select",{value:v,onChange:Z=>w(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"all",children:"All Time"}),m.jsx("option",{value:"7days",children:"Last 7 Days"}),m.jsx("option",{value:"30days",children:"Last 30 Days"}),m.jsx("option",{value:"90days",children:"Last 90 Days"}),m.jsx("option",{value:"custom",children:"Custom Range"})]})]}),v==="custom"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Start Date:"}),m.jsx("input",{type:"date",value:k,onChange:Z=>y(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"End Date:"}),m.jsx("input",{type:"date",value:b,onChange:Z=>S(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`})]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors",disabled:u,children:[m.jsx(i2,{className:"w-5 h-5"}),u?"Loading...":"Refresh Data"]}),m.jsx("button",{onClick:H,className:`px-4 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"} hover:bg-opacity-80 transition-colors`,disabled:u,children:"Reset All Filters"}),i.length>0&&m.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors",disabled:u||p,children:[m.jsx(dj,{className:"w-5 h-5"}),p?"Generating...":"Generate Report"]})]}),l&&m.jsx("div",{className:`mt-4 p-4 rounded-lg ${n?"bg-red-500/10 text-red-400":"bg-red-50 text-red-600"}`,children:l})]}),u?m.jsxs("div",{className:`p-8 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Loading Data"}),m.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"Loading job analytics..."})]}):i.length>0&&a?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(b1,{className:"w-5 h-5 text-primary-500"}),m.jsx("h2",{className:"text-lg font-semibold",children:"Advanced Filters"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Weather Condition:"}),m.jsxs("select",{value:P,onChange:Z=>O(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"",children:"All Weather"}),m.jsx("option",{value:"clear",children:"Clear"}),m.jsx("option",{value:"cloudy",children:"Cloudy"}),m.jsx("option",{value:"foggy",children:"Foggy"}),m.jsx("option",{value:"rainy",children:"Rainy"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Vehicle Type:"}),m.jsxs("select",{value:I,onChange:Z=>T(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"",children:"All Vehicles"}),m.jsx("option",{value:"car",children:"Car"}),m.jsx("option",{value:"truck",children:"Truck"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Compliance:"}),m.jsxs("select",{value:N,onChange:Z=>E(Z.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-[#1E293B] border-[#334155] text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"",children:"All"}),m.jsx("option",{value:"1",children:"Compliant"}),m.jsx("option",{value:"0",children:"Non-Compliant"})]})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("button",{onClick:W,className:"w-full px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Apply Filters"})})]})]}),m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"🌤️ Weather Impact Analysis"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Weather Compliance Rates"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"weatherComplianceChart"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Weather Reaction Times"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"weatherReactionChart"})})]})]})]}),m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"🚛 Vehicle Type Analysis"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Vehicle Compliance Comparison"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"vehicleChart"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Vehicle Distribution"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"vehicleDistributionChart"})})]})]})]}),m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"⏰ Time-based Analysis"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Hourly Compliance Rates"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"hourlyChart"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Traffic Volume by Hour"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"trafficVolumeChart"})})]})]})]}),m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"🔥 Correlation Heatmap"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Weather vs Vehicle Type Heatmap"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{id:"weatherVehicleHeatmap",className:"min-h-[200px] min-w-[400px] border rounded-lg p-4"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-md font-medium mb-4",children:"Time vs Weather Heatmap"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{id:"timeWeatherHeatmap",className:"min-h-[200px] min-w-[600px] border rounded-lg p-4"})})]})]})]}),a.recommendations&&m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"💡 Actionable Insights"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.recommendations.map((Z,C)=>m.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${Z.type==="warning"?"border-yellow-500 bg-yellow-500/10":Z.type==="critical"?"border-red-500 bg-red-500/10":"border-blue-500 bg-blue-500/10"}`,children:[m.jsxs("div",{className:"font-semibold mb-2",children:[V(Z.category)," ",Z.category.toUpperCase()]}),m.jsx("div",{className:`text-sm mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:Z.message}),m.jsxs("div",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["💡 ",Z.suggestion]})]},C))})]}),m.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"📊 Raw Data"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`border-b ${n?"border-gray-700":"border-gray-200"}`,children:[m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"ID"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Vehicle Type"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Status"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Compliance"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Reaction Time"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Weather"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Temperature"}),m.jsx("th",{className:`text-left py-3 px-4 font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Date"})]})}),m.jsx("tbody",{children:i.slice(0,50).map((Z,C)=>m.jsxs("tr",{className:`border-b ${n?"border-gray-700":"border-gray-200"}`,children:[m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.tracker_id}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.vehicle_type}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.status}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.compliance===1?"✅":"❌"}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.reaction_time||"-"}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.weather_condition||"-"}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.temperature?`${Z.temperature}°C`:"-"}),m.jsx("td",{className:`py-3 px-4 ${n?"text-gray-300":"text-gray-700"}`,children:Z.date?jf(Lf(Z.date),"MMM dd, yyyy HH:mm"):"-"})]},C))})]})})]})]}):m.jsxs("div",{className:`p-8 rounded-xl text-center ${n?"bg-[#151F32]":"bg-white shadow-lg border border-gray-200"}`,children:[m.jsx(is,{className:`w-12 h-12 mx-auto mb-4 ${n?"text-gray-400":"text-gray-500"}`}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Data Available"}),m.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"No tracking data found for the selected date range. Try adjusting your filters or upload some videos for analysis."})]})]})}),i.length>0&&a&&m.jsx(HR,{analysisData:a,isDark:n})]})}function HR({analysisData:t,isDark:e}){return _e.useEffect(()=>{(async()=>{const r=(await us(async()=>{const{default:u}=await import("./auto-BJw6UB7-.js");return{default:u}},[])).default,i=document.getElementById("weatherComplianceChart");if(i){const u=r.getChart(i);u&&u.destroy(),new r(i,{type:"bar",data:{labels:Object.keys(t.weather_analysis.weather_compliance),datasets:[{label:"Compliance Rate (%)",data:Object.values(t.weather_analysis.weather_compliance).map(h=>h.mean*100),backgroundColor:["#4CAF50","#FF9800","#9C27B0","#2196F3"],borderColor:["#388E3C","#F57C00","#7B1FA2","#1976D2"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(h){return h+"%"},color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}},x:{ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}}}}})}const s=document.getElementById("weatherReactionChart");if(s){const u=r.getChart(s);u&&u.destroy(),new r(s,{type:"line",data:{labels:Object.keys(t.weather_analysis.weather_reaction_time),datasets:[{label:"Average Reaction Time (seconds)",data:Object.values(t.weather_analysis.weather_reaction_time).map(h=>h.mean),borderColor:"#FF5722",backgroundColor:"rgba(255, 87, 34, 0.1)",borderWidth:3,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Seconds",color:e?"#9CA3AF":"#6B7280"},ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}},x:{ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}}}}})}const a=document.getElementById("vehicleChart");if(a){const u=r.getChart(a);u&&u.destroy(),new r(a,{type:"doughnut",data:{labels:Object.keys(t.basic_correlations.vehicle_type_compliance).map(h=>`${h.charAt(0).toUpperCase()+h.slice(1)} (${(t.basic_correlations.vehicle_type_compliance[h].mean*100).toFixed(1)}%)`),datasets:[{data:Object.values(t.basic_correlations.vehicle_type_compliance).map(h=>h.mean*100),backgroundColor:["#4CAF50","#F44336"],borderWidth:2,borderColor:e?"#1F2937":"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:e?"#9CA3AF":"#6B7280"}}}}})}const o=document.getElementById("vehicleDistributionChart");if(o){const u=r.getChart(o);u&&u.destroy(),new r(o,{type:"pie",data:{labels:Object.keys(t.basic_correlations.vehicle_type_compliance),datasets:[{data:Object.values(t.basic_correlations.vehicle_type_compliance).map(h=>h.count),backgroundColor:["#2196F3","#FF9800"],borderWidth:2,borderColor:e?"#1F2937":"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:e?"#9CA3AF":"#6B7280"}}}}})}const l=document.getElementById("hourlyChart");if(l){const u=r.getChart(l);u&&u.destroy(),new r(l,{type:"bar",data:{labels:Object.keys(t.basic_correlations.hour_compliance),datasets:[{label:"Compliance Rate (%)",data:Object.values(t.basic_correlations.hour_compliance).map(h=>h.mean*100),backgroundColor:"rgba(52, 152, 219, 0.8)",borderColor:"#3498db",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(h){return h+"%"},color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}},x:{title:{display:!0,text:"Hour of Day",color:e?"#9CA3AF":"#6B7280"},ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}}}}})}const c=document.getElementById("trafficVolumeChart");if(c){const u=r.getChart(c);u&&u.destroy(),new r(c,{type:"line",data:{labels:Object.keys(t.basic_correlations.hour_compliance),datasets:[{label:"Traffic Volume",data:Object.values(t.basic_correlations.hour_compliance).map(h=>h.count),borderColor:"#27AE60",backgroundColor:"rgba(39, 174, 96, 0.1)",borderWidth:3,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Vehicles",color:e?"#9CA3AF":"#6B7280"},ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}},x:{title:{display:!0,text:"Hour of Day",color:e?"#9CA3AF":"#6B7280"},ticks:{color:e?"#9CA3AF":"#6B7280"},grid:{color:e?"#374151":"#E5E7EB"}}}}})}})()},[t,e]),_e.useEffect(()=>{const n=document.getElementById("weatherVehicleHeatmap");if(n&&t){n.innerHTML="";const i=Object.keys(t.weather_analysis.weather_compliance),s=Object.keys(t.basic_correlations.vehicle_type_compliance),a=document.createElement("div");a.className="grid gap-1",a.style.gridTemplateColumns=`repeat(${i.length+1}, minmax(80px, 1fr))`,a.appendChild(document.createElement("div")),i.forEach(o=>{const l=document.createElement("div");l.className=`text-xs font-medium p-2 text-center break-words ${e?"text-gray-300":"text-gray-700"}`,l.textContent=o,a.appendChild(l)}),s.forEach(o=>{const l=document.createElement("div");l.className=`text-xs font-medium p-2 break-words ${e?"text-gray-300":"text-gray-700"}`,l.textContent=o,a.appendChild(l),i.forEach(c=>{const u=t.weather_analysis.weather_compliance[c].mean,h=t.basic_correlations.vehicle_type_compliance[o].mean,p=(u+h)/2,f=document.createElement("div");f.className="text-xs p-2 text-center text-white rounded min-w-[60px]",f.style.backgroundColor=`rgba(52, 152, 219, ${p})`,f.textContent=`${(p*100).toFixed(0)}%`,f.title=`Weather: ${c}, Vehicle: ${o}, Correlation: ${(p*100).toFixed(1)}%`,a.appendChild(f)})}),n.appendChild(a)}const r=document.getElementById("timeWeatherHeatmap");if(r&&t){r.innerHTML="";const i=Object.keys(t.basic_correlations.hour_compliance),s=Object.keys(t.weather_analysis.weather_compliance),a=document.createElement("div");a.className="grid gap-1",a.style.gridTemplateColumns=`repeat(${Math.min(i.length+1,13)}, minmax(50px, 1fr))`,a.appendChild(document.createElement("div")),i.slice(0,12).forEach(o=>{const l=document.createElement("div");l.className=`text-xs font-medium p-1 text-center ${e?"text-gray-300":"text-gray-700"}`,l.textContent=`${o}:00`,a.appendChild(l)}),s.forEach(o=>{const l=document.createElement("div");l.className=`text-xs font-medium p-1 break-words ${e?"text-gray-300":"text-gray-700"}`,l.textContent=o,a.appendChild(l),i.slice(0,12).forEach(c=>{const u=t.basic_correlations.hour_compliance[c].mean,h=t.weather_analysis.weather_compliance[o].mean,p=(u+h)/2,f=document.createElement("div");f.className="text-xs p-1 text-center text-white rounded min-w-[40px]",f.style.backgroundColor=`rgba(231, 76, 60, ${p})`,f.textContent=`${(p*100).toFixed(0)}%`,f.title=`Hour: ${c}:00, Weather: ${o}, Correlation: ${(p*100).toFixed(1)}%`,a.appendChild(f)})}),r.appendChild(a)}},[t,e]),null}function qR(){const[t,e]=_e.useState(null),[n,r]=_e.useState(()=>On()==="dark"),[i,s]=_e.useState(!1),[a,o]=_e.useState(""),[l,c]=_e.useState("success"),[u,h]=_e.useState(!1),[p,f]=_e.useState(!1),[v,w]=_e.useState({displayName:"",email:""});_e.useEffect(()=>{Jt.auth.getUser().then(({data:{user:O}})=>{e(O),w(I=>{var T;return{...I,displayName:((T=O==null?void 0:O.user_metadata)==null?void 0:T.full_name)||"",email:(O==null?void 0:O.email)||""}})});const{data:{subscription:P}}=Jt.auth.onAuthStateChange((O,I)=>{const T=I==null?void 0:I.user;e(T),T&&w(N=>{var E;return{...N,displayName:((E=T.user_metadata)==null?void 0:E.full_name)||"",email:T.email||""}})});return()=>P.unsubscribe()},[]);const k=(P,O)=>{o(P),c(O),s(!0),setTimeout(()=>s(!1),3e3)},y=async P=>{P.preventDefault(),h(!0);try{const{error:O}=await Jt.auth.updateUser({email:v.email,data:{full_name:v.displayName}});if(O)throw O;k("Profile updated successfully","success")}catch(O){k(O.message,"error")}finally{h(!1)}},b=async()=>{if(!v.email){k("Please enter your email address first","error");return}h(!0);try{const{error:P}=await Jt.auth.resetPasswordForEmail(v.email,{redirectTo:`${window.location.origin}/auth`});if(P)throw P;k("Password reset email sent successfully","success")}catch(P){k(P.message,"error")}finally{h(!1)}},S=()=>{const P=M3(n?"dark":"light");r(P==="dark")};return m.jsxs("div",{className:`min-h-screen ${n?"bg-[#0B1121] text-white":"bg-gray-50 text-gray-900"}`,children:[m.jsx(Rh,{}),i&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 ${l==="success"?"bg-green-500":"bg-red-500"}`,children:[l==="success"?m.jsx(Zl,{className:"w-5 h-5 text-white"}):m.jsx(gh,{className:"w-5 h-5 text-white"}),m.jsx("span",{className:"text-white",children:a})]}),m.jsx(ig,{title:"Settings",onToggleSidebar:()=>f(!p),isSidebarOpen:p}),m.jsx(sg,{activePath:"/settings",isOpen:p,onClose:()=>f(!1)}),m.jsx("main",{className:"lg:ml-64 p-4 lg:p-8 mt-16 lg:mt-0",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Settings"}),m.jsx("p",{className:`${n?"text-gray-400":"text-gray-600"}`,children:"Manage your account and preferences"})]}),m.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m.jsxs("div",{className:`${n?"bg-[#151F32]":"bg-white"} rounded-xl p-4 sm:p-6 ${n?"":"shadow-lg border border-gray-200"}`,children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6 flex items-center gap-2",children:[m.jsx(bj,{className:"w-5 h-5"}),"Profile Information"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium ${n?"text-gray-400":"text-gray-700"} mb-2`,children:"Display Name"}),m.jsx("input",{type:"text",value:v.displayName,onChange:P=>w({...v,displayName:P.target.value}),className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base ${n?"bg-[#1E293B] border-[#2D3B4E] text-white":"bg-gray-50 border-gray-300 text-gray-900"} border rounded-lg focus:outline-none focus:border-primary-400`,placeholder:"Enter your display name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium ${n?"text-gray-400":"text-gray-700"} mb-2`,children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(B3,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`}),m.jsx("input",{type:"email",value:v.email,onChange:P=>w({...v,email:P.target.value}),className:`w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 text-sm sm:text-base ${n?"bg-[#1E293B] border-[#2D3B4E] text-white":"bg-gray-50 border-gray-300 text-gray-900"} border rounded-lg focus:outline-none focus:border-primary-400`,placeholder:"Enter your email address"})]})]})]})]}),m.jsxs("div",{className:`${n?"bg-[#151F32]":"bg-white"} rounded-xl p-4 sm:p-6 ${n?"":"shadow-lg border border-gray-200"}`,children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6 flex items-center gap-2",children:[n?m.jsx($3,{className:"w-5 h-5"}):m.jsx(W3,{className:"w-5 h-5"}),"Appearance"]}),m.jsxs("div",{className:`flex items-center justify-between p-4 ${n?"bg-[#1E293B]":"bg-gray-50"} rounded-lg`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Dark Mode"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Use dark theme for better viewing experience"})]}),m.jsx("button",{type:"button",onClick:S,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-primary-500":"bg-gray-300"}`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})]}),m.jsxs("div",{className:`${n?"bg-[#151F32]":"bg-white"} rounded-xl p-4 sm:p-6 ${n?"":"shadow-lg border border-gray-200"}`,children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6 flex items-center gap-2",children:[m.jsx(pj,{className:"w-5 h-5"}),"Password"]}),m.jsx("div",{className:`p-4 ${n?"bg-[#1E293B]":"bg-gray-50"} rounded-lg`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-0",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Reset Password"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Send a password reset email to your registered email address"})]}),m.jsx("button",{type:"button",onClick:b,disabled:u,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-3 sm:px-4 py-2 rounded-lg transition-colors text-xs sm:text-sm font-medium whitespace-nowrap",children:u?"Sending...":"Reset Password"})]})})]}),m.jsx("div",{className:"flex justify-center sm:justify-end",children:m.jsxs("button",{type:"submit",disabled:u,className:"bg-primary-500 hover:bg-primary-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg transition-colors flex items-center gap-2 font-medium text-sm sm:text-base",children:[m.jsx(mj,{className:"w-5 h-5"}),u?"Saving...":"Save Changes"]})})]})]})})]})}gr.register(...kS);const h0=t=>{if(!t)return"An unexpected error occurred";const e=t.message||t.toString();return e.includes("Failed to fetch")||e.includes("NetworkError")?"Unable to connect to the processing server. Please check your internet connection and try again.":e.includes("timeout")||e.includes("TIMEOUT")?"The request took too long to complete. Please try again.":e.includes("500")||e.includes("Internal Server Error")?"The processing server is experiencing issues. Please try again in a few minutes.":e.includes("404")||e.includes("Not Found")?"The requested service is not available. Please contact support if this continues.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions or contact support.":"Something went wrong. Please try again or contact support if the problem continues."};function VR(){const[t,e]=_e.useState(!1),[n,r]=_e.useState(()=>On()==="dark"),[i,s]=_e.useState([]),[a,o]=_e.useState(!1),[l,c]=_e.useState(""),[u,h]=_e.useState(0),[p,f]=_e.useState(""),[v,w]=_e.useState(""),[k,y]=_e.useState("created_at"),[b,S]=_e.useState("true"),[P,O]=_e.useState(""),[I,T]=_e.useState(!1),[N,E]=_e.useState(null),[M,j]=_e.useState(!1),[A,Y]=_e.useState(""),[z,ne]=_e.useState(!1),[G,W]=_e.useState(null),[H,V]=_e.useState(""),[re,Z]=_e.useState(!1),[C,D]=_e.useState({id:null,name:null}),K=_e.useRef(null),B=_e.useRef(null),U=_e.useRef(null),ie=_e.useRef(null),se=_e.useRef(null),le=_e.useRef(null),ve=_e.useRef(null),[ye,Ce]=_e.useState({show:!1,message:"",type:"info"}),ue=_e.useRef();_e.useEffect(()=>{const ke=()=>{r(On()==="dark")};return window.addEventListener("themeChanged",ke),Q(7),Ge(),()=>{window.removeEventListener("themeChanged",ke),xe(),Ke()}},[]);const xe=()=>{ue.current&&clearTimeout(ue.current)},ae=(ke,Fe="info",ht=5e3)=>{xe(),Ce({show:!0,message:ke,type:Fe}),ue.current=setTimeout(()=>{Ce(rt=>({...rt,show:!1}))},ht)},Q=ke=>{const Fe=new Date,ht=Fe.toISOString().slice(0,10),kt=new Date(Fe.getTime()-ke*24*60*60*1e3).toISOString().slice(0,10);w(ht),f(kt)},Ge=async()=>{o(!0),c("Loading videos...");try{const ke=await Rb();if(ke.status!=="success")throw new Error(ke.error||"Failed to load videos");s(ke.data||[]),h(ke.count||0),c("")}catch(ke){const Fe=h0(ke);c(`Error: ${Fe}`),ae(Fe,"error")}finally{o(!1)}},je=async()=>{o(!0),c("Applying filters...");try{const Fe=await Rb({dateFrom:p||void 0,dateTo:v||void 0,orderBy:k||void 0,orderDesc:b||void 0});if(Fe.status!=="success")throw new Error(Fe.error||"Failed to apply filters");s(Fe.data||[]),h(Fe.count||0),c(""),ae("Filters applied successfully","success",3e3)}catch(ke){const Fe=h0(ke);c(`Error: ${Fe}`),ae(Fe,"error")}finally{o(!1)}},Se=async(ke,Fe)=>{T(!0),j(!0),Y(Fe),E(null);try{const ht=await MR(ke);if(ht.status!=="success")throw new Error(ht.error||"Failed to load video summary");E(ht),setTimeout(()=>{le.current&&(le.current.src=DR(ke))},100)}catch(ht){const rt=h0(ht);ae(rt,"error")}finally{j(!1)}},Oe=()=>{T(!1),E(null),Y(""),Ke(),le.current&&(le.current.pause(),le.current.src="")},De=()=>{ne(!1),W(null),Y(""),V(""),ve.current&&(ve.current.pause(),ve.current.src="")},Me=(ke,Fe)=>{D({id:ke,name:Fe}),Z(!0)},Ve=async()=>{if(C.id!==null){c("Deleting..."),Z(!1);try{const ke=await RR(C.id);if(ke.status!=="success")throw new Error(ke.error||"Failed to delete video");c("Video deleted successfully"),ae("Video deleted successfully","success"),await je(),setTimeout(()=>{c("")},2e3)}catch(ke){c(`Error: ${ke.message}`),console.error("Error deleting video:",ke)}finally{D({id:null,name:null})}}},Ye=()=>{Z(!1),D({id:null,name:null})},Ke=()=>{K.current&&(K.current.destroy(),K.current=null),B.current&&(B.current.destroy(),B.current=null),U.current&&(U.current.destroy(),U.current=null),ie.current&&(ie.current.destroy(),ie.current=null),se.current&&(se.current.destroy(),se.current=null)},Je=(ke,Fe)=>{if(!Fe||Fe.length===0)return;const ht={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:n?"#E5E7EB":"#374151",font:{family:"Inter, system-ui, sans-serif"}}}},scales:{x:{ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"#374151":"#E5E7EB"}},y:{ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"#374151":"#E5E7EB"}}}},rt={};for(const Mn of Fe){const jt=Mn.vehicle_type||"unknown";rt[jt]=(rt[jt]||0)+(Mn.count||0)}const kt=Object.keys(rt),Jn=kt.map(Mn=>rt[Mn]),dt=document.getElementById("vcChart");dt&&K.current&&K.current.destroy(),dt&&(K.current=new gr(dt.getContext("2d"),{type:"bar",data:{labels:kt,datasets:[{label:"Vehicle Count",data:Jn,backgroundColor:"#06B6D4",borderColor:"#0891B2",borderWidth:1,borderRadius:4}]},options:{...ht,plugins:{...ht.plugins,legend:{display:!1}}}}));let Dr=0,It=0;for(const Mn of ke||[])Mn.compliance===1?Dr++:It++;const Pn=document.getElementById("complianceChart");Pn&&B.current&&B.current.destroy(),Pn&&(B.current=new gr(Pn.getContext("2d"),{type:"doughnut",data:{labels:["Compliant","Non-Compliant"],datasets:[{data:[Dr,It],backgroundColor:["#10B981","#EF4444"],borderWidth:2,borderColor:n?"#1F2937":"#FFFFFF"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:n?"#E5E7EB":"#374151",font:{family:"Inter, system-ui, sans-serif"},padding:20}}}}}))},tt=ke=>{var st;const Fe={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"#374151":"#E5E7EB"}},y:{ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"#374151":"#E5E7EB"}}}},ht={};for(const at of ke||[]){const Rn=(at.weather_condition||"unknown").toLowerCase();ht[Rn]||(ht[Rn]={count:0,compliant:0,non:0}),ht[Rn].count+=1,at.compliance===1?ht[Rn].compliant+=1:ht[Rn].non+=1}const rt=Object.keys(ht);if(rt.length===0)return;const kt=rt.map(at=>ht[at].count),Jn=document.getElementById("weatherCountsChart");Jn&&U.current&&U.current.destroy(),Jn&&(U.current=new gr(Jn.getContext("2d"),{type:"bar",data:{labels:rt,datasets:[{label:"Detections",data:kt,backgroundColor:"#38BDF8",borderColor:"#0EA5E9",borderWidth:1,borderRadius:4}]},options:Fe}));const dt={};for(const at of ke||[]){const Rn=(at.weather_condition||"unknown").toLowerCase(),hn=parseFloat(((st=at.reaction_time)==null?void 0:st.toString())||"0");!isNaN(hn)&&hn>0&&(dt[Rn]||(dt[Rn]={sum:0,n:0}),dt[Rn].sum+=hn,dt[Rn].n+=1)}const Dr=Object.keys(dt),It=Dr.map(at=>dt[at].n>0?dt[at].sum/dt[at].n:0),Pn=document.getElementById("weatherReactionChart");Pn&&ie.current&&ie.current.destroy(),Pn&&(ie.current=new gr(Pn.getContext("2d"),{type:"bar",data:{labels:Dr,datasets:[{label:"Avg Reaction Time (s)",data:It,backgroundColor:"#F59E0B",borderColor:"#D97706",borderWidth:1,borderRadius:4}]},options:Fe}));const Mn=rt.map(at=>ht[at].count>0?ht[at].compliant/ht[at].count*100:0),jt=document.getElementById("weatherComplianceRateChart");jt&&se.current&&se.current.destroy(),jt&&(se.current=new gr(jt.getContext("2d"),{type:"bar",data:{labels:rt,datasets:[{label:"Compliance Rate (%)",data:Mn,backgroundColor:"#10B981",borderColor:"#059669",borderWidth:1,borderRadius:4}]},options:{...Fe,scales:{...Fe.scales,y:{...Fe.scales.y,beginAtZero:!0,max:100}}}}))};_e.useEffect(()=>{N&&I&&setTimeout(()=>{try{Je(N.tracking_data,N.vehicle_counts),tt(N.tracking_data)}catch(ke){console.error("Error building charts:",ke)}},100)},[N,I,n]);const vt=(ke,Fe)=>ke&&ke.length>Fe?ke.slice(0,Fe-1)+"…":ke||"",Qe=ke=>{const Fe=Math.floor(ke%60),ht=Math.floor(ke/60)%60,rt=Math.floor(ke/3600);return`${rt>0?rt+":":""}${String(ht).padStart(2,"0")}:${String(Fe).padStart(2,"0")}`},ut=ke=>{const Fe={uploaded:"bg-blue-500/10 text-blue-400 border border-blue-500/20",processing:"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20",completed:"bg-green-500/10 text-green-400 border border-green-500/20",failed:"bg-red-500/10 text-red-400 border border-red-500/20",cancelled:"bg-gray-500/10 text-gray-400 border border-gray-500/20"};return Fe[ke]||Fe.uploaded},Re=i.filter(ke=>ke.video_name.toLowerCase().includes(P.toLowerCase()));return m.jsxs("div",{className:`min-h-screen ${n?"bg-[#0B1121] text-white":"bg-gray-50 text-gray-900"}`,children:[m.jsx(Rh,{}),ye.show&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-start space-x-3 max-w-md backdrop-blur-sm border ${ye.type==="success"?"bg-green-500/90 border-green-400/20":ye.type==="error"?"bg-red-500/90 border-red-400/20":ye.type==="warning"?"bg-yellow-500/90 border-yellow-400/20":"bg-blue-500/90 border-blue-400/20"}`,children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:ye.type==="success"?m.jsx(is,{className:"w-5 h-5"}):ye.type==="error"?m.jsx(Ls,{className:"w-5 h-5"}):ye.type==="warning"?m.jsx(Cf,{className:"w-5 h-5"}):m.jsx(Cf,{className:"w-5 h-5"})}),m.jsx("div",{className:"flex-1",children:m.jsx("span",{className:"text-white text-sm leading-relaxed font-medium",children:ye.message})}),m.jsx("button",{onClick:()=>Ce(ke=>({...ke,show:!1})),className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:m.jsx(Ls,{className:"w-4 h-4"})})]}),m.jsx(ig,{title:"Video Playback",onToggleSidebar:()=>e(!t),isSidebarOpen:t}),m.jsx(sg,{activePath:"/playback",isOpen:t,onClose:()=>e(!1)}),m.jsx("main",{className:"lg:ml-64 p-4 lg:p-8 mt-16 lg:mt-0",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Video Playback & Analytics"}),m.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"Browse and analyze your processed videos"})]}),m.jsxs("div",{className:`rounded-2xl p-6 mb-8 backdrop-blur-sm border ${n?"bg-[#151F32]/80 border-[#1E293B]":"bg-white/80 shadow-xl border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-2 bg-primary-500/10 rounded-lg",children:m.jsx(b1,{className:"w-5 h-5 text-primary-500"})}),m.jsx("h2",{className:"text-xl font-semibold",children:"Advanced Filters"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:[m.jsx(yj,{className:"w-4 h-4 inline mr-2"}),"Search Videos"]}),m.jsx("input",{type:"text",value:P,onChange:ke=>O(ke.target.value),placeholder:"Search by video name...",className:`w-full px-4 py-3 rounded-lg border transition-all duration-200 ${n?"bg-[#1E293B] border-[#2D3B4E] text-white placeholder-gray-400 focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}`})]}),m.jsxs("div",{children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:[m.jsx(y1,{className:"w-4 h-4 inline mr-2"}),"From Date"]}),m.jsx("input",{type:"date",value:p,onChange:ke=>f(ke.target.value),className:`w-full px-4 py-3 rounded-lg border transition-all duration-200 ${n?"bg-[#1E293B] border-[#2D3B4E] text-white focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20":"bg-gray-50 border-gray-300 text-gray-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}`})]}),m.jsxs("div",{children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:[m.jsx(y1,{className:"w-4 h-4 inline mr-2"}),"To Date"]}),m.jsx("input",{type:"date",value:v,onChange:ke=>w(ke.target.value),className:`w-full px-4 py-3 rounded-lg border transition-all duration-200 ${n?"bg-[#1E293B] border-[#2D3B4E] text-white focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20":"bg-gray-50 border-gray-300 text-gray-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}`})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Sort By"}),m.jsxs("select",{value:k,onChange:ke=>y(ke.target.value),className:`w-full px-4 py-3 rounded-lg border transition-all duration-200 ${n?"bg-[#1E293B] border-[#2D3B4E] text-white focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20":"bg-gray-50 border-gray-300 text-gray-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}`,children:[m.jsx("option",{value:"created_at",children:"Created Date"}),m.jsx("option",{value:"upload_date",children:"Upload Date"}),m.jsx("option",{value:"duration_seconds",children:"Duration"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Order"}),m.jsxs("select",{value:b,onChange:ke=>S(ke.target.value),className:`w-full px-4 py-3 rounded-lg border transition-all duration-200 ${n?"bg-[#1E293B] border-[#2D3B4E] text-white focus:border-primary-400 focus:ring-2 focus:ring-primary-400/20":"bg-gray-50 border-gray-300 text-gray-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20"}`,children:[m.jsx("option",{value:"true",children:"Newest First"}),m.jsx("option",{value:"false",children:"Oldest First"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:je,disabled:a,className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-600 text-white rounded-lg transition-all duration-200 flex items-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[m.jsx(b1,{className:"w-4 h-4"}),"Apply Filters"]}),m.jsxs("button",{onClick:Ge,disabled:a,className:`px-6 py-3 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium ${n?"bg-[#1E293B] hover:bg-[#2D3B4E] text-gray-300 border border-[#2D3B4E]":"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300"}`,children:[m.jsx(i2,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),l&&m.jsx("div",{className:`text-sm font-medium ${l.includes("Error")?"text-red-400":l.includes("success")?"text-green-400":n?"text-gray-400":"text-gray-600"}`,children:l})]})]}),m.jsxs("div",{className:`rounded-2xl backdrop-blur-sm border overflow-hidden ${n?"bg-[#151F32]/80 border-[#1E293B]":"bg-white/80 shadow-xl border-gray-200"}`,children:[m.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-primary-500/10 rounded-lg",children:m.jsx(ec,{className:"w-5 h-5 text-primary-500"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Video Library"}),m.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:[Re.length," of ",u," videos ",P&&`matching "${P}"`]})]})]}),a&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-500"}),m.jsx("span",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Loading..."})]})]})}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:`${n?"bg-[#1E293B]":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Video Details"}),m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Status"}),m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Duration"}),m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Analytics"}),m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Created"}),m.jsx("th",{className:`text-left py-4 px-6 font-semibold ${n?"text-gray-300":"text-gray-700"}`,children:"Actions"})]})}),m.jsx("tbody",{children:Re.map((ke,Fe)=>{var ht,rt,kt;return m.jsxs("tr",{className:`border-b transition-colors hover:bg-opacity-50 ${n?"border-gray-700 hover:bg-[#1E293B]":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("td",{className:"py-4 px-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${n?"bg-[#1E293B]":"bg-gray-100"}`,children:m.jsx(ec,{className:"w-6 h-6 text-primary-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",title:ke.video_name,children:vt(ke.video_name||"Untitled Video",40)}),m.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["ID: ",ke.id]})]})]})}),m.jsx("td",{className:"py-4 px-6",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ut(ke.status)}`,children:((ht=ke.status)==null?void 0:ht.charAt(0).toUpperCase())+((rt=ke.status)==null?void 0:rt.slice(1))})}),m.jsx("td",{className:"py-4 px-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(F3,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:`font-medium ${n?"text-gray-300":"text-gray-700"}`,children:ke.duration_seconds!=null?Qe(ke.duration_seconds):"-"})]})}),m.jsx("td",{className:"py-4 px-6",children:m.jsxs("div",{className:"space-y-1",children:[ke.total_vehicles!=null&&m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:`text-xs ${n?"text-gray-400":"text-gray-600"}`,children:["Vehicles: ",m.jsx("span",{className:"font-medium text-primary-500",children:ke.total_vehicles})]})}),ke.compliance_rate!=null&&m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:`text-xs ${n?"text-gray-400":"text-gray-600"}`,children:["Compliance: ",m.jsxs("span",{className:`font-medium ${ke.compliance_rate>=80?"text-green-400":ke.compliance_rate>=60?"text-yellow-400":"text-red-400"}`,children:[ke.compliance_rate,"%"]})]})})]})}),m.jsx("td",{className:"py-4 px-6",children:m.jsx("span",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:((kt=ke.created_at)==null?void 0:kt.toString().replace("T"," ").replace("Z","").slice(0,16))||"-"})}),m.jsx("td",{className:"py-4 px-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>Se(ke.id,ke.video_name),className:"px-3 py-2 text-xs bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-all duration-200 flex items-center gap-1 font-medium shadow-sm hover:shadow-md",children:[m.jsx(Im,{className:"w-3 h-3"}),"Analytics"]}),m.jsxs("button",{onClick:()=>Me(ke.id,ke.video_name),className:"px-3 py-2 text-xs bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all duration-200 flex items-center gap-1 font-medium shadow-sm hover:shadow-md",children:[m.jsx(F5,{className:"w-3 h-3"}),"Delete"]})]})})]},ke.id)})})]}),Re.length===0&&!a&&m.jsxs("div",{className:`text-center py-12 ${n?"text-gray-400":"text-gray-600"}`,children:[m.jsx(ec,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),m.jsx("h3",{className:"text-lg font-medium mb-2",children:"No videos found"}),m.jsx("p",{className:"text-sm",children:P?`No videos match "${P}"`:"Upload a video to get started"})]})]})]})]})}),I&&m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:`rounded-2xl w-full max-w-7xl mx-auto max-h-[95vh] overflow-auto border shadow-2xl ${n?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 backdrop-blur-sm ${n?"border-[#1E293B] bg-[#151F32]/95":"border-gray-200 bg-white/95"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-primary-500/10 rounded-lg",children:m.jsx(Im,{className:"w-5 h-5 text-primary-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold",children:"Video Analytics Dashboard"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:A})]})]}),m.jsx("button",{onClick:Oe,className:`p-2 rounded-lg transition-colors ${n?"hover:bg-[#1E293B] text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:m.jsx(Ls,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6",children:M?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),m.jsx("p",{className:"text-lg font-medium",children:"Loading analytics..."}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Processing video data and generating insights"})]}):N?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:`rounded-xl p-6 ${n?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[m.jsx(dp,{className:"w-5 h-5 text-primary-500"}),"Video Playback"]}),m.jsx("div",{className:"text-center",children:m.jsx("video",{ref:le,controls:!0,autoPlay:!0,className:"w-full max-w-4xl h-auto rounded-xl bg-black shadow-2xl",children:"Your browser does not support the video tag."})})]})}),m.jsxs("div",{className:`mb-8 p-6 rounded-xl ${n?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[m.jsx(Cf,{className:"w-5 h-5 text-primary-500"}),"Video Information"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-[#0B1220]":"bg-white"} border ${n?"border-[#2D3B4E]":"border-gray-200"}`,children:[m.jsx("div",{className:`text-xs font-medium mb-2 uppercase tracking-wide ${n?"text-gray-400":"text-gray-600"}`,children:"Status"}),m.jsx("div",{className:"font-semibold text-lg",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${ut(N.video.status||"unknown")}`,children:N.video.status||"-"})})]}),m.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-[#0B1220]":"bg-white"} border ${n?"border-[#2D3B4E]":"border-gray-200"}`,children:[m.jsx("div",{className:`text-xs font-medium mb-2 uppercase tracking-wide ${n?"text-gray-400":"text-gray-600"}`,children:"Duration"}),m.jsx("div",{className:"font-semibold text-lg",children:N.video.duration_seconds!=null?Qe(N.video.duration_seconds):"-"})]}),m.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-[#0B1220]":"bg-white"} border ${n?"border-[#2D3B4E]":"border-gray-200"}`,children:[m.jsx("div",{className:`text-xs font-medium mb-2 uppercase tracking-wide ${n?"text-gray-400":"text-gray-600"}`,children:"Total Vehicles"}),m.jsx("div",{className:"font-semibold text-lg text-primary-500",children:N.video.total_vehicles||"-"})]}),m.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-[#0B1220]":"bg-white"} border ${n?"border-[#2D3B4E]":"border-gray-200"}`,children:[m.jsx("div",{className:`text-xs font-medium mb-2 uppercase tracking-wide ${n?"text-gray-400":"text-gray-600"}`,children:"Compliance Rate"}),m.jsx("div",{className:`font-semibold text-lg ${(N.video.compliance_rate||0)>=80?"text-green-400":(N.video.compliance_rate||0)>=60?"text-yellow-400":"text-red-400"}`,children:N.video.compliance_rate!=null?N.video.compliance_rate+"%":"-"})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[m.jsx(is,{className:"w-5 h-5 text-primary-500"}),"Raw Data Analysis"]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:`rounded-xl border ${n?"bg-[#1E293B] border-[#2D3B4E]":"bg-white border-gray-200"}`,children:[m.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("h5",{className:"font-semibold flex items-center gap-2",children:["Tracking Data (",N.tracking_data.length,")"]})}),m.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:`sticky top-0 ${n?"bg-[#1E293B]":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-left font-medium",children:"ID"}),m.jsx("th",{className:"p-3 text-left font-medium",children:"Type"}),m.jsx("th",{className:"p-3 text-left font-medium",children:"Status"}),m.jsx("th",{className:"p-3 text-left font-medium",children:"Compliance"})]})}),m.jsx("tbody",{children:N.tracking_data.slice(0,100).map((ke,Fe)=>m.jsxs("tr",{className:`border-b ${n?"border-gray-700":"border-gray-200"}`,children:[m.jsx("td",{className:"p-3 font-mono text-xs",children:ke.tracker_id}),m.jsx("td",{className:"p-3",children:ke.vehicle_type}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs ${ke.status==="moving"?"bg-blue-500/10 text-blue-400":"bg-gray-500/10 text-gray-400"}`,children:ke.status})}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`text-lg ${ke.compliance===1?"text-green-400":"text-red-400"}`,children:ke.compliance===1?"✅":"❌"})})]},Fe))})]}),N.tracking_data.length>100&&m.jsxs("div",{className:`p-3 text-center text-xs border-t ${n?"bg-[#1E293B] text-gray-400 border-gray-700":"bg-gray-50 text-gray-600 border-gray-200"}`,children:["Showing first 100 of ",N.tracking_data.length," records"]})]})]}),m.jsxs("div",{className:`rounded-xl border ${n?"bg-[#1E293B] border-[#2D3B4E]":"bg-white border-gray-200"}`,children:[m.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("h5",{className:"font-semibold flex items-center gap-2",children:["Vehicle Counts (",N.vehicle_counts.length,")"]})}),m.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:`sticky top-0 ${n?"bg-[#1E293B]":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-left font-medium",children:"Type"}),m.jsx("th",{className:"p-3 text-left font-medium",children:"Count"}),m.jsx("th",{className:"p-3 text-left font-medium",children:"Date"})]})}),m.jsx("tbody",{children:N.vehicle_counts.slice(0,100).map((ke,Fe)=>m.jsxs("tr",{className:`border-b ${n?"border-gray-700":"border-gray-200"}`,children:[m.jsx("td",{className:"p-3 font-medium",children:ke.vehicle_type}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:"px-2 py-1 bg-primary-500/10 text-primary-400 rounded text-xs font-medium",children:ke.count})}),m.jsx("td",{className:"p-3 text-xs font-mono",children:ke.date})]},Fe))})]}),N.vehicle_counts.length>100&&m.jsxs("div",{className:`p-3 text-center text-xs border-t ${n?"bg-[#1E293B] text-gray-400 border-gray-700":"bg-gray-50 text-gray-600 border-gray-200"}`,children:["Showing first 100 of ",N.vehicle_counts.length," records"]})]})]})]})]}),N.vehicle_counts.length>0&&m.jsx("div",{className:"space-y-8",children:m.jsxs("div",{children:[m.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[m.jsx(Im,{className:"w-5 h-5 text-primary-500"}),"Visual Analytics"]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:`p-6 rounded-xl border ${n?"bg-[#0B1220] border-[#1E293B]":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Vehicle Distribution"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"vcChart"})})]}),m.jsxs("div",{className:`p-6 rounded-xl border ${n?"bg-[#0B1220] border-[#1E293B]":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Compliance Overview"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"complianceChart"})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:`p-6 rounded-xl border ${n?"bg-[#0B1220] border-[#1E293B]":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Weather Impact - Detection Count"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"weatherCountsChart"})})]}),m.jsxs("div",{className:`p-6 rounded-xl border ${n?"bg-[#0B1220] border-[#1E293B]":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Weather Impact - Reaction Time"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"weatherReactionChart"})})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6",children:m.jsxs("div",{className:`p-6 rounded-xl border ${n?"bg-[#0B1220] border-[#1E293B]":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:`text-sm font-medium mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Weather Impact - Compliance Rate"}),m.jsx("div",{className:"h-64",children:m.jsx("canvas",{id:"weatherComplianceRateChart"})})]})})]})})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Ls,{className:"w-8 h-8 text-red-400"})}),m.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to load analytics"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Unable to retrieve video analytics data"})]})})]})}),z&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:`rounded-2xl w-full max-w-6xl mx-auto max-h-[95vh] overflow-auto border shadow-2xl ${n?"bg-[#151F32] border-[#1E293B]":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${n?"border-[#1E293B]":"border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-primary-500/10 rounded-lg",children:m.jsx(dp,{className:"w-5 h-5 text-primary-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold",children:"Video Player"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:A})]})]}),m.jsx("button",{onClick:De,className:`p-2 rounded-lg transition-colors ${n?"hover:bg-[#1E293B] text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:m.jsx(Ls,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"text-center",children:[m.jsx("video",{ref:ve,controls:!0,className:"w-full max-w-5xl h-auto rounded-xl bg-black shadow-2xl",onLoadStart:()=>V("Loading video..."),onCanPlay:()=>V(`Ready to play: ${A}`),onError:()=>V("Error loading video. Please check the URL."),children:"Your browser does not support the video tag."}),m.jsx("div",{className:`mt-4 text-sm font-medium ${H.includes("Error")?"text-red-400":H.includes("Ready")?"text-green-400":n?"text-gray-400":"text-gray-600"}`,children:H})]})})]})}),re&&C.id&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:`relative rounded-xl w-full max-w-md backdrop-blur-sm ${n?"bg-[#151F32]/95 border border-[#1E293B]":"bg-white/95 shadow-2xl border border-gray-200"}`,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"p-3 rounded-full bg-red-500/10",children:m.jsx(lj,{className:"w-6 h-6 text-red-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Deletion"}),m.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"This action cannot be undone"})]})]}),m.jsxs("div",{className:`p-4 rounded-lg mb-6 ${n?"bg-[#1E293B]":"bg-gray-50"}`,children:[m.jsxs("p",{className:`text-sm ${n?"text-gray-300":"text-gray-700"}`,children:["Are you sure you want to delete ",m.jsxs("strong",{children:['"',C.name,'"']}),"?"]}),m.jsx("p",{className:`text-xs mt-2 ${n?"text-gray-400":"text-gray-600"}`,children:"This will permanently delete the video and all associated tracking data and vehicle counts."})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:Ye,className:`flex-1 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 ${n?"bg-[#1E293B] hover:bg-[#2D3B4E] text-gray-300 border border-[#334155]":"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300"}`,children:"Cancel"}),m.jsxs("button",{onClick:Ve,className:"flex-1 px-4 py-2.5 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium transition-all duration-200 flex items-center justify-center gap-2",children:[m.jsx(F5,{className:"w-4 h-4"}),"Delete Video"]})]})]})})})]})}function YR(){const t=Th(),[e,n]=_e.useState(5);return _e.useEffect(()=>{const r=setInterval(()=>{n(i=>i<=1?(clearInterval(r),t("/"),0):i-1)},1e3);return()=>clearInterval(r)},[t]),m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0B1121] relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 neural-grid opacity-10"}),m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),m.jsxs("div",{className:"bg-[#151F32]/50 p-12 rounded-2xl border border-[#1E293B] backdrop-blur-sm text-center max-w-md w-full mx-4 relative",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"mx-auto w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mb-6",children:m.jsx(Zl,{className:"w-10 h-10 text-green-400 animate-pulse"})}),m.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Email Confirmed Successfully!"}),m.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"Thank you for confirming your email address. Your account has been successfully activated and you can now access all features of Project 49."}),m.jsxs("div",{className:"bg-[#1E293B] rounded-lg p-4 mb-6",children:[m.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Redirecting to home page in:"}),m.jsxs("div",{className:"text-2xl font-bold text-primary-400",children:[e," second",e!==1?"s":""]})]})]}),m.jsxs("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:[m.jsx(r2,{className:"w-5 h-5"}),"Go to Home Page Now"]})]})]})}function GR(){return m.jsx("div",{className:"fixed inset-0 bg-[#0B1121] flex items-center justify-center z-50",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 neural-grid opacity-20"}),m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"absolute animate-ping h-16 w-16 rounded-full bg-primary-400 opacity-20"}),m.jsx("div",{className:"absolute h-16 w-16 rounded-full bg-primary-400 opacity-10 animate-pulse"}),m.jsx("div",{className:"relative h-12 w-12 rounded-full bg-primary-400 animate-pulse flex items-center justify-center",children:m.jsx("div",{className:"h-8 w-8 rounded-full bg-[#0B1121] flex items-center justify-center",children:m.jsx("div",{className:"h-4 w-4 rounded-full bg-primary-400 animate-pulse"})})})]})}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-primary-400 text-lg font-medium animate-pulse",children:"Loading..."})})]})})}function JR(){const[t,e]=_e.useState(null),[n,r]=_e.useState(!0),[i,s]=_e.useState(!1);return _e.useEffect(()=>{sj(),(async()=>{try{const{data:{session:l},error:c}=await Jt.auth.getSession();c?(console.warn("Session retrieval error:",c.message),e(null)):e((l==null?void 0:l.user)??null)}catch(l){console.warn("Failed to get session:",l),e(null)}finally{r(!1)}})();const{data:{subscription:o}}=Jt.auth.onAuthStateChange((l,c)=>{e((c==null?void 0:c.user)??null),n&&r(!1)});return()=>o.unsubscribe()},[]),_e.useEffect(()=>{const a=()=>s(!0),o=()=>s(!1);return window.addEventListener("beforeunload",a),window.addEventListener("load",o),()=>{window.removeEventListener("beforeunload",a),window.removeEventListener("load",o)}},[]),n||i?m.jsx(GR,{}):m.jsx(DP,{children:m.jsxs(CP,{children:[m.jsx(Xi,{path:"/",element:m.jsx(wj,{})}),m.jsx(Xi,{path:"/dashboard",element:t?m.jsx(Pj,{}):m.jsx(io,{to:"/auth"})}),m.jsx(Xi,{path:"/upload",element:t?m.jsx(UR,{}):m.jsx(io,{to:"/auth"})}),m.jsx(Xi,{path:"/analytics",element:t?m.jsx(WR,{}):m.jsx(io,{to:"/auth"})}),m.jsx(Xi,{path:"/playback",element:t?m.jsx(VR,{}):m.jsx(io,{to:"/auth"})}),m.jsx(Xi,{path:"/settings",element:t?m.jsx(qR,{}):m.jsx(io,{to:"/auth"})}),m.jsx(Xi,{path:"/auth",element:t?m.jsx(io,{to:"/dashboard"}):m.jsx(rL,{})}),m.jsx(Xi,{path:"/confirmation-success",element:m.jsx(YR,{})}),m.jsx(Xi,{path:"*",element:m.jsx(io,{to:"/"})})]})})}X_(document.getElementById("root")).render(m.jsx(Be.StrictMode,{children:m.jsx(JR,{})}));export{mT as A,Ef as B,gr as C,Ri as D,Fi as E,zT as F,ks as G,BT as H,qT as I,en as J,pM as K,Of as L,or as M,cR as N,ns as O,$1 as P,TR as Q,Mf as R,Vo as S,ug as T,lr as U,Mt as V,Z1 as W,dO as _,tS as a,ku as b,Bf as c,aS as d,ZT as e,Tf as f,G1 as g,NM as h,hO as i,No as j,qM as k,XM as l,wa as m,J1 as n,K1 as o,wM as p,If as q,kS as r,Gu as s,Pu as t,Rf as u,eR as v,Ph as w,Q1 as x,ZM as y,lR as z};
